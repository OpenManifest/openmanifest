(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{103:function(e,n,r){"use strict";r.d(n,"a",(function(){return re})),r.d(n,"c",(function(){return oe})),r.d(n,"b",(function(){return le})),r.d(n,"d",(function(){return ie})),r.d(n,"e",(function(){return se}));var t=r(3),a=r.n(t),o=r(79),l=r(26),i=r(177),s=r(10),c=r(353),u=r.n(c),d=r(274),f=r(11),p=r.n(f),m={original:null,open:!1,fields:{amount:{value:null,error:null},status:{value:"deposit",error:null},message:{value:"",error:null}}},b=Object(l.b)({name:"forms/credits",initialState:m,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];t in e.fields&&e.fields[t].error&&(e.fields[t].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=m.fields):(e.original=n.payload,e.open=!0)},reset:function(e){e.fields=m.fields,e.original=null}}}),g={original:null,open:!1,fields:{federation:{value:null,error:null},name:{value:"",error:null},secondaryColor:{value:"",error:null},primaryColor:{value:"",error:null},banner:{value:"",error:null},isCreditSystemEnabled:{value:!1,error:null},isPublic:{value:!1,error:null}}},y=Object(l.b)({name:"forms/dropzone",initialState:g,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];t in e.fields&&e.fields[t].error&&(e.fields[t].error=a)},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=g.fields;else for(var r in e.original=n.payload,e.open=!0,n.payload)if(r in e.fields){var t=r;e.fields[t].value=n.payload[t]}},reset:function(e){e.fields=g.fields,e.original=null}}}),v={original:null,open:!1,fields:{role:{value:null,error:null},expiresAt:{value:null,error:null}}},h=Object(l.b)({name:"forms/dropzoneUser",initialState:v,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=v.fields;else for(var r in e.original=n.payload,e.open=!0,n.payload)if(r in e.fields){var t=r;e.fields[t].value=n.payload[t]}},reset:function(e){e.fields=v.fields,e.original=null}}}),S=r(261),E=r(262),O={original:null,open:!1,fields:{name:{value:"",error:null},registration:{value:"",error:null},minSlots:{value:0,error:null},maxSlots:{value:4,error:null},hours:{value:null,error:null},nextMaintenanceHours:{value:null,error:null}}},j=Object(l.b)({name:"Plane",initialState:O,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields.name.error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=O.fields):(e.original=n.payload,e.open=!0,e.fields.hours.value=n.payload.hours,e.fields.minSlots.value=n.payload.minSlots,e.fields.maxSlots.value=n.payload.maxSlots,e.fields.name.value=n.payload.name,e.fields.registration.value=n.payload.registration,e.fields.nextMaintenanceHours.value=n.payload.nextMaintenanceHours)},reset:function(e){e.fields=O.fields,e.original=null}}}),w={original:null,open:!1,fields:{make:{value:"",error:null},model:{value:"",error:null},serial:{value:"",error:null},repackExpiresAt:{value:null,error:null},canopySize:{value:null,error:null},rigType:{value:"sport",error:null}}},k=Object(l.b)({name:"forms/rig",initialState:w,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=w.fields;else for(var r in e.original=n.payload,e.open=!0,n.payload)if(r in e.fields){var t=r;e.fields[t].value=n.payload[t]}},reset:function(e){e.fields=w.fields,e.original=null}}}),x={fields:[],open:!1,ok:!1},z=Object(l.b)({name:"forms/rig",initialState:x,reducers:{setOk:function(e,n){e.ok=n.payload},setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];console.log({item:a,index:t,fields:e.fields}),e.fields=e.fields.map((function(e,n){return n===t?a:e}))},setFields:function(e,n){try{e.fields=JSON.parse(n.payload)}catch(r){console.error("Failed to read rig inspection template",r.message,n.payload)}},reset:function(e){e.fields=x.fields,e.ok=x.ok}}}),C={original:null,fields:[]},P=Object(l.b)({name:"forms/rigInspection",initialState:C,reducers:{setFields:function(e,n){e.fields=n.payload},setOpen:function(e,n){e.original=n.payload;try{e.fields=JSON.parse(n.payload.definition)}catch(r){console.log("Invalid json: ",n.payload.definition)}},reset:function(e){e.fields=C.fields,e.original=null}}}),T={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},rig:{value:null,error:null},ticketType:{value:null,error:null},dropzoneUser:{value:null,error:null},exitWeight:{value:null,error:null},passengerName:{value:null,error:null},passengerExitWeight:{value:null,error:null}}},D=Object(l.b)({name:"forms/manifest",initialState:T,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=T.fields;else for(var r in e.original=n.payload,e.open=!0,n.payload)if(r in e.fields){var t=r;e.fields[t].value=n.payload[t]}},reset:function(e){e.fields=T.fields,e.original=null}}}),F={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},ticketType:{value:null,error:null},users:{value:[],error:null}}},U=Object(l.b)({name:"forms/manifestGroup",initialState:F,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setFromSlots:function(e,n){var r,t,a;e.fields.users.value=n.payload.map((function(e){var n,r;return{id:Number(null==(n=e.user)?void 0:n.id),rigId:Number(null==(r=e.rig)?void 0:r.id),exitWeight:Number(e.exitWeight)}})),e.fields.jumpType.value=null==(r=n.payload.find((function(e){return e})))?void 0:r.jumpType,e.fields.load.value=null==(t=n.payload.find((function(e){return e})))?void 0:t.load,e.fields.extras.value=null==(a=n.payload.find((function(e){return e})))?void 0:a.extras},setDropzoneUsers:function(e,n){e.fields.users.value=n.payload.map((function(e){var n,r;return{id:Number(e.user.id),rigId:Number(null==e||null==(n=e.availableRigs)||null==(r=n.find((function(e){return e.id})))?void 0:r.id),exitWeight:Number(null==e?void 0:e.user.exitWeight)}}))},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=F.fields;else for(var r in e.original=n.payload,e.open=!0,n.payload)if(r in e.fields){var t=r;e.fields[t].value=n.payload[t]}},reset:function(e){e.fields=F.fields,e.original=null}}}),I={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},altitude:{value:14e3,error:null},allowManifestingSelf:{value:!1,error:null},isTandem:{value:!1,error:null},extras:{value:[],error:null}}},R=Object(l.b)({name:"forms/ticketType",initialState:I,reducers:{setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=I.fields):(e.original=n.payload,e.open=!0,e.fields.altitude.value=n.payload.altitude,e.fields.cost.value=n.payload.cost,e.fields.allowManifestingSelf.value=n.payload.allowManifestingSelf,e.fields.name.value=n.payload.name)},reset:function(e){e.fields=I.fields,e.original=null}}}),$={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:"",error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},rigs:{value:[],error:null},license:{value:null,error:null}}},A=Object(l.b)({name:"forms/user",initialState:$,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},setOpen:function(e,n){var r;if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=$.fields;else for(var t in e.original=n.payload,e.open=!0,e.federation.value=null==(r=n.payload.license)?void 0:r.federation,n.payload)if(t in e.fields){var a=t;e.fields[a].value=n.payload[a]}},reset:function(e){e.fields=$.fields,e.original=null}}}),N=(S.b,E.b,{credits:b,dropzone:y,dropzoneUser:h,extra:S.a,load:E.a,plane:j,rig:k,rigInspection:z,rigInspectionTemplate:P,manifest:D,manifestGroup:U,ticketType:R,user:A}),M={isSearchVisible:!1,searchText:""},W=Object(l.b)({name:"screens/user",initialState:M,reducers:{setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=M.isSearchVisible,e.searchText=M.searchText}}}),L={fields:{email:{value:"",error:null},password:{value:"",error:null}}},B=Object(l.b)({name:"login",initialState:L,reducers:{setEmail:function(e,n){e.fields.email.value=n.payload},setPassword:function(e,n){e.fields.password.value=n.payload},setEmailError:function(e,n){e.fields.email.error=n.payload},setPasswordError:function(e,n){e.fields.password.error=n.payload},reset:function(e){e.fields=L.fields}}}),q={isSearchVisible:!1,selectedUsers:[],searchText:""},V=Object(l.b)({name:"manifestScreen",initialState:q,reducers:{setSelected:function(e,n){e.selectedUsers=n.payload},setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=q.isSearchVisible,e.searchText=q.searchText}}}),H={federation:null,fields:{email:{value:"",error:null},password:{value:"",error:null},passwordConfirmation:{value:"",error:null},exitWeight:{value:50,error:null},name:{value:"",error:null},phone:{value:"",error:null},license:{value:null,error:null}}},G=Object(l.b)({name:"login",initialState:H,reducers:{setFederation:function(e,n){e.federation=n.payload},setField:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].value=a,e.fields[t].error=null},setFieldError:function(e,n){var r=p()(n.payload,2),t=r[0],a=r[1];e.fields[t].error=a},reset:function(e){e.fields=H.fields}}}),Q={manifest:V,users:W,login:B,signup:G},J=r(220),Y=r(130);function Z(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function _(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}J.b,Y.b;var X={key:"open-manifest.0.9.1",storage:"web"===s.a.OS?r(453).default:u.a,whitelist:["global","notifications"]},K=Object.keys(Q).reduce((function(e,n){return Q[n]?_(_({},e),{},a()({},n,Q[n].reducer)):e}),{}),ee=Object.keys(N).reduce((function(e,n){return N[n]?_(_({},e),{},a()({},n,N[n].reducer)):e}),{}),ne=Object.keys(Q).reduce((function(e,n){return Q[n]?_(_({},e),{},a()({},n,Q[n].actions)):e}),{}),re={forms:Object.keys(N).reduce((function(e,n){return N[n]?_(_({},e),{},a()({},n,N[n].actions)):e}),{}),screens:ne,global:J.a.actions,notifications:Y.a.actions},te=Object(o.b)({global:J.a.reducer,notifications:Y.a.reducer,screens:Object(o.b)(K),forms:Object(o.b)(ee)}),ae=Object(d.a)(X,te),oe=Object(l.a)({reducer:ae,middleware:Object(l.c)({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),le=Object(d.b)(oe),ie=function(){return Object(i.b)()},se=i.c},107:function(e,n,r){"use strict";r.d(n,"c",(function(){return t})),r.d(n,"d",(function(){return a})),r.d(n,"b",(function(){return o}));var t="#00C851",a="#FF8800",o="#FF1414";n.a={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",success:t,error:"#ff4444",warning:a,info:"#0099CC"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",success:t,error:"#ff4444",warning:a,info:"#0099CC"}}},130:function(e,n,r){"use strict";r.d(n,"b",(function(){return a}));var t=r(26),a={queue:[]};n.a=Object(t.b)({name:"notifications",initialState:a,reducers:{hideSnackbar:function(e){e.queue=e.queue.slice(1)},showSnackbar:function(e,n){e.queue.push(n.payload)}}})},181:function(e,n,r){"use strict";r.d(n,"a",(function(){return f}));var t=r(39),a=r.n(t),o=r(8),l=r.n(o),i=r(0),s=r(77),c=r(1),u=r(185),d=r(19);function f(e){var n=Object(u.a)().height,r=Object(d.c)((function(e){return e.global})).theme,t=e.style,o=e.children,c=e.contentContainerStyle,f=l()(e,["style","children","contentContainerStyle"]);return i.createElement(s.a,a()({},f,{keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:[p.container,{backgroundColor:r.colors.surface,height:n-112},t],contentContainerStyle:[p.content,c]}),o)}var p=c.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}})},19:function(e,n,r){"use strict";var t=r(103);r.d(n,"a",(function(){return t.a})),r.d(n,"b",(function(){return t.d})),r.d(n,"c",(function(){return t.e}))},220:function(e,n,r){"use strict";r.d(n,"b",(function(){return m}));var t=r(3),a=r.n(t),o=r(26),l=r(114),i=r(221),s=r(90),c=r(115);function u(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var f=d(d(d({},s.a),l.a),{},{colors:d(d(d({},s.a.colors),l.a.colors),{},{primary:"#333333"})}),p=d(d(d({},c.a),i.a),{},{colors:d(d(d({},c.a.colors),i.a.colors),{},{primary:"#333333"})}),m={currentUser:null,currentDropzone:null,currentDropzoneId:null,permissions:[],credentials:null,expoPushToken:null,theme:f,isDarkMode:!1};n.a=Object(o.b)({name:"global",initialState:m,reducers:{setCredentials:function(e,n){e.credentials=n.payload},setUser:function(e,n){e.currentUser=n.payload},setExpoPushToken:function(e,n){e.expoPushToken=n.payload},setPermissions:function(e,n){e.permissions=n.payload},setPrimaryColor:function(e,n){e.theme.colors.primary=n.payload},setAccentColor:function(e,n){e.theme.colors.accent=n.payload},setDropzone:function(e,n){var r,t,a,o,l,i;(e.currentDropzone=n.payload,e.currentDropzoneId=null!=(r=n.payload)&&r.id?Number(null==(t=n.payload)?void 0:t.id):null,null!=(a=e.currentDropzone)&&a.primaryColor)&&(e.theme.colors.primary=null==(l=e.currentDropzone)?void 0:l.primaryColor);null!=(o=e.currentDropzone)&&o.secondaryColor&&(e.theme.colors.accent=null==(i=e.currentDropzone)?void 0:i.secondaryColor)},toggleDarkMode:function(e){var n,r,t,a;(e.isDarkMode=!e.isDarkMode,e.theme=e.isDarkMode?p:f,null!=(n=e.currentDropzone)&&n.primaryColor)&&(e.theme.colors.primary=null==(t=e.currentDropzone)?void 0:t.primaryColor);null!=(r=e.currentDropzone)&&r.secondaryColor&&(e.theme.colors.accent=null==(a=e.currentDropzone)?void 0:a.secondaryColor)},logout:function(e){for(var n in m){var r=n;n in e&&(e[r]=m[r])}}}})},225:function(e,n,r){"use strict";function t(){return"light"}r.d(n,"a",(function(){return t}))},239:function(e,n,r){e.exports=r.p+"static/media/logo.6fa2ed95.png"},261:function(e,n,r){"use strict";r.d(n,"b",(function(){return l}));var t=r(11),a=r.n(t),o=r(26),l={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},ticketTypeIds:{value:[],error:null}}};n.a=Object(o.b)({name:"forms/extra",initialState:l,reducers:{setField:function(e,n){var r=a()(n.payload,2),t=r[0],o=r[1];e.fields[t].value=o,e.fields.name.error=null},setFieldError:function(e,n){var r=a()(n.payload,2),t=r[0],o=r[1];e.fields[t].error=o},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=l.fields):(e.original=n.payload,e.open=!0,e.fields.ticketTypeIds.value=n.payload.ticketTypes.map((function(e){var n=e.id;return Number(n)})),e.fields.cost.value=n.payload.cost,e.fields.name.value=n.payload.name)},reset:function(e){e.fields=l.fields,e.original=null}}})},262:function(e,n,r){"use strict";r.d(n,"b",(function(){return l}));var t=r(11),a=r.n(t),o=r(26),l={original:null,open:!1,fields:{name:{value:"",error:null},gca:{value:null,error:null},dispatchAt:{value:null,error:null},isOpen:{value:!0,error:null},loadMaster:{value:null,error:null},pilot:{value:null,error:null},plane:{value:null,error:null},maxSlots:{value:4,error:null}}};n.a=Object(o.b)({name:"forms/load",initialState:l,reducers:{setField:function(e,n){var r=a()(n.payload,2),t=r[0],o=r[1];e.fields[t].value=o,e.fields[t].error=null},setFieldError:function(e,n){var r=a()(n.payload,2),t=r[0],o=r[1];e.fields[t].error=o},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=l.fields;else for(var r in e.original=n.payload,e.open=!0,n.payload)if(r in e.fields){var t=r;e.fields[t].value=n.payload[t]}},reset:function(e){e.fields=l.fields,e.original=null}}})},276:function(e,n,r){"use strict";r.d(n,"a",(function(){return y}));var t,a=r(3),o=r.n(a),l=r(57),i=r.n(l),s=r(49),c=r(486),u=r(58),d=r(0),f=r(19),p=r(321);function m(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function b(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){o()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var g=Object(u.a)(t||(t=i()(["\n  query QueryDropzone($dropzoneId: Int!, $earliestTimestamp: Int) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n      primaryColor,\n      secondaryColor,\n      planes {\n        id\n        name\n        registration\n      }\n      ticketTypes {\n        id\n        name\n      }\n\n      currentUser {\n        id\n        credits\n        hasCredits\n        hasExitWeight\n        hasMembership\n        hasReserveInDate\n        hasRigInspection\n        hasLicense\n        permissions\n        expiresAt\n\n        role {\n          id\n          name\n        }\n\n        transactions {\n          edges {\n            node {\n              id\n              status\n              amount\n            }\n          }\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          pushToken\n\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n\n      loads(earliestTimestamp: $earliestTimestamp) {\n        edges {\n          node {\n            id\n            name\n            loadNumber\n            isOpen\n            maxSlots\n            isFull\n          }\n        }\n      }\n    }\n  }\n"])));function y(){var e,n,r,t,a,o,l,i=Object(f.c)((function(e){return e.global.currentDropzoneId})),u=Object(f.c)((function(e){return e.global.expoPushToken})),m=Object(s.useQuery)(g,{variables:{dropzoneId:i,earliestTimestamp:Object(c.a)(new Date).getTime()/1e3},fetchPolicy:"cache-first"}),y=Object(p.a)({onSuccess:function(){return null},onError:function(){return null}});return d.useEffect((function(){var e,n,r,t,a,o,l,i,s=null==m||null==(e=m.data)||null==(n=e.dropzone)||null==(r=n.currentUser)||null==(t=r.user)?void 0:t.id,c=null==m||null==(a=m.data)||null==(o=a.dropzone)||null==(l=o.currentUser)||null==(i=l.user)?void 0:i.pushToken,d=u;!m.loading&&m.called&&d&&d!==c&&y.mutate({id:Number(s),pushToken:d})}),[u,null==m||null==(e=m.data)||null==(n=e.dropzone)||null==(r=n.currentUser)||null==(t=r.user)?void 0:t.pushToken]),b(b({},m),{},{dropzone:null==m||null==(a=m.data)?void 0:a.dropzone,currentUser:null==m||null==(o=m.data)||null==(l=o.dropzone)?void 0:l.currentUser})}},278:function(e,n,r){"use strict";var t=r(0),a=r(265),o=r(19),l=r(130),i=r(301),s=l.a.actions;n.a=function(){var e=Object(o.c)((function(e){return e.notifications})),n=Object(o.b)(),r=Object(i.a)(),l=e.queue.length?e.queue[0]:null,c={info:{backgroundColor:r.info},success:{backgroundColor:r.success},error:{backgroundColor:r.error},warning:{backgroundColor:r.warning}};return t.createElement(a.a,{testID:"snackbar-message",visible:!!l,onDismiss:function(){return n(s.hideSnackbar())},duration:3e3,action:null==l?void 0:l.action,style:!(null==l||!l.variant)&&c[l.variant]},null==l?void 0:l.message)}},301:function(e,n,r){"use strict";var t=r(225),a=r(107);n.a=function(){var e=Object(t.a)();return a.a[e]}},321:function(e,n,r){"use strict";var t,a=r(57),o=r.n(a),l=r(58),i=r(91),s=Object(l.a)(t||(t=o()(["\n  mutation UpdateUser(\n    $id: Int,\n    $name: String,\n    $phone: String,\n    $email: String,\n    $pushToken: String,\n    $nickname: String,\n    $licenseId: Int,\n    $exitWeight: Float,\n  ){\n    updateUser(input: {\n      id: $id\n      attributes: {\n        pushToken: $pushToken\n        name: $name,\n        phone: $phone,\n        email: $email,\n        nickname: $nickname,\n        licenseId: $licenseId,\n        exitWeight: $exitWeight,\n      }\n    }) {\n      user {\n        id\n        name\n        exitWeight\n        email\n        pushToken\n        phone\n        rigs {\n          id\n          model\n          make\n          serial\n          canopySize\n        }\n        jumpTypes {\n          id\n          name\n        }\n        license {\n          id\n          name\n\n          federation {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));n.a=Object(i.a)(s,{getPayload:function(e){return e.updateUser},fieldErrorMap:{license:"licenseId",exit_weight:"exitWeight"}})},324:function(e,n,r){"use strict";r.d(n,"a",(function(){return P}));var t,a=r(11),o=r.n(a),l=r(57),i=r.n(l),s=r(6),c=r.n(s),u=r(0),d=r(1),f=r(167),p=r(155),m=r(125),b=r(104),g=r(56),y=r(266),v=r(238),h=r(176),S=r(240),E=r(387),O=r(49),j=r(384),w=r(19),k=r(375),x=r.n(k),z=r(82),C=Object(O.gql)(t||(t=i()(["\n  query QueryFederations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function P(){var e,n,r,t,a=Object(w.c)((function(e){return e.global})),l=Object(w.c)((function(e){return e.forms.dropzone})),i=Object(w.b)(),s=Object(O.useQuery)(C),d=s.data,k=(s.loading,u.useState(!1)),P=o()(k,2),D=P[0],F=P[1],U=u.useState(null),I=o()(U,2),R=I[0],$=I[1];u.useEffect((function(){var e,n;null==d||null==(e=d.federations)||!e.length||null!=(n=l.fields.federation)&&n.value||i(w.a.forms.dropzone.setField(["federation",d.federations[0]]))}),[JSON.stringify(null==d?void 0:d.federations)]);var A=u.useCallback((function(){var e;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.awrap(Object(E.a)({multiple:!1,type:"image"}));case 3:e=n.sent,i(w.a.forms.dropzone.setField(["banner",e.uri])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}),[i]);return u.createElement(u.Fragment,null,u.createElement(f.a,null,u.createElement(p.a,{visible:!!R,onDismiss:function(){return $(null)}},u.createElement(p.a.Title,null,"Pick a ","primary"===R?"primary color":"secondary color"),u.createElement(p.a.Content,{style:{padding:20,height:400}},u.createElement(j.a,{onColorSelected:function(e){i("primary"===R?w.a.forms.dropzone.setField(["primaryColor",e]):w.a.forms.dropzone.setField(["secondaryColor",e]))},style:{flex:1},sliderComponent:x.a,defaultColor:("primary"===R?l.fields.primaryColor.value:l.fields.secondaryColor.value)||void 0,hideSliders:!0})),u.createElement(p.a.Actions,null,u.createElement(m.a,{onPress:function(){return $(null)}},"Cancel"),u.createElement(m.a,{disabled:"primary"===R&&!l.fields.primaryColor.value||"secondary"===R&&!l.fields.secondaryColor.value,onPress:function(){console.log({current:a.theme.colors.accent,next:l.fields.secondaryColor.value}),i("primary"===R?w.a.global.setPrimaryColor(l.fields.primaryColor.value):w.a.global.setAccentColor(l.fields.secondaryColor.value)),$(null)}},"Save")))),u.createElement(b.a,{style:{width:"100%",maxHeight:300,marginVertical:16}},u.createElement(b.a.Title,{title:"Banner"}),u.createElement(b.a.Cover,{source:{uri:l.fields.banner.value||"https://picsum.photos/700"},resizeMode:"cover"}),u.createElement(b.a.Actions,{style:{justifyContent:"flex-end"}},u.createElement(m.a,{onPress:A},"Upload"))),u.createElement(b.a,{style:{width:"100%",marginVertical:16,paddingHorizontal:16}},u.createElement(g.b.Subheader,{style:T.subheader},"Dropzone"),u.createElement(y.a,{style:T.field,mode:"outlined",label:"Name",error:!!l.fields.name.error,value:l.fields.name.value||"",onChangeText:function(e){return i(w.a.forms.dropzone.setField(["name",e]))}}),u.createElement(v.a,{type:"error"},l.fields.name.error||""),u.createElement(g.b.Subheader,{style:T.subheader},"Federation"),u.createElement(h.a,{onDismiss:function(){return F(!1)},visible:D,anchor:u.createElement(h.a.Item,{onPress:function(){return F(!0)},title:(null==(e=l.fields)||null==(n=e.federation)||null==(r=n.value)?void 0:r.name)||"",icon:"parachute"})},null==d||null==(t=d.federations)?void 0:t.map((function(e){return u.createElement(h.a.Item,{key:"federation-select-"+e.id,title:e.name,onPress:function(){i(w.a.forms.dropzone.setField(["federation",e])),F(!1)}})}))),u.createElement(v.a,{type:"error"},l.fields.federation.error||""),u.createElement(g.b.Subheader,{style:T.subheader},"Branding"),u.createElement(g.b.Item,{title:"Primary color",onPress:function(){return $("primary")},left:function(){return u.createElement(z.b,{style:{width:24,height:24,backgroundColor:a.theme.colors.primary}})}}),u.createElement(g.b.Item,{title:"Secondary color",onPress:function(){return $("secondary")},left:function(){return u.createElement(z.b,{style:{width:24,height:24,backgroundColor:a.theme.colors.accent}})}}),u.createElement(g.b.Item,{title:"Use credit system",description:"Users will be charged credits when a load is marked as landed and can't manifest with insufficient funds.",onPress:function(){return i(w.a.forms.dropzone.setField(["isCreditSystemEnabled",!l.fields.isCreditSystemEnabled.value]))},left:function(){return u.createElement(S.a,{onPress:function(){return i(w.a.forms.dropzone.setField(["isCreditSystemEnabled",!l.fields.isCreditSystemEnabled.value]))},status:l.fields.isCreditSystemEnabled.value?"checked":"unchecked"})}}),u.createElement(g.b.Item,{title:"Public",description:"Your dropzone will not be available in the app if this is disabled",onPress:function(){return i(w.a.forms.dropzone.setField(["isPublic",!l.fields.isPublic.value]))},left:function(){return u.createElement(S.a,{onPress:function(){return i(w.a.forms.dropzone.setField(["isPublic",!l.fields.isPublic.value]))},status:l.fields.isPublic.value?"checked":"unchecked"})}})))}var T=d.a.create({fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}})},381:function(e,n,r){"use strict";r.d(n,"a",(function(){return Gn}));var t=r(6),a=r.n(t),o=(r(389),r(382)),l=r(43),i=r(528),s=r(529),c=r(525),u=r(522),d=r(523),f=r(530),p=r(0),m=r(385),b=r(177),g=r(352),y=r(326),v=r(327),h=r(135),S=r(10),E=r(2),O=r(332),j=r(3),w=r.n(j),k=r(49),x=r(460),z=r(359),C=r(358),P=r(19);function T(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function D(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?T(Object(r),!0).forEach((function(n){w()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var F=Object(k.createHttpLink)({uri:l.a.manifest.extra.url});function U(e){var n=e.children,r=Object(P.c)((function(e){return e.global.credentials})),t=Object(P.b)(),a=p.useMemo((function(){return Object(C.a)((function(e){var n=e.graphQLErrors,r=e.networkError;if(null!=n&&n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))return t(P.a.notifications.showSnackbar({message:"Session expires",variant:"error"})),void t(P.a.global.logout());n&&n.map((function(e){var n=e.message,r=e.locations,a=e.path;return t(P.a.notifications.showSnackbar({message:"[GraphQL error]: "+n+", "+r+", "+a,variant:"error"}))})),r&&t(P.a.notifications.showSnackbar({message:"[Network error]: "+r,variant:"error"}))}))}),[t]),o=p.useMemo((function(){return Object(z.a)((function(e,n){return{headers:D(D({},n.headers),null!=r&&r.accessToken?D({Authorization:"Bearer "+r.accessToken,"access-token":r.accessToken,"token-type":r.tokenType},r):{})}}))}),[JSON.stringify(r)]),l=p.useMemo((function(){return new k.ApolloClient({link:a.concat(o).concat(F),cache:new k.InMemoryCache})}),[o]);return p.createElement(x.a,{client:l},n)}var I=r(103),R=r(11),$=r.n(R),A=r(518),N=r(527),M=r(275);function W(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function L(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?W(Object(r),!0).forEach((function(n){w()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var B=r(278),q={prefixes:[r(383).a("/"),"https://openmanifest.org","openmanifest://"],config:{screens:{Authenticated:{screens:{HomeScreen:"/home",LoadScreen:"/load/:load_id",PackingScreen:"/packing",ProfileScreen:"/user/:id",SetupScreen:"/dropzone/setup"}},Limbo:{screens:{DropzonesScreen:"/dropzones",CreateDropzoneScreen:"/dropzone/create"}},Unauthenticated:{screens:{LoginScreen:"/login",SignUpScreen:"/signup"}}}}},V=r(524),H=r(1),G=r(41),Q=r(73);function J(e){var n=e.navigation;return p.createElement(E.a,{style:Y.container},p.createElement(G.a,{style:Y.title},"This screen doesn't exist."),p.createElement(Q.a,{onPress:function(){return n.replace("Root")},style:Y.link},p.createElement(G.a,{style:Y.linkText},"Go to home screen!")))}var Y=H.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),Z=r(13),_=r(526),X=r(366),K=r(57),ee=r.n(K),ne=r(330),re=r(317),te=r(176),ae=r(129),oe=r(318),le=r(316),ie=r(125),se=r(50);function ce(e){return p.createElement(E.a,{style:fe.warning},p.createElement(le.a,null,e.title),e.action?p.createElement(ie.a,{color:"black",mode:"outlined",onPress:function(){return e.action()}},"Take me there"):null)}function ue(e){var n=e.credits,r=e.loading,t=e.isCreditSystemEnabled,a=e.isRigSetUp,o=e.isExitWeightDefined,l=e.isMembershipInDate,i=e.isReserveInDate,s=e.isRigInspectionComplete;if(e.loading)return null;var c=Object(se.useNavigation)();if(!o||!a){var u=[o?null:"exit weight",a?null:"at least one rig"].filter(Boolean);return p.createElement(ce,{title:"You need to define "+u.join("and")+" in your profile",action:function(){return c.navigate("Profile")}})}return l?s?i?!t||n||r?null:p.createElement(ce,{title:"You'll need to top up on credits before you can manifest"}):p.createElement(ce,{title:"Your reserve repack is due. You cannot manifest if your repack is out of date."}):p.createElement(ce,{title:"Your rig must be inspected before you can manifest at this dropzone"}):p.createElement(ce,{title:"Your membership seems to be out of date",action:function(){return c.navigate("Profile")}})}var de,fe=H.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"#ffbb33",justifyContent:"space-between",paddingHorizontal:32}}),pe=Object(k.gql)(de||(de=ee()(["\n  query QueryDropzone($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      isCreditSystemEnabled\n\n      currentUser {\n        id\n        credits\n        expiresAt\n        \n        rigInspections {\n          id\n          rig {\n            id\n            repackExpiresAt\n          }\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));H.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"#ffbb33",justifyContent:"space-between",paddingHorizontal:32}});var me=function(e){var n,r,t,a,o,l,i,s,c,u,d,f,m,b,g,y,v,h,S,E,O,j,w,x,z=e.navigation,C=e.previous,T=e.scene,D=e.hideWarnings,F=p.useState(!1),U=$()(F,2),I=U[0],R=U[1],A=Object(P.c)((function(e){return e.global})).currentDropzone,N=Object(P.b)(),M=Object(k.useLazyQuery)(pe,{variables:{dropzoneId:Number(null==A?void 0:A.id)}}),W=$()(M,2),L=W[0],B=W[1],q=B.data,V=B.loading;return p.useEffect((function(){A&&L()}),[L,A]),null==q||null==(n=q.dropzone)||n.isCreditSystemEnabled,p.createElement(p.Fragment,null,p.createElement(ne.a.Header,null,C?p.createElement(ne.a.BackAction,{onPress:z.goBack}):null,p.createElement(ne.a.Content,{title:T.descriptor.options.title,titleStyle:{fontWeight:"bold"}}),T.descriptor.options.headerRight?T.descriptor.options.headerRight({tintColor:"white"}):p.createElement(re.a,{mode:"outlined"},"$"+((null==q||null==(r=q.dropzone)||null==(t=r.currentUser)?void 0:t.credits)||0)),p.createElement(te.a,{onDismiss:function(){return R(!1)},visible:I,anchor:p.createElement(ae.a,{icon:"dots-vertical",color:"#FFFFFF",onPress:function(){return R(!0)}})},p.createElement(te.a.Item,{title:"Change dropzone",icon:"radar",onPress:function(){z.replace("DropzonesScreen"),R(!1)}}),p.createElement(oe.a,null),p.createElement(te.a.Item,{title:"Log out",icon:"logout",onPress:function(){N(P.a.global.logout()),R(!1)}}))),D?null:p.createElement(ue,{credits:(null==q||null==(a=q.dropzone)||null==(o=a.currentUser)?void 0:o.credits)||0,loading:V,isCreditSystemEnabled:!(null==q||null==(l=q.dropzone)||!l.isCreditSystemEnabled),isExitWeightDefined:!(null==q||null==(i=q.dropzone)||null==(s=i.currentUser)||null==(c=s.user)||!c.exitWeight),isMembershipInDate:!(null==q||null==(u=q.dropzone)||null==(d=u.currentUser)||!d.expiresAt)&&(null==q||null==(f=q.dropzone)||null==(m=f.currentUser)?void 0:m.expiresAt)>(new Date).getTime()/1e3,isReserveInDate:!(null==q||null==(b=q.dropzone)||null==(g=b.currentUser)||null==(y=g.user)||null==(v=y.rigs)||!v.some((function(e){var n,r,t,a=null==(n=q.dropzone)||null==(r=n.currentUser)||null==(t=r.rigInspections)?void 0:t.map((function(n){var r;return(null==n||null==(r=n.rig)?void 0:r.id)===e.id})),o=(e.repackExpiresAt||0)>(new Date).getTime()/1e3;return a&&o}))),isRigInspectionComplete:!(null==q||null==(h=q.dropzone)||null==(S=h.currentUser)||null==(E=S.rigInspections)||!E.length),isRigSetUp:!(null==q||null==(O=q.dropzone)||null==(j=O.currentUser)||null==(w=j.user)||null==(x=w.rigs)||!x.length)}))},be=p.lazy((function(){return Promise.all([r.e(0),r.e(9),r.e(8)]).then(r.bind(null,711))})),ge=p.lazy((function(){return Promise.all([r.e(0),r.e(13)]).then(r.bind(null,696))})),ye=p.lazy((function(){return Promise.all([r.e(0),r.e(14)]).then(r.bind(null,697))})),ve=p.lazy((function(){return r.e(26).then(r.bind(null,698))})),he=Object(V.a)();function Se(){var e=Object(P.c)((function(e){return e.global}));return p.createElement(he.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return p.createElement(me,e)},cardStyle:{flex:1}}},p.createElement(he.Screen,{name:"DropzoneScreen",component:be,options:{title:"Manifest"}}),p.createElement(he.Screen,{name:"CreateLoadScreen",component:ge,options:{title:"Create load"}}),p.createElement(he.Screen,{name:"ManifestGroupScreen",component:ye,options:{title:"Manifest group"}}),p.createElement(he.Screen,{name:"ManifestGroupUserSelectScreen",component:ve,options:{title:"Select users"}}))}var Ee=r(39),Oe=r.n(Ee),je=p.lazy((function(){return Promise.all([r.e(16),r.e(27)]).then(r.bind(null,714))})),we=Object(V.a)();function ke(){return p.createElement(we.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(me,Oe()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}}},p.createElement(we.Screen,{name:"NotificationsScreen",component:je,options:{title:"Notifications"}}))}var xe=r(276),ze=p.lazy((function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2)]).then(r.bind(null,712))})),Ce=p.lazy((function(){return Promise.all([r.e(0),r.e(24)]).then(r.bind(null,699))})),Pe=Object(V.a)();function Te(){var e=Object(xe.a)().currentUser;return p.createElement(Pe.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(me,Oe()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}}},p.createElement(Pe.Screen,{name:"ProfileScreen",component:ze,options:{title:"Profile"},initialParams:{userId:null==e?void 0:e.id}}),p.createElement(Pe.Screen,{name:"UpdateUserScreen",component:Ce,options:{title:"Edit profile"}}))}var De=p.lazy((function(){return r.e(31).then(r.bind(null,700))})),Fe=p.lazy((function(){return r.e(15).then(r.bind(null,715))})),Ue=p.lazy((function(){return r.e(20).then(r.bind(null,701))})),Ie=p.lazy((function(){return r.e(21).then(r.bind(null,702))})),Re=p.lazy((function(){return r.e(30).then(r.bind(null,703))})),$e=p.lazy((function(){return r.e(10).then(r.bind(null,716))})),Ae=p.lazy((function(){return Promise.all([r.e(1),r.e(23)]).then(r.bind(null,717))})),Ne=p.lazy((function(){return Promise.all([r.e(0),r.e(1),r.e(11)]).then(r.bind(null,704))})),Me=p.lazy((function(){return r.e(25).then(r.bind(null,718))})),We=p.lazy((function(){return Promise.all([r.e(1),r.e(7),r.e(29)]).then(r.bind(null,705))})),Le=p.lazy((function(){return Promise.all([r.e(0),r.e(18)]).then(r.bind(null,706))})),Be=p.lazy((function(){return Promise.all([r.e(0),r.e(19)]).then(r.bind(null,707))})),qe=p.lazy((function(){return Promise.all([r.e(0),r.e(12)]).then(r.bind(null,719))})),Ve=Object(V.a)();function He(){return p.createElement(Ve.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(me,e)},cardStyle:{flex:1}}},p.createElement(Ve.Screen,{name:"SettingsScreen",component:De,options:{title:"Settings"}}),p.createElement(Ve.Screen,{name:"UpdateDropzoneScreen",component:Re,options:{title:"Basic settings"}}),p.createElement(Ve.Screen,{name:"PlanesScreen",component:$e,options:{title:"Planes"}}),p.createElement(Ve.Screen,{name:"CreatePlaneScreen",component:Ue,options:{title:"New plane"}}),p.createElement(Ve.Screen,{name:"UpdatePlaneScreen",component:Ie,options:{title:"Edit plane"}}),p.createElement(Ve.Screen,{name:"TicketTypesScreen",component:Fe,options:{title:"Ticket types"}}),p.createElement(Ve.Screen,{name:"CreateExtraScreen",component:Le,options:{title:"Create ticket add-on"}}),p.createElement(Ve.Screen,{name:"UpdateExtraScreen",component:Be,options:{title:"Update ticket add-on"}}),p.createElement(Ve.Screen,{name:"ExtrasScreen",component:qe,options:{title:"Ticket add-ons"}}),p.createElement(Ve.Screen,{name:"RigInspectionTemplateScreen",component:Ae,options:{title:"Rig Inspection Form"}}),p.createElement(Ve.Screen,{name:"DropzoneRigsScreen",component:Ne,options:{title:"Dropzone rigs"}}),p.createElement(Ve.Screen,{name:"DropzonePermissionScreen",component:Me,options:{title:"Permissions"}}),p.createElement(Ve.Screen,{name:"DropzoneMasterLogScreen",component:We,options:{title:"Master log"}}))}var Ge=p.lazy((function(){return r.e(28).then(r.bind(null,708))})),Qe=p.lazy((function(){return Promise.all([r.e(17),r.e(32)]).then(r.bind(null,709))})),Je=p.lazy((function(){return Promise.all([r.e(1),r.e(22)]).then(r.bind(null,720))})),Ye=p.lazy((function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2)]).then(r.bind(null,712))})),Ze=Object(V.a)();function _e(){var e=Object(P.c)((function(e){return e.screens.users})),n=e.isSearchVisible,r=e.searchText,t=Object(P.b)();return p.createElement(Ze.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(Qe,Oe()({},e,{searchText:r,searchVisible:n,setSearchVisible:function(e){return t(P.a.screens.users.setSearchVisible(e))},onSearch:function(e){return t(P.a.screens.users.setSearchText(e))}}))},cardStyle:{flex:1}}},p.createElement(Ze.Screen,{name:"UsersScreen",component:Ge,options:{title:"Dropzone users"}}),p.createElement(Ze.Screen,{name:"UserProfileScreen",component:Ye,options:{title:"User"}}),p.createElement(Ze.Screen,{name:"RigInspectionScreen",component:Je,options:{title:"Inspection"}}))}var Xe=r(97),Ke=r(98),en=Object(_.a)();function nn(){var e=Object(Z.b)(),n=Object(Xe.a)(Ke.a.ReadUser),r=Object(Xe.a)(Ke.a.UpdateDropzone),t=Object(Xe.a)(Ke.a.UpdatePlane),a=Object(Xe.a)(Ke.a.UpdateTicketType),o=Object(Xe.a)(Ke.a.UpdateExtra),l=Object(Xe.a)(Ke.a.GrantPermission),i=Object(Xe.a)(Ke.a.UpdateDropzoneRig),s=Object(Xe.a)(Ke.a.UpdateFormTemplate),c=r||t||a||o||l||i||s;return p.createElement(en.Navigator,{initialRouteName:"Manifest",tabBarOptions:{activeTintColor:"#FFFFFF",inactiveBackgroundColor:e.colors.primary,activeBackgroundColor:e.colors.primary,inactiveTintColor:"#CCCCCC",showLabel:!1,style:{backgroundColor:e.colors.primary}}},p.createElement(en.Screen,{name:"Manifest",component:Se,options:{tabBarIcon:function(e){e.focused;var n=e.color,r=e.size;return p.createElement(X.a,{name:"airplane",color:n,size:r})},unmountOnBlur:!0}}),p.createElement(en.Screen,{name:"Notifications",component:ke,options:{tabBarIcon:function(e){e.focused;var n=e.color,r=e.size;return p.createElement(X.a,{name:"bell",color:n,size:r})},unmountOnBlur:!0}}),p.createElement(en.Screen,{name:"Profile",component:Te,options:{tabBarIcon:function(e){var n=e.size,r=e.color;e.focused;return p.createElement(X.a,{size:n,color:r,name:"account-circle"})},unmountOnBlur:!0}}),n&&p.createElement(en.Screen,{name:"Users",component:_e,options:{tabBarIcon:function(e){var n=e.size,r=e.color;e.focused;return p.createElement(X.a,{size:n,color:r,name:"account-group"})},unmountOnBlur:!0}}),c&&p.createElement(en.Screen,{name:"Settings",component:He,options:{tabBarIcon:function(e){var n=e.size,r=e.color;e.focused;return p.createElement(X.a,{size:n,color:r,name:"account-cog"})}}}))}var rn,tn=r(58),an=r(110),on=r(29),ln=r(137),sn=r(104),cn=r(331),un=r(82),dn=r(520),fn=Object(tn.a)(rn||(rn=ee()(["\n  query QueryDropzones {\n    dropzones {\n      edges {\n        node {\n          id\n          name\n          banner\n          ticketTypes {\n            id\n            name\n            cost\n            allowManifestingSelf\n            currency\n          }\n          planes {\n            id\n            name,\n            registration,\n            minSlots,\n            maxSlots,\n          }\n        }\n      }\n    }\n  }\n"])));function pn(){var e,n=Object(P.b)(),r=Object(P.c)((function(e){return e.global})),t=Object(k.useQuery)(fn),o=t.data,l=t.loading,i=t.refetch,s=Object(se.useNavigation)();return p.createElement(dn.a,{style:bn.container},p.createElement(an.a,{data:(null==o||null==(e=o.dropzones)?void 0:e.edges)||[],numColumns:2,refreshing:l,onRefresh:function(){return i()},style:{flex:1},contentContainerStyle:{flexGrow:1},ListEmptyComponent:function(){return p.createElement(un.b,{style:bn.empty},p.createElement(ln.a,null,"No dropzones?"),p.createElement(le.a,null,"You can set one up!"))},renderItem:function(e){var t,o,l=e.item;return p.createElement(sn.a,{style:{width:on.a.get("window").width/2-32,margin:8},onPress:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:null!=l&&l.node&&(e=!!r.currentDropzoneId,n(P.a.global.setDropzone(l.node)),e&&s.replace("Authenticated",{screen:"HomeScreen"}));case 1:case"end":return t.stop()}}),null,null,null,Promise)}},p.createElement(sn.a.Cover,{source:{uri:null==l||null==(t=l.node)?void 0:t.banner}}),p.createElement(sn.a.Content,null,p.createElement(ln.a,null,null==l||null==(o=l.node)?void 0:o.name)))}}),p.createElement(cn.a,{style:bn.fab,small:!0,icon:"plus",onPress:function(){return s.navigate("CreateDropzoneScreen")},label:"Create dropzone"}))}var mn,bn=H.a.create({container:{flex:1,padding:8,display:"flex"},fab:{position:"absolute",margin:32,right:16,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),gn=r(324),yn=r(91),vn=Object(tn.a)(mn||(mn=ee()(["\nmutation CreateDropzone(\n  $name: String!,\n  $banner: String!,\n  $federationId: Int!\n){\n  createDropzone(input: { attributes: { name: $name, banner: $banner, federationId: $federationId }}) {\n    dropzone {\n      id\n      name\n      banner\n\n      federation {\n        id\n        name\n      }\n    }\n  }\n}\n"]))),hn=Object(yn.a)(vn,{getPayload:function(e){return e.createDropzone},fieldErrorMap:{federation:"federationId"},validates:{name:[Object(yn.c)("Name is required")]}}),Sn=r(181);function En(){var e=Object(P.c)((function(e){return e.forms.dropzone})),n=Object(P.b)(),r=hn({onError:function(e){return n(P.a.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,r){return n(P.a.forms.dropzone.setFieldError([e,r]))},onSuccess:function(e){return n(P.a.global.setDropzone(e.dropzone))}});return p.createElement(Sn.a,{contentContainerStyle:{paddingHorizontal:32}},p.createElement(gn.a,null),p.createElement(un.b,{style:On.fields},p.createElement(ie.a,{mode:"contained",disabled:r.loading,loading:r.loading,onPress:function(){return r.mutate({name:e.fields.name.value,banner:e.fields.banner.value,federationId:Number(e.fields.federation.value.id)})}},"Save")))}var On=H.a.create({container:{flex:1,alignItems:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%"},field:{marginBottom:8}}),jn=Object(V.a)();function wn(){return p.createElement(jn.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"Dropzones"},p.createElement(jn.Screen,{name:"DropzonesScreen",component:pn}),p.createElement(jn.Screen,{name:"CreateDropzoneScreen",component:En}))}var kn,xn=r(38),zn=r(266),Cn=r(238),Pn=r(30),Tn=r(107),Dn=r(239),Fn=r.n(Dn),Un=Object(k.gql)(kn||(kn=ee()(["\n  mutation UserLogin($email: String!, $password: String!) {\n    userLogin(email: $email, password: $password) {\n      authenticatable {\n        id\n        email\n        name\n        phone\n        createdAt\n        updatedAt\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n"])));function In(){var e=Object(P.c)((function(e){return e.screens.login})),n=Object(P.b)(),r=Object(Pn.useNavigation)(),t=Object(k.useMutation)(Un),o=$()(t,2),l=o[0],i=o[1],s=p.useCallback((function(){var r,t,o,i,s,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),t=!1,e.fields.email.value||(t=!0,n(P.a.screens.login.setEmailError("Email is required"))),e.fields.password.value||(t=!0,n(P.a.screens.login.setPasswordError("Password is required"))),r.test(e.fields.email.value)||(t=!0,n(P.a.screens.login.setEmailError("Please enter a valid email"))),t){d.next=17;break}return d.prev=6,d.next=9,a.a.awrap(l({variables:{email:e.fields.email.value,password:e.fields.password.value}}));case 9:u=d.sent,console.log({result:u}),null!=u&&null!=(o=u.data)&&null!=(i=o.userLogin)&&i.authenticatable&&null!=u&&null!=(s=u.data)&&null!=(c=s.userLogin)&&c.credentials&&(n(P.a.global.setCredentials(u.data.userLogin.credentials)),n(P.a.global.setUser(u.data.userLogin.authenticatable))),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(6),n(P.a.notifications.showSnackbar({message:d.t0.message,variant:"error"}));case 17:case"end":return d.stop()}}),null,null,[[6,14]],Promise)}),[l,JSON.stringify(e.fields)]);return p.createElement(un.b,{style:$n.container},p.createElement(xn.a,{source:Fn.a,style:{height:300,width:"100%"},resizeMode:"contain"}),p.createElement(un.b,{style:$n.fields},p.createElement(zn.a,{label:"Email",mode:"outlined",value:e.fields.email.value,onChangeText:function(e){n(P.a.screens.login.setEmail(e))}}),p.createElement(Cn.a,{type:"error"},e.fields.email.error||" "),p.createElement(zn.a,{label:"Password",mode:"outlined",value:e.fields.password.value,secureTextEntry:!0,onChangeText:function(e){n(P.a.screens.login.setPassword(e))},error:!!e.fields.password.error}),p.createElement(Cn.a,{type:"error"},e.fields.password.error||" "),p.createElement(ie.a,{mode:"contained",labelStyle:$n.buttonLabel,style:$n.button,onPress:s,loading:i.loading},"Log in"),p.createElement(ie.a,{labelStyle:$n.textButtonLabel,style:$n.textButton,onPress:function(){return r.navigate("SignUpScreen")}},"Sign up")))}var Rn,$n=H.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:Tn.b,paddingTop:10},title:{fontSize:20,fontWeight:"bold"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},textButton:{marginTop:10,backgroundColor:"transparent",color:"white",width:"100%"},textButtonLabel:{color:"#FFFFFF"}}),An=Object(tn.a)(Rn||(Rn=ee()(["\n  mutation UserSignUp(\n    $email: String!,\n    $password: String!,\n    $passwordConfirmation: String!\n    $name: String!\n    $phone: String!\n    $pushToken: String\n    $exitWeight: Float!\n    $licenseId: Int\n  ){\n    userSignUp(\n      email: $email,\n      password: $password,\n      passwordConfirmation: $passwordConfirmation,\n      exitWeight: $exitWeight,\n      name: $name,\n      phone: $phone,\n      pushToken: $pushToken,\n      licenseId: $licenseId\n    ) {\n      authenticatable {\n        createdAt,\n        email,\n        id,\n        name,\n        phone,\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n"]))),Nn=Object(yn.a)(An,{getPayload:function(e){return e.userSignUp},fieldErrorMap:{license:"licenseId"},validates:{name:[Object(yn.c)("Name is required")],email:[Object(yn.b)("Please enter a valid email")],passwordConfirmation:[Object(yn.d)("Password must have 1 uppercase, 1 lowercase, 1 digit and be at least 8 characters",(function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}.*$/.test(e.passwordConfirmation)})),Object(yn.d)("Passwords don't match",(function(e){return e.password===e.passwordConfirmation}))]}});function Mn(){var e,n,r=Object(P.c)((function(e){return e.screens.signup})),t=Object(P.c)((function(e){return e.global})),a=Object(P.b)(),o=Nn({onSuccess:function(e){e.credentials&&(a(P.a.global.setCredentials(e.credentials)),a(P.a.global.setUser(e.authenticatable)))},onFieldError:function(e,n){return a(P.a.screens.signup.setFieldError([e,n]))}}),l=o.loading,i=o.mutate;return p.createElement(Sn.a,{style:Wn.container,contentContainerStyle:Wn.content},p.createElement(xn.a,{source:Fn.a,style:{width:"100%",height:200},resizeMode:"contain"}),p.createElement(un.b,{style:Wn.fields},p.createElement(zn.a,{style:Wn.field,mode:"outlined",label:"Name",error:!!r.fields.name.error,value:r.fields.name.value,onChangeText:function(e){return a(P.a.screens.signup.setField(["name",e]))}}),p.createElement(Cn.a,{type:"error"},r.fields.name.error||""),p.createElement(zn.a,{style:Wn.field,mode:"outlined",label:"Exit weight",error:!!r.fields.exitWeight.error,value:(null==(e=r.fields.exitWeight)||null==(n=e.value)?void 0:n.toString())||"",keyboardType:"numbers-and-punctuation",right:function(){return p.createElement(zn.a.Affix,{text:"kg"})},onChangeText:function(e){return!e||/\d+/.test(e)?a(P.a.screens.signup.setField(["exitWeight",parseFloat(e||"0")])):null}}),p.createElement(Cn.a,{type:r.fields.exitWeight.error?"error":"info"},r.fields.exitWeight.error||""),p.createElement(zn.a,{style:Wn.field,mode:"outlined",label:"Email",error:!!r.fields.email.error,value:r.fields.email.value,onChangeText:function(e){return a(P.a.screens.signup.setField(["email",e]))}}),p.createElement(Cn.a,{type:"error"},r.fields.email.error||""),p.createElement(zn.a,{style:Wn.field,mode:"outlined",label:"Phone",error:!!r.fields.phone.error,value:r.fields.phone.value,onChangeText:function(e){return a(P.a.screens.signup.setField(["phone",e]))}}),p.createElement(Cn.a,{type:"error"},r.fields.phone.error||""),p.createElement(zn.a,{style:Wn.field,mode:"outlined",label:"Password",error:Boolean(r.fields.password.error||r.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:r.fields.password.value,onChangeText:function(e){return a(P.a.screens.signup.setField(["password",e]))}}),p.createElement(Cn.a,{type:"error"},r.fields.password.error||""),p.createElement(zn.a,{style:Wn.field,mode:"outlined",label:"Repeat password",error:Boolean(r.fields.password.error||r.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:r.fields.passwordConfirmation.value,onChangeText:function(e){return a(P.a.screens.signup.setField(["passwordConfirmation",e]))}}),p.createElement(Cn.a,{type:"error"},r.fields.passwordConfirmation.error||""),p.createElement(ie.a,{mode:"contained",labelStyle:Wn.buttonLabel,style:Wn.button,onPress:function(){var e,n;return i({pushToken:t.expoPushToken,email:r.fields.email.value,name:r.fields.name.value,exitWeight:r.fields.exitWeight.value,password:r.fields.password.value,passwordConfirmation:r.fields.passwordConfirmation.value,licenseId:Number(null==(e=r.fields.license)||null==(n=e.value)?void 0:n.id)||null,phone:r.fields.phone.value})},loading:l},"Sign up")))}var Wn=H.a.create({container:{flex:1,backgroundColor:Tn.b},content:{paddingHorizontal:60,alignItems:"center"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",maxWidth:400,backgroundColor:"transparent"},field:{marginBottom:8,backgroundColor:"pink",borderColor:"white",color:"white"}}),Ln=Object(V.a)();function Bn(){return p.createElement(Ln.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"LoginScreen"},p.createElement(Ln.Screen,{name:"LoginScreen",component:In}),p.createElement(Ln.Screen,{name:"SignUpScreen",component:Mn}))}var qn=Object(V.a)();function Vn(){var e=Object(I.e)((function(e){return e.global}));return p.createElement(qn.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},e.credentials?e.currentDropzone?p.createElement(qn.Screen,{name:"Authenticated",component:nn}):p.createElement(qn.Screen,{name:"Dropzones",component:wn}):p.createElement(qn.Screen,{name:"Unauthenticated",component:Bn}),p.createElement(qn.Screen,{name:"DropzonesScreen",component:pn}),p.createElement(qn.Screen,{name:"NotFound",component:J,options:{title:"Oops!"}}))}function Hn(){var e,n,r=Object(I.e)((function(e){return e.global})),t=Object(I.d)(),i=p.useRef(),b=p.useRef();return p.useEffect((function(){return function(){var e,n,r,t,o,i;return a.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(!l.a.isDevice){f.next=21;break}return f.next=3,a.a.awrap(s.a());case 3:if(n=f.sent,r=n.status,t=r,"granted"===r){f.next=12;break}return f.next=9,a.a.awrap(s.b());case 9:o=f.sent,i=o.status,t=i;case 12:if("granted"===t){f.next=15;break}return console.warn("Failed to get push token for push notification!"),f.abrupt("return");case 15:return f.next=17,a.a.awrap(c.a());case 17:e=f.sent.data,console.log(e),f.next=22;break;case 21:console.warn("Must use physical device for Push Notifications");case 22:return"android"===S.a.OS&&u.a("default",{name:"default",importance:d.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),f.abrupt("return",e);case 24:case"end":return f.stop()}}),null,null,null,Promise)}().then((function(e){return t(P.a.global.setExpoPushToken(e))})),i.current=f.a((function(e){t(P.a.notifications.showSnackbar({message:e.request.content.body,variant:"warning"}))})),b.current=f.b((function(e){console.log(e)})),function(){f.c(i.current),f.c(b.current)}}),[]),p.createElement(p.Suspense,{fallback:p.createElement(E.a,{style:{flex:1,flexGrow:1}},p.createElement(y.a,{indeterminate:!0,color:null==r||null==(e=r.theme)||null==(n=e.colors)?void 0:n.accent,visible:!0}))},p.createElement(U,null,p.createElement(v.a,{theme:r.theme},p.createElement(m.b,null,p.createElement(O.a,{linking:q,theme:r.theme},p.createElement(Vn,null)),p.createElement(o.a,null),p.createElement(B.a,null)))))}function Gn(){return function(){var e=p.useState(!1),n=$()(e,2),t=n[0],o=n[1];return p.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M.b(),e.next=4,a.a.awrap(N.b(L(L({},A.a.font),{},{"space-mono":r(461)})));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.prev=8,o(!0),M.a(),e.finish(8);case 12:case"end":return e.stop()}}),null,null,[[0,6,8,12]],Promise)}),[]),t}()?p.createElement(b.a,{store:I.c},p.createElement(g.a,{persistor:I.b,loading:p.createElement(E.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},p.createElement(h.a,{size:"large"}))},p.createElement(Hn,null))):null}i.a({handleNotification:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0});case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},416:function(e,n,r){r(417),e.exports=r(498)},417:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},461:function(e,n,r){e.exports=r.p+"./fonts/SpaceMono-Regular.ttf"},474:function(e,n){},82:function(e,n,r){"use strict";r.d(n,"a",(function(){return p})),r.d(n,"b",(function(){return m}));var t=r(39),a=r.n(t),o=r(8),l=r.n(o),i=r(0),s=r(41),c=r(2),u=r(107),d=r(225);function f(e,n){var r=Object(d.a)(),t=e[r];return t||u.a[r][n]}function p(e){var n=e.style,r=e.lightColor,t=e.darkColor,o=l()(e,["style","lightColor","darkColor"]),c=f({light:r,dark:t},"text");return i.createElement(s.a,a()({style:[{color:c},n]},o))}function m(e){var n=e.style,r=e.lightColor,t=e.darkColor,o=l()(e,["style","lightColor","darkColor"]),s=f({light:r,dark:t},"background");return i.createElement(c.a,a()({style:[{backgroundColor:s},n]},o))}},91:function(e,n,r){"use strict";r.d(n,"c",(function(){return c})),r.d(n,"b",(function(){return u})),r.d(n,"d",(function(){return d})),r.d(n,"a",(function(){return f}));var t=r(11),a=r.n(t),o=r(6),l=r.n(o),i=r(49),s=r(0);function c(e){return{message:e,pattern:/.{1,}/}}function u(e){return{message:e,pattern:new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}function d(e,n){return{message:e,callback:n}}function f(e,n){var r=n.getPayload,t=n.fieldErrorMap,o=n.validates;return function(c){var u=c.onFieldError,d=c.onSuccess,f=c.onError,p=Object(i.useMutation)(e),m=a()(p,2),b=m[0],g=m[1],y=g.data,v=g.loading;g.error;return{loading:v,mutate:s.useCallback((function(e){var a,i,s,p,m,g;return l.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(function(){var r=!1;return o&&Object.keys(e).forEach((function(t){var a,l=t;l in(n.validates||{})&&(null==(a=o[l])||a.forEach((function(n){n.pattern?n.pattern.test(""+e[l])||(r=!0,u&&u(l,n.message)):n.callback&&!n.callback(e)&&(r=!0,u&&u(l,n.message))})))})),!r}()){y.next=3;break}return y.abrupt("return");case 3:return y.prev=3,y.next=6,l.a.awrap(b({variables:e}));case 6:if(p=y.sent,null==(m=r(p.data))||null==(a=m.fieldErrors)||a.map((function(e){var r=e.field,a=e.message,o=r in(t||{})?n.fieldErrorMap[r]:r;c.onFieldError&&c.onFieldError(""+o,a)})),null==m||null==(i=m.errors)||!i.length||!f){y.next=12;break}return null==(g=m.errors)||g.map((function(e){return f(e)})),y.abrupt("return");case 12:return null!=m&&null!=(s=m.fieldErrors)&&s.length||d(m),y.abrupt("return",m);case 16:y.prev=16,y.t0=y.catch(3),f&&f(y.t0.message);case 19:return y.abrupt("return");case 20:case"end":return y.stop()}}),null,null,[[3,16]],Promise)}),[u,f,d,,b,r,JSON.stringify(y)])}}}},97:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var t,a=r(57),o=r.n(a),l=r(49),i=r(58),s=r(19),c=Object(i.a)(t||(t=o()(["\nquery QueryPermissions($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n      primaryColor\n      secondaryColor\n      \n      currentUser {\n        id\n        role {\n          id\n          name\n        }\n        permissions\n      }\n\n    }\n  }"])));function u(e){var n,r,t=Object(s.c)((function(e){return e.global})).currentDropzone,a=Object(l.useQuery)(c,{variables:{dropzoneId:Number(null==t?void 0:t.id)}}).data,o=(null==a||null==(n=a.dropzone)||null==(r=n.currentUser)?void 0:r.permissions)||[];return(null==o?void 0:o.includes(e))||!1}},98:function(e,n,r){"use strict";var t;r.d(n,"a",(function(){return t})),function(e){e.UpdateDropzone="updateDropzone",e.DeleteDropzone="deleteDropzone",e.CreateLoad="createLoad",e.UpdateLoad="updateLoad",e.DeleteLoad="deleteLoad",e.ReadLoad="readLoad",e.CreateSlot="createSlot",e.UpdateSlot="updateSlot",e.DeleteSlot="deleteSlot",e.CreateUserSlot="createUserSlot",e.CreateUserSlotWithSelf="createUserSlotWithSelf",e.UpdateUserSlot="updateUserSlot",e.DeleteUserSlot="deleteUserSlot",e.CreateStudentSlot="createStudentSlot",e.UpdateStudentSlot="updateStudentSlot",e.DeleteStudentSlot="deleteStudentSlot",e.CreateTicketType="createTicketType",e.UpdateTicketType="updateTicketType",e.DeleteTicketType="deleteTicketType",e.CreateExtra="createExtra",e.UpdateExtra="updateExtra",e.DeleteExtra="deleteExtra",e.ReadExtra="readExtra",e.CreatePlane="createPlane",e.UpdatePlane="updatePlane",e.DeletePlane="deletePlane",e.CreateRig="createRig",e.UpdateRig="updateRig",e.DeleteRig="deleteRig",e.ReadRig="readRig",e.CreateDropzoneRig="createDropzoneRig",e.UpdateDropzoneRig="updateDropzoneRig",e.DeleteDropzoneRig="deleteDropzoneRig",e.ReadDropzoneRig="readDropzoneRig",e.ReadPermissions="readPermissions",e.UpdatePermissions="updatePermissions",e.CreatePackjob="createPackjob",e.UpdatePackjob="updatePackjob",e.DeletePackjob="deletePackjob",e.ReadPackjob="readPackjob",e.CreateFormTemplate="createFormTemplate",e.UpdateFormTemplate="updateFormTemplate",e.DeleteFormTemplate="deleteFormTemplate",e.ReadFormTemplate="readFormTemplate",e.ReadUser="readUser",e.UpdateUser="updateUser",e.DeleteUser="deleteUser",e.CreateUser="createUser",e.ActAsPilot="actAsPilot",e.ActAsLoadMaster="actAsLoadMaster",e.ActAsGca="actAsGCA",e.ActAsDzso="actAsDZSO",e.ActAsRigInspector="actAsRigInspector",e.CreateUserTransaction="createUserTransaction",e.ReadUserTransactions="readUserTransactions",e.GrantPermission="grantPermission",e.RevokePermission="revokePermission"}(t||(t={}))}},[[416,5,6]]]);
//# sourceMappingURL=app.a0a71813.chunk.js.map