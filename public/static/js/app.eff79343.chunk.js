(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{133:function(e,n,t){"use strict";t.d(n,"a",(function(){return ie})),t.d(n,"c",(function(){return ce})),t.d(n,"b",(function(){return ue})),t.d(n,"d",(function(){return de})),t.d(n,"e",(function(){return me}));var r=t(4),a=t.n(r),o=t(101),i=t(38),l=t(428),s=t.n(l),c=t(223),u=t(10),d=t(327),m=t(11),f=t.n(m),p={original:null,open:!1,fields:{amount:{value:null,error:null},status:{value:"deposit",error:null},message:{value:"",error:null}}},g=Object(i.b)({name:"forms/credits",initialState:p,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=p.fields):(e.original=n.payload,e.open=!0)},reset:function(e){e.fields=p.fields,e.original=null}}}),b={original:null,open:!1,fields:{federation:{value:null,error:null},name:{value:"",error:null},secondaryColor:{value:"",error:null},primaryColor:{value:"",error:null},banner:{value:"",error:null},isCreditSystemEnabled:{value:!1,error:null},isPublic:{value:!1,error:null}}},y=Object(i.b)({name:"forms/dropzone",initialState:b,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=a)},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=b.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=b.fields,e.original=null}}}),v={original:null,open:!1,fields:{role:{value:null,error:null},expiresAt:{value:null,error:null}}},h=Object(i.b)({name:"forms/dropzoneUser",initialState:v,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=v.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=v.fields,e.original=null}}}),E=t(313),S=t(314),x={original:null,open:!1,fields:{name:{value:"",error:null},registration:{value:"",error:null},minSlots:{value:0,error:null},maxSlots:{value:4,error:null},hours:{value:null,error:null},nextMaintenanceHours:{value:null,error:null}}},C=Object(i.b)({name:"Plane",initialState:x,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields.name.error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=x.fields):(e.original=n.payload,e.open=!0,e.fields.hours.value=n.payload.hours,e.fields.minSlots.value=n.payload.minSlots,e.fields.maxSlots.value=n.payload.maxSlots,e.fields.name.value=n.payload.name,e.fields.registration.value=n.payload.registration,e.fields.nextMaintenanceHours.value=n.payload.nextMaintenanceHours)},reset:function(e){e.fields=x.fields,e.original=null}}}),w={original:null,open:!1,fields:{make:{value:"",error:null},model:{value:"",error:null},serial:{value:"",error:null},repackExpiresAt:{value:null,error:null},canopySize:{value:null,error:null},rigType:{value:"sport",error:null}}},O=Object(i.b)({name:"forms/rig",initialState:w,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=w.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=w.fields,e.original=null}}}),k={fields:[],open:!1,ok:!1},z=Object(i.b)({name:"forms/rigInspection",initialState:k,reducers:{setOk:function(e,n){e.ok=n.payload},setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields=e.fields.map((function(e,n){return n===r?a:e}))},setFields:function(e,n){try{e.fields=JSON.parse(n.payload)}catch(t){console.log(n.payload),console.error("Failed to read rig inspection template",t.message,n.payload)}},reset:function(e){e.fields=k.fields,e.ok=k.ok}}}),j={original:null,fields:[]},I=Object(i.b)({name:"forms/rigInspection",initialState:j,reducers:{setFields:function(e,n){e.fields=n.payload},setOpen:function(e,n){e.original=n.payload;try{e.fields=JSON.parse(n.payload.definition)}catch(t){console.log("Invalid json: ",n.payload.definition)}},reset:function(e){e.fields=j.fields,e.original=null}}}),D={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},rig:{value:null,error:null},ticketType:{value:null,error:null},dropzoneUser:{value:null,error:null},exitWeight:{value:null,error:null},passengerName:{value:null,error:null},passengerExitWeight:{value:null,error:null}}},P=Object(i.b)({name:"forms/manifest",initialState:D,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=D.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=D.fields,e.original=null}}}),T={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},ticketType:{value:null,error:null},users:{value:[],error:null}}},F=Object(i.b)({name:"forms/manifestGroup",initialState:T,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setFromSlots:function(e,n){var t,r,a;e.fields.users.value=n.payload.map((function(e){var n,t;return{id:Number(null==(n=e.dropzoneUser)?void 0:n.id),rigId:Number(null==(t=e.rig)?void 0:t.id),exitWeight:Number(e.exitWeight)}})),e.fields.jumpType.value=null==(t=n.payload.find((function(e){return e})))?void 0:t.jumpType,e.fields.load.value=null==(r=n.payload.find((function(e){return e})))?void 0:r.load,e.fields.extras.value=null==(a=n.payload.find((function(e){return e})))?void 0:a.extras},setDropzoneUsers:function(e,n){e.fields.users.value=n.payload.map((function(e){var n,t,r;return{id:Number(e.id),rigId:Number(null==e||null==(n=e.availableRigs)||null==(t=n.find((function(e){return e.id})))?void 0:t.id),exitWeight:Number(null==e||null==(r=e.user)?void 0:r.exitWeight)}}))},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=T.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=T.fields,e.original=null}}}),$={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},altitude:{value:14e3,error:null},allowManifestingSelf:{value:!1,error:null},isTandem:{value:!1,error:null},extras:{value:[],error:null}}},N=Object(i.b)({name:"forms/ticketType",initialState:$,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=$.fields):(e.original=n.payload,e.open=!0,e.fields.altitude.value=n.payload.altitude,e.fields.cost.value=n.payload.cost,e.fields.allowManifestingSelf.value=n.payload.allowManifestingSelf,e.fields.name.value=n.payload.name)},reset:function(e){e.fields=$.fields,e.original=null}}}),B={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:"",error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},rigs:{value:[],error:null},license:{value:null,error:null}}},L=Object(i.b)({name:"forms/user",initialState:B,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){var t;if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=B.fields;else for(var r in e.original=n.payload,e.open=!0,e.federation.value=null==(t=n.payload.license)?void 0:t.federation,n.payload)if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}},reset:function(e){e.fields=B.fields,e.original=null}}}),A={open:!1,fields:{user:{value:null,error:null},rig:{value:null,error:null}}},U=Object(i.b)({name:"forms/userWizard",initialState:A,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.fields=A.fields):(e.fields.user.value=n.payload,e.open=!0)},reset:function(e){e.fields=A.fields}}}),W={open:!1,complete:!1,fields:{dropzone:{value:null,error:null}}},R=Object(i.b)({name:"forms/dropzoneWizard",initialState:W,reducers:{setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.fields=W.fields):(e.fields.dropzone.value=n.payload,e.open=!0)},complete:function(e,n){e.complete=void 0===n.payload||n.payload},reset:function(e){e.fields=W.fields}}}),M=(E.b,S.b,{credits:g,dropzone:y,dropzoneUser:h,extra:E.a,load:S.a,plane:C,rig:O,rigInspection:z,rigInspectionTemplate:I,manifest:P,manifestGroup:F,ticketType:N,user:L,userWizard:U,dropzoneWizard:R}),V={isSearchVisible:!1,searchText:""},H=Object(i.b)({name:"screens/user",initialState:V,reducers:{setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=V.isSearchVisible,e.searchText=V.searchText}}}),q={fields:{email:{value:"",error:null},password:{value:"",error:null}}},J=Object(i.b)({name:"login",initialState:q,reducers:{setEmail:function(e,n){e.fields.email.value=n.payload},setPassword:function(e,n){e.fields.password.value=n.payload},setEmailError:function(e,n){e.fields.email.error=n.payload},setPasswordError:function(e,n){e.fields.password.error=n.payload},reset:function(e){e.fields=q.fields}}}),G={isSearchVisible:!1,selectedUsers:[],searchText:"",display:"list"},Y=Object(i.b)({name:"manifestScreen",initialState:G,reducers:{setSelected:function(e,n){e.selectedUsers=n.payload},setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},setDisplayStyle:function(e,n){e.display=n.payload},reset:function(e){e.isSearchVisible=G.isSearchVisible,e.searchText=G.searchText}}}),Q={federation:null,fields:{email:{value:"",error:null},password:{value:"",error:null},passwordConfirmation:{value:"",error:null},exitWeight:{value:50,error:null},name:{value:"",error:null},phone:{value:"",error:null},license:{value:null,error:null}}},_=Object(i.b)({name:"login",initialState:Q,reducers:{setFederation:function(e,n){e.federation=n.payload},setField:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=f()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},reset:function(e){e.fields=Q.fields}}}),Z={manifest:Y,users:H,login:J,signup:_},X=t(266),K=t(165);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}X.b,K.b;var te={key:"open-manifest.0.9.1",storage:"web"===u.a.OS?t(533).default:s.a,whitelist:["global","notifications"]},re=Object.keys(Z).reduce((function(e,n){return Z[n]?ne(ne({},e),{},a()({},n,Z[n].reducer)):e}),{}),ae=Object.keys(M).reduce((function(e,n){return M[n]?ne(ne({},e),{},a()({},n,M[n].reducer)):e}),{}),oe=Object.keys(Z).reduce((function(e,n){return Z[n]?ne(ne({},e),{},a()({},n,Z[n].actions)):e}),{}),ie={forms:Object.keys(M).reduce((function(e,n){return M[n]?ne(ne({},e),{},a()({},n,M[n].actions)):e}),{}),screens:oe,global:X.a.actions,notifications:K.a.actions},le=Object(o.b)({global:X.a.reducer,notifications:K.a.reducer,screens:Object(o.b)(re),forms:Object(o.b)(ae)}),se=Object(d.a)(te,le),ce=Object(i.a)({reducer:se,middleware:Object(i.c)({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),ue=Object(d.b)(ce),de=function(){return Object(c.b)()},me=c.c},137:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"b",(function(){return p}));var r=t(31),a=t.n(r),o=t(12),i=t.n(o),l=t(0),s=t(34),c=t(2),u=t(89),d=t(271);function m(e,n){var t=Object(d.a)(),r=e[t];return r||u.a[t][n]}function f(e){var n=e.style,t=e.lightColor,r=e.darkColor,o=i()(e,["style","lightColor","darkColor"]),c=m({light:t,dark:r},"text");return l.createElement(s.a,a()({style:[{color:c},n]},o))}function p(e){var n=e.style,t=e.lightColor,r=e.darkColor,o=i()(e,["style","lightColor","darkColor"]),s=m({light:t,dark:r},"background");return l.createElement(c.a,a()({style:[{backgroundColor:s},n]},o))}},161:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return y}));var r,a=t(4),o=t.n(a),i=t(28),l=t.n(i),s=t(36),c=t(567),u=t(37),d=t(0),m=t(5),f=t(239);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=Object(u.a)(r||(r=l()(["\n  query QueryDropzone($dropzoneId: Int!, $earliestTimestamp: Int) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n      primaryColor,\n      secondaryColor,\n      planes {\n        id\n        name\n        registration\n      }\n      ticketTypes {\n        id\n        name\n      }\n\n      currentUser {\n        id\n        credits\n        hasCredits\n        hasExitWeight\n        hasMembership\n        hasReserveInDate\n        hasRigInspection\n        hasLicense\n        permissions\n        expiresAt\n\n        role {\n          id\n          name\n        }\n\n        rigInspections {\n          id\n          isOk\n          rig {\n            id\n          }\n        }\n\n        transactions {\n          edges {\n            node {\n              id\n              status\n              amount\n            }\n          }\n        }\n        availableRigs {\n          id\n          make\n          model\n          canopySize\n          serial\n\n          user {\n            id\n          }\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          pushToken\n\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n\n      loads(earliestTimestamp: $earliestTimestamp) {\n        edges {\n          node {\n            id\n            name\n            loadNumber\n            isOpen\n            maxSlots\n            state\n          }\n        }\n      }\n    }\n  }\n"])));function y(){var e,n,t,r,a,o,i,l=Object(m.c)((function(e){return e.global.currentDropzoneId})),u=Object(m.c)((function(e){return e.global.expoPushToken})),p=(Object(m.b)(),Object(s.useQuery)(b,{variables:{dropzoneId:l,earliestTimestamp:Object(c.a)(new Date).getTime()/1e3},fetchPolicy:"cache-first"})),y=Object(f.a)({onSuccess:function(){return null},onError:function(){return null}});return d.useEffect((function(){var e,n,t,r,a,o,i,l,s=null==p||null==(e=p.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.id,c=null==p||null==(a=p.data)||null==(o=a.dropzone)||null==(i=o.currentUser)||null==(l=i.user)?void 0:l.pushToken,d=u;!p.loading&&p.called&&d&&d!==c&&y.mutate({id:Number(s),pushToken:d})}),[u,null==p||null==(e=p.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.pushToken]),g(g({},p),{},{dropzone:null==p||null==(a=p.data)?void 0:a.dropzone,currentUser:null==p||null==(o=p.data)||null==(i=o.dropzone)?void 0:i.currentUser})}},162:function(e,n,t){"use strict";var r=t(31),a=t.n(r),o=t(12),i=t.n(o),l=t(0),s=t(80),c=t(1),u=t(228),d=t(5);n.a=l.forwardRef((function(e,n){var t=Object(u.a)().height,r=Object(d.c)((function(e){return e.global})).theme,o=e.style,c=e.children,f=e.contentContainerStyle,p=i()(e,["style","children","contentContainerStyle"]);return l.createElement(s.a,a()({},p,{ref:n,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:[m.container,{backgroundColor:r.colors.surface,height:t-112},o],contentContainerStyle:[m.content,f]}),c)}));var m=c.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}})},165:function(e,n,t){"use strict";t.d(n,"b",(function(){return a}));var r=t(38),a={queue:[]};n.a=Object(r.b)({name:"notifications",initialState:a,reducers:{hideSnackbar:function(e){e.queue=e.queue.slice(1)},showSnackbar:function(e,n){e.queue.push(n.payload)}}})},167:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var r,a=t(11),o=t.n(a),i=t(28),l=t.n(i),s=t(36),c=t(37),u=t(0),d=t(121),m=t(22),f=t(108),p=t(287),g=Object(c.a)(r||(r=l()(["\n  query Federations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function b(e){var n,t,r=u.useState(!1),a=o()(r,2),i=a[0],l=a[1],c=Object(s.useQuery)(g).data;return u.useEffect((function(){var n;1!==(null==c||null==(n=c.federations)?void 0:n.length)||e.value||e.onSelect(c.federations[0])}),[JSON.stringify(null==c?void 0:c.federations)]),u.createElement(u.Fragment,null,u.createElement(m.b.Subheader,null,"Federation"),u.createElement(f.a,{onDismiss:function(){return l(!1)},visible:i,anchor:u.createElement(d.d,{onPress:function(){l(!0)}},u.createElement(p.a,{mode:"outlined",disabled:!0,style:{minWidth:200},value:(null==(n=e.value)?void 0:n.name)||"Please select federation"}))},null==c||null==(t=c.federations)?void 0:t.map((function(n){return u.createElement(f.a.Item,{onPress:function(){l(!1),e.onSelect(n)},title:n.name||"-",key:"federation-select-"+n.id})}))))}},197:function(e,n,t){"use strict";var r=t(11),a=t.n(r),o=t(0),i=t(1),l=t(105),s=t(22),c=t(63),u=t(81),d=t(285),m=t(617),f=t(255),p=t(404),g=t(207),b=t(465),y=t(125),v=t.n(y);function h(e){var n=e.value,t=e.onChange,r=e.open,a=e.onClose,i=o.useRef();return o.createElement(f.a,null,o.createElement(p.a,{visible:!!r,onDismiss:function(){return a()}},o.createElement(p.a.Title,null,"Custom color"),o.createElement(p.a.Content,{style:{padding:20,height:400}},o.createElement(b.a,{style:{flex:1},sliderComponent:v.a,defaultColor:n,hideSliders:!0,ref:i})),o.createElement(p.a.Actions,null,o.createElement(g.a,{onPress:function(){return a()}},"Cancel"),o.createElement(g.a,{onPress:function(){t(i.current.getColor())}},"Save"))))}i.a.create({fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}});var E=["#000000","#AAAAAA","#DDDDDD","#FF1414","#D6116B","#B70E97","#6718AC","#1E47AB","#11839E","#0DA583","#10C626","#92EA12","#FF8B14","#FFB214"];var S=i.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16,height:200},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:10,textAlign:"center"},colorBox:{height:25,width:25,margin:5,alignItems:"center",justifyContent:"center"}}),x=function(e){var n=e.value,t=e.title,r=e.helperText,i=e.onChange,f=e.error,p=!E.includes(n),g=o.useState(!1),b=a()(g,2),y=b[0],v=b[1];return o.createElement(o.Fragment,null,o.createElement(h,{open:y,value:n,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){i(e),v(!1)})),onClose:function(){return v(!1)}}),o.createElement(l.a,{style:S.card},o.createElement(s.b.Subheader,null,t),o.createElement(l.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},E.map((function(e){return o.createElement(c.a,{onPress:function(){return i(e)}},o.createElement(u.a,{style:[S.colorBox,{backgroundColor:e},e===n?{borderWidth:2,borderColor:"black"}:{}]}))})),o.createElement(c.a,{onPress:function(){return v(!0)}},o.createElement(u.a,{style:[S.colorBox,{backgroundColor:p?n:"#FFFFFF"},p?{borderWidth:2,borderColor:"black"}:{}]},o.createElement(m.a,{name:"add",size:1})))),o.createElement(d.a,{type:f?"error":"info"},f||r)))};n.a=x},198:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return d}));var r=t(0),a=t(1),o=t(34),i=t(2),l=t(81);var s=a.a.create({label:{fontWeight:"bold",textAlign:"center",color:"white",fontSize:16,marginTop:8},previewContainer:{height:200,width:100,borderRadius:5,borderWidth:a.a.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"96%",borderRadius:2,height:"20%",marginVertical:"2%",marginHorizontal:"2%",backgroundColor:"#DDDDDD",position:"absolute",top:"15%"},previewLoadCard2:{width:"96%",height:"20%",borderRadius:2,backgroundColor:"#DDDDDD",marginVertical:"2%",marginHorizontal:"2%",position:"absolute",top:"37%"},previewLoadCard3:{width:"96%",height:"20%",borderRadius:2,marginVertical:"2%",backgroundColor:"#DDDDDD",marginHorizontal:"2%",position:"absolute",top:"59%"},previewButton:{width:"35%",height:"6%",position:"absolute",bottom:22,right:5,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),c=function(e){var n=e.primaryColor,t=e.secondaryColor;return r.createElement(i.a,null,r.createElement(l.a,{style:s.previewContainer},r.createElement(i.a,{style:[s.previewAppBar,{backgroundColor:n}]}),r.createElement(i.a,{style:[s.previewLoadCard]}),r.createElement(i.a,{style:[s.previewLoadCard2]}),r.createElement(i.a,{style:[s.previewLoadCard3]}),r.createElement(i.a,{style:[s.previewButton,{backgroundColor:t}]}),r.createElement(i.a,{style:[s.previewTabBar,{backgroundColor:n}]})),r.createElement(o.a,{style:s.label},"Phone"))};var u=a.a.create({label:{fontWeight:"bold",textAlign:"center",color:"white",fontSize:16,marginTop:8},previewContainer:{height:100,width:170,borderRadius:5,borderWidth:a.a.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#DDDDDD",position:"absolute",top:"15%",left:"2%"},previewLoadCard2:{width:"30%",height:"60%",backgroundColor:"#DDDDDD",marginVertical:"2%",position:"absolute",top:"15%",left:"35%"},previewLoadCard3:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#DDDDDD",position:"absolute",top:"15%",left:"68%"},previewButton:{width:"12%",height:"6%",position:"absolute",bottom:15,right:8,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),d=function(e){var n=e.primaryColor,t=e.secondaryColor;return r.createElement(i.a,null,r.createElement(l.a,{style:u.previewContainer},r.createElement(i.a,{style:[u.previewAppBar,{backgroundColor:n}]}),r.createElement(i.a,{style:[u.previewLoadCard]}),r.createElement(i.a,{style:[u.previewLoadCard2]}),r.createElement(i.a,{style:[u.previewLoadCard3]}),r.createElement(i.a,{style:[u.previewButton,{backgroundColor:t}]}),r.createElement(i.a,{style:[u.previewTabBar,{backgroundColor:n}]})),r.createElement(o.a,{style:u.label},"Web"))}},239:function(e,n,t){"use strict";var r,a=t(28),o=t.n(a),i=t(37),l=t(55),s=Object(i.a)(r||(r=o()(["\n  mutation UpdateUser(\n    $id: Int,\n    $name: String,\n    $phone: String,\n    $email: String,\n    $pushToken: String,\n    $nickname: String,\n    $licenseId: Int,\n    $exitWeight: Float,\n  ){\n    updateUser(input: {\n      id: $id\n      attributes: {\n        pushToken: $pushToken\n        name: $name,\n        phone: $phone,\n        email: $email,\n        nickname: $nickname,\n        licenseId: $licenseId,\n        exitWeight: $exitWeight,\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      user {\n        id\n        name\n        exitWeight\n        email\n        pushToken\n        phone\n        rigs {\n          id\n          model\n          make\n          serial\n          canopySize\n        }\n        jumpTypes {\n          id\n          name\n        }\n        license {\n          id\n          name\n\n          federation {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));n.a=Object(l.a)(s,{getPayload:function(e){return e.updateUser},fieldErrorMap:{license:"licenseId",exit_weight:"exitWeight"}})},266:function(e,n,t){"use strict";t.d(n,"b",(function(){return p}));var r=t(4),a=t.n(r),o=t(38),i=t(146),l=t(267),s=t(118),c=t(147);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=d(d(d({},s.a),i.a),{},{colors:d(d(d({},s.a.colors),i.a.colors),{},{primary:"#333333"})}),f=d(d(d({},c.a),l.a),{},{colors:d(d(d({},c.a.colors),l.a.colors),{},{primary:"#333333"})}),p={currentUser:null,currentDropzone:null,currentDropzoneId:null,permissions:[],credentials:null,expoPushToken:null,theme:m,isDarkMode:!1};n.a=Object(o.b)({name:"global",initialState:p,reducers:{setCredentials:function(e,n){e.credentials=n.payload},setUser:function(e,n){e.currentUser=n.payload},setExpoPushToken:function(e,n){e.expoPushToken=n.payload},setPermissions:function(e,n){e.permissions=n.payload},setPrimaryColor:function(e,n){e.theme.colors.primary=n.payload},setAccentColor:function(e,n){e.theme.colors.accent=n.payload},setDropzone:function(e,n){var t,r,a,o,i,l;(e.currentDropzone=n.payload,e.currentDropzoneId=null!=(t=n.payload)&&t.id?Number(null==(r=n.payload)?void 0:r.id):null,null!=(a=e.currentDropzone)&&a.primaryColor)&&(e.theme.colors.primary=null==(i=e.currentDropzone)?void 0:i.primaryColor);null!=(o=e.currentDropzone)&&o.secondaryColor&&(e.theme.colors.accent=null==(l=e.currentDropzone)?void 0:l.secondaryColor)},toggleDarkMode:function(e){var n,t,r,a;(e.isDarkMode=!e.isDarkMode,e.theme=e.isDarkMode?f:m,null!=(n=e.currentDropzone)&&n.primaryColor)&&(e.theme.colors.primary=null==(r=e.currentDropzone)?void 0:r.primaryColor);null!=(t=e.currentDropzone)&&t.secondaryColor&&(e.theme.colors.accent=null==(a=e.currentDropzone)?void 0:a.secondaryColor)},logout:function(e){for(var n in p){var t=n;n in e&&(e[t]=p[t])}}}})},271:function(e,n,t){"use strict";function r(){return"light"}t.d(n,"a",(function(){return r}))},286:function(e,n,t){e.exports=t.p+"static/media/logo.6fa2ed95.png"},313:function(e,n,t){"use strict";t.d(n,"b",(function(){return i}));var r=t(11),a=t.n(r),o=t(38),i={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},ticketTypeIds:{value:[],error:null}}};n.a=Object(o.b)({name:"forms/extra",initialState:i,reducers:{setField:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields.name.error=null},setFieldError:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=i.fields):(e.original=n.payload,e.open=!0,e.fields.ticketTypeIds.value=n.payload.ticketTypes.map((function(e){var n=e.id;return Number(n)})),e.fields.cost.value=n.payload.cost,e.fields.name.value=n.payload.name)},reset:function(e){e.fields=i.fields,e.original=null}}})},314:function(e,n,t){"use strict";t.d(n,"b",(function(){return i}));var r=t(11),a=t.n(r),o=t(38),i={original:null,open:!1,fields:{name:{value:"",error:null},gca:{value:null,error:null},dispatchAt:{value:null,error:null},isOpen:{value:!0,error:null},loadMaster:{value:null,error:null},pilot:{value:null,error:null},plane:{value:null,error:null},maxSlots:{value:4,error:null}}};n.a=Object(o.b)({name:"forms/load",initialState:i,reducers:{setField:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=i.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=i.fields,e.original=null}}})},329:function(e,n,t){"use strict";var r=t(138),a=t(0),o=t(2),i=t(120);n.a=function(e){var n=e.items,t=e.selected,l=e.isSelected,s=e.isDisabled,c=e.icon,u=e.renderItemLabel,d=e.onChangeSelected,m=e.autoSelectFirst;return a.useEffect((function(){(!t||!t.length&&n.length&&m)&&d([n[0]])}),[JSON.stringify(t),JSON.stringify(n),m]),a.createElement(o.a,{style:{flexDirection:"row",flexWrap:"wrap"}},n.map((function(e){return a.createElement(i.a,{key:JSON.stringify(e),mode:"outlined",icon:!t.some((function(n){return Object(r.isEqual)(e,n)}))&&c?c:void 0,style:{margin:1},disabled:s(e),selected:l?l(e):t.some((function(n){return Object(r.isEqual)(e,n)})),onPress:function(){return d(1===t.length?[e]:Object(r.xorBy)(t,[e],JSON.stringify))}},u(e))})))}},33:function(e,n,t){"use strict";var r,a;t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return a})),function(e){e.Open="open",e.BoardingCall="boarding_call",e.InFlight="in_flight",e.Landed="landed",e.Cancelled="cancelled"}(r||(r={})),function(e){e.UpdateDropzone="updateDropzone",e.DeleteDropzone="deleteDropzone",e.CreateLoad="createLoad",e.UpdateLoad="updateLoad",e.DeleteLoad="deleteLoad",e.ReadLoad="readLoad",e.CreateSlot="createSlot",e.UpdateSlot="updateSlot",e.DeleteSlot="deleteSlot",e.CreateUserSlot="createUserSlot",e.CreateUserSlotWithSelf="createUserSlotWithSelf",e.UpdateUserSlot="updateUserSlot",e.DeleteUserSlot="deleteUserSlot",e.CreateStudentSlot="createStudentSlot",e.UpdateStudentSlot="updateStudentSlot",e.DeleteStudentSlot="deleteStudentSlot",e.CreateTicketType="createTicketType",e.UpdateTicketType="updateTicketType",e.DeleteTicketType="deleteTicketType",e.CreateExtra="createExtra",e.UpdateExtra="updateExtra",e.DeleteExtra="deleteExtra",e.ReadExtra="readExtra",e.CreatePlane="createPlane",e.UpdatePlane="updatePlane",e.DeletePlane="deletePlane",e.CreateRig="createRig",e.UpdateRig="updateRig",e.DeleteRig="deleteRig",e.ReadRig="readRig",e.CreateDropzoneRig="createDropzoneRig",e.UpdateDropzoneRig="updateDropzoneRig",e.DeleteDropzoneRig="deleteDropzoneRig",e.ReadDropzoneRig="readDropzoneRig",e.ReadPermissions="readPermissions",e.UpdatePermissions="updatePermissions",e.CreatePackjob="createPackjob",e.UpdatePackjob="updatePackjob",e.DeletePackjob="deletePackjob",e.ReadPackjob="readPackjob",e.CreateFormTemplate="createFormTemplate",e.UpdateFormTemplate="updateFormTemplate",e.DeleteFormTemplate="deleteFormTemplate",e.ReadFormTemplate="readFormTemplate",e.ReadUser="readUser",e.UpdateUser="updateUser",e.DeleteUser="deleteUser",e.CreateUser="createUser",e.ActAsPilot="actAsPilot",e.ActAsLoadMaster="actAsLoadMaster",e.ActAsGca="actAsGCA",e.ActAsDzso="actAsDZSO",e.ActAsRigInspector="actAsRigInspector",e.CreateUserTransaction="createUserTransaction",e.ReadUserTransactions="readUserTransactions",e.GrantPermission="grantPermission",e.RevokePermission="revokePermission"}(a||(a={}))},331:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var r=t(0),a=t(1),o=t(155),i=t(318),l=t(137);function s(e){var n=e.title,t=e.color,a=e.subtitle;return r.createElement(l.b,{style:c.empty},r.createElement(o.a,{style:{color:t}},n),r.createElement(i.a,{style:{color:t,textAlign:"center"}},a))}var c=a.a.create({container:{flex:1,padding:8,display:"flex",backgroundColor:"transparent"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",backgroundColor:"transparent",height:"100%"}})},332:function(e,n,t){"use strict";var r=t(0),a=t(317),o=t(5),i=t(165),l=t(364),s=i.a.actions;n.a=function(){var e=Object(o.c)((function(e){return e.notifications})),n=Object(o.b)(),t=Object(l.a)(),i=e.queue.length?e.queue[0]:null,c={info:{backgroundColor:t.info},success:{backgroundColor:t.success},error:{backgroundColor:t.error},warning:{backgroundColor:t.warning}};return r.createElement(a.a,{testID:"snackbar-message",visible:!!i,onDismiss:function(){return n(s.hideSnackbar())},duration:3e3,action:null==i?void 0:i.action,style:!(null==i||!i.variant)&&c[i.variant]},null==i?void 0:i.message)}},333:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(11),a=t.n(r),o=t(0),i=t(108),l=t(22),s=t(455),c=t.n(s),u=(t(582),t(399));function d(e){var n=o.useState(!1),t=a()(n,2),r=t[0],s=t[1];o.useCallback((function(){s(!1)}),[s]),o.useCallback((function(n){var t=n.date;s(!1),e.onChange(t.getTime()/1e3)}),[s,e.onChange]);return o.createElement(o.Fragment,null,o.createElement(i.a,{onDismiss:function(){return s(!1)},visible:r,anchor:o.createElement(l.b.Item,{onPress:function(){return s(!0)},disabled:!!e.disabled,title:e.label,description:e.timestamp?Object(u.a)(1e3*e.timestamp,"yyyy/MM/dd"):"No date selected",left:function(){return o.createElement(l.b.Icon,{icon:"calendar"})}})},o.createElement(c.a,{selectedDays:e.timestamp?[new Date(1e3*e.timestamp)]:[],onDayClick:function(n){e.onChange(n.getTime()/1e3),s(!1)}})))}},336:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return y}));var r,a=t(11),o=t.n(a),i=t(28),l=t.n(i),s=t(36),c=t(37),u=t(0),d=t(120),m=t(108),f=t(33),p=t(46),g=t(5),b=Object(c.a)(r||(r=l()(["\n  query QueryGCAUsers(\n    $dropzoneId: Int!\n    $permissions: [Permission!]\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(permissions: $permissions) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function y(e){var n,t,r,a,i,l,c,y,v=e.small,h=e.color,E=e.backgroundColor,S=u.useState(!1),x=o()(S,2),C=x[0],w=x[1],O=Object(g.c)((function(e){return e.global})).currentDropzoneId,k=Object(s.useQuery)(b,{variables:{dropzoneId:Number(O),permissions:["actAsGCA"]}}).data;return Object(p.a)(f.b.UpdateLoad)?u.createElement(m.a,{onDismiss:function(){return w(!1)},visible:C,anchor:u.createElement(d.a,{mode:"outlined",icon:"radio-handheld",selectedColor:h,onPress:function(){return w(!0)},style:{marginHorizontal:4,backgroundColor:E,height:v?25:void 0,alignItems:"center",borderColor:h||void 0},textStyle:{color:h,fontSize:v?12:void 0}},null!=(r=e.value)&&r.id?null==(a=e.value)||null==(i=a.user)?void 0:i.name:"No gca")},null==k||null==(l=k.dropzone)||null==(c=l.dropzoneUsers)||null==(y=c.edges)?void 0:y.map((function(n){var t,r,a;return u.createElement(m.a.Item,{key:"gca-chip-"+(null==n||null==(t=n.node)?void 0:t.id),onPress:function(){w(!1),e.onSelect(null==n?void 0:n.node)},title:null==n||null==(r=n.node)||null==(a=r.user)?void 0:a.name})}))):u.createElement(d.a,{mode:"outlined",icon:"radio-handheld",selectedColor:h,style:{marginHorizontal:4,backgroundColor:E,height:v?25:void 0,alignItems:"center",borderColor:h||void 0},textStyle:{color:h,fontSize:v?12:void 0}},(null==(n=e.value)||null==(t=n.user)?void 0:t.name)||"No gca")}},337:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));var r,a=t(11),o=t.n(a),i=t(28),l=t.n(i),s=t(36),c=t(37),u=t(0),d=t(120),m=t(108),f=t(33),p=t(46),g=t(5),b=Object(c.a)(r||(r=l()(["\n  query QueryPilotUsers(\n    $dropzoneId: Int!\n    $permissions: [Permission!]\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(permissions: $permissions) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function y(e){var n,t,r,a,i,l,c,y,v=e.small,h=e.color,E=e.backgroundColor,S=u.useState(!1),x=o()(S,2),C=x[0],w=x[1],O=Object(g.c)((function(e){return e.global})).currentDropzoneId,k=Object(s.useQuery)(b,{variables:{dropzoneId:O,permissions:["actAsPilot"]}}).data;return Object(p.a)(f.b.UpdateLoad)?u.createElement(m.a,{onDismiss:function(){return w(!1)},visible:C,anchor:u.createElement(d.a,{mode:"outlined",icon:"shield-airplane",selectedColor:h,style:{marginHorizontal:4,backgroundColor:E,height:v?25:void 0,alignItems:"center",borderColor:h||void 0},textStyle:{color:h,fontSize:v?12:void 0},onPress:function(){return w(!0)}},null!=(r=e.value)&&r.id?null==(a=e.value)||null==(i=a.user)?void 0:i.name:"No pilot")},null==k||null==(l=k.dropzone)||null==(c=l.dropzoneUsers)||null==(y=c.edges)?void 0:y.map((function(n){var t,r;return u.createElement(m.a.Item,{key:"pilot-select-"+n.node.id,onPress:function(){w(!1),e.onSelect(null==n?void 0:n.node)},title:null==n||null==(t=n.node)||null==(r=t.user)?void 0:r.name})}))):u.createElement(d.a,{mode:"outlined",icon:"radio-handheld",selectedColor:h,style:{marginHorizontal:4,backgroundColor:E,height:v?25:void 0,alignItems:"center",borderColor:h||void 0},textStyle:{color:h,fontSize:v?12:void 0}},(null==(n=e.value)||null==(t=n.user)?void 0:t.name)||"No pilot")}},338:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));var r,a=t(11),o=t.n(a),i=t(28),l=t.n(i),s=t(36),c=t(37),u=t(0),d=t(120),m=t(108),f=t(33),p=t(46),g=t(5),b=Object(c.a)(r||(r=l()(["\n  query QueryChipPlanes(\n    $dropzoneId: Int!\n  ) {\n    planes(dropzoneId: $dropzoneId) {\n      id\n      name\n      registration\n      hours\n      minSlots\n      maxSlots\n      nextMaintenanceHours\n      createdAt\n    }\n  }\n"])));function y(e){var n,t,r,a=e.small,i=e.color,l=e.backgroundColor,c=u.useState(!1),y=o()(c,2),v=y[0],h=y[1],E=Object(g.c)((function(e){return e.global})).currentDropzoneId,S=Object(s.useQuery)(b,{variables:{dropzoneId:Number(E)}}).data,x=Object(p.a)(f.b.UpdateLoad);return x?u.createElement(m.a,{onDismiss:function(){return h(!1)},visible:v,anchor:u.createElement(d.a,{mode:"outlined",icon:"airplane",selectedColor:i,style:{marginHorizontal:4,backgroundColor:l,height:a?25:void 0,alignItems:"center",borderColor:i||void 0},textStyle:{color:i,fontSize:a?12:void 0},onPress:function(){return x&&h(!0)}},(null==(t=e.value)?void 0:t.name)||"No plane")},null==S||null==(r=S.planes)?void 0:r.map((function(n){return u.createElement(m.a.Item,{key:"lm-plane-chip-"+n.id,onPress:function(){h(!1),e.onSelect(n)},title:n.name})}))):u.createElement(d.a,{mode:"outlined",icon:"airplane-takeoff",selectedColor:i,style:{marginHorizontal:4,backgroundColor:l,height:a?25:void 0,alignItems:"center"},textStyle:{color:i,fontSize:a?12:void 0}},(null==(n=e.value)?void 0:n.name)||"No plane")}},339:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var r,a=t(11),o=t.n(a),i=t(28),l=t.n(i),s=t(36),c=t(37),u=t(0),d=t(22),m=t(329),f=Object(c.a)(r||(r=l()(["\n  query Licenses($federationId: Int) {\n    licenses(federationId: $federationId) {\n      id\n      name\n\n      federation {\n        id\n        name\n      }\n\n    }\n  }\n"])));function p(e){var n=Object(s.useQuery)(f,{variables:{federationId:e.federationId}}).data;return u.createElement(u.Fragment,null,u.createElement(d.b.Subheader,null,"License"),u.createElement(m.a,{autoSelectFirst:!0,icon:"ticket-account",items:(null==n?void 0:n.licenses)||[],selected:[e.value].filter(Boolean),isSelected:function(n){var t;return n.id===(null==(t=e.value)?void 0:t.id)},renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChangeSelected:function(n){var t=o()(n,1)[0];return t?e.onSelect(t):null}}))}},364:function(e,n,t){"use strict";var r=t(271),a=t(89);n.a=function(){var e=Object(r.a)();return a.a[e]}},367:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t(11),a=t.n(r),o=t(0),i=t(120),l=t(108),s=t(33),c=t(46);function u(e){var n,t,r,u,d,m,f=e.small,p=e.color,g=e.backgroundColor,b=o.useState(!1),y=a()(b,2),v=y[0],h=y[1],E=Object(c.a)(s.b.UpdateLoad);return E?o.createElement(l.a,{onDismiss:function(){return h(!1)},visible:v,anchor:o.createElement(i.a,{mode:"outlined",icon:"shield-account",selectedColor:p,style:{marginHorizontal:4,backgroundColor:g,height:f?25:void 0,alignItems:"center",borderColor:p||void 0},textStyle:{color:p,fontSize:f?12:void 0},onPress:function(){return E&&h(!0)}},null!=(r=e.value)&&r.id?null==(u=e.value)||null==(d=u.user)?void 0:d.name:"No loadmaster")},null==(m=e.slots)?void 0:m.map((function(n){var t,r;return o.createElement(l.a.Item,{key:"lm-chip-"+n.id,onPress:function(){h(!1),e.onSelect(n.dropzoneUser)},title:null==n||null==(t=n.dropzoneUser)||null==(r=t.user)?void 0:r.name})}))):o.createElement(i.a,{mode:"outlined",icon:"shield-account",selectedColor:p,style:{marginHorizontal:4,backgroundColor:g,height:f?25:void 0,alignItems:"center",borderColor:p||void 0},textStyle:{color:p,fontSize:f?12:void 0}},(null==(n=e.value)||null==(t=n.user)?void 0:t.name)||"No loadmaster")}},370:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t(0),a=t(9),o=t(10),i=t(371),l=t(471),s=t(447),c=o.a.select({ios:r.lazy((function(){return t.e(1).then(t.t.bind(null,478,7)).then((function(e){return{default:e.CountdownCircleTimer}}))})),android:r.lazy((function(){return t.e(1).then(t.t.bind(null,478,7)).then((function(e){return{default:e.CountdownCircleTimer}}))})),web:r.lazy((function(){return t.e(30).then(t.t.bind(null,597,7)).then((function(e){return{default:e.CountdownCircleTimer}}))}))});function u(e){var n=e.end,t=e.size,o=Object(i.a)(n,new Date),u=5/o,d=10/o,m=10/o;return r.createElement(c,{isPlaying:Object(s.a)(n,new Date),duration:o||1,colors:[["#004777",m],["#F7B801",d],["#A30000",u]],size:t||50,strokeWidth:2},(function(e){var n=e.remainingTime,t=e.animatedColor,o=Math.round(n%60),i=Object(l.a)(n),s=o<10?"0"+o:o,c=i<10?"0"+i:i;return r.createElement(a.a.Text,{style:{color:t,fontSize:16}},c,":",s)}))}},390:function(e,n,t){"use strict";t.d(n,"a",(function(){return O}));var r,a=t(11),o=t.n(a),i=t(28),l=t.n(i),s=t(6),c=t.n(s),u=t(0),d=t(1),m=t(105),f=t(207),p=t(22),g=t(287),b=t(285),y=t(288),v=t(470),h=t(36),E=t(197),S=t(5),x=t(198),C=t(167),w=Object(h.gql)(r||(r=l()(["\n  query QueryFederations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function O(){Object(S.c)((function(e){return e.global}));var e=Object(S.c)((function(e){return e.forms.dropzone})),n=Object(S.b)(),t=Object(h.useQuery)(w),r=t.data,a=(t.loading,u.useState(!1)),i=o()(a,2),l=(i[0],i[1],u.useState(null)),s=o()(l,2);s[0],s[1];u.useEffect((function(){var t,a;null==r||null==(t=r.federations)||!t.length||null!=(a=e.fields.federation)&&a.value||n(S.a.forms.dropzone.setField(["federation",r.federations[0]]))}),[JSON.stringify(null==r?void 0:r.federations)]);var d=u.useCallback((function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(Object(v.a)({multiple:!1,type:"image"}));case 3:e=t.sent,n(S.a.forms.dropzone.setField(["banner",e.uri])),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}),[n]);return u.createElement(u.Fragment,null,u.createElement(m.a,{style:k.card},u.createElement(m.a.Title,{title:"Banner"}),u.createElement(m.a.Cover,{source:{uri:e.fields.banner.value||"https://picsum.photos/700"},resizeMode:"cover"}),u.createElement(m.a.Actions,{style:{justifyContent:"flex-end"}},u.createElement(f.a,{onPress:d},"Upload"))),u.createElement(m.a,{style:k.card},u.createElement(p.b.Subheader,null,"Name"),u.createElement(g.a,{mode:"outlined",error:!!e.fields.name.error,value:e.fields.name.value||"",onChangeText:function(e){return n(S.a.forms.dropzone.setField(["name",e]))}}),u.createElement(b.a,{type:"error"},e.fields.name.error||""),u.createElement(C.a,{value:e.fields.federation.value,onSelect:function(e){return n(S.a.forms.dropzone.setField(["federation",e]))},required:!0}),u.createElement(b.a,{type:e.fields.federation.error?"error":"info"},e.fields.federation.error||"")),u.createElement(m.a,{style:k.card},u.createElement(m.a.Title,{title:"Branding"}),u.createElement(m.a.Content,{style:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-end",width:"100%"}},u.createElement(x.a,{primaryColor:e.fields.primaryColor.value,secondaryColor:e.fields.secondaryColor.value}),u.createElement(x.b,{primaryColor:e.fields.primaryColor.value,secondaryColor:e.fields.secondaryColor.value}))),u.createElement(E.a,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:e.fields.primaryColor.error,onChange:function(e){return n(S.a.forms.dropzone.setField(["primaryColor",e]))},value:e.fields.primaryColor.value}),u.createElement(E.a,{title:"Accent color",helperText:"Accent color is used for highlights, like buttons and loading bars",error:e.fields.secondaryColor.error,onChange:function(e){return n(S.a.forms.dropzone.setField(["secondaryColor",e]))},value:e.fields.secondaryColor.value}),u.createElement(m.a,{style:k.card},u.createElement(p.b.Item,{title:"Use credit system",description:"Users will be charged credits when a load is marked as landed and can't manifest with insufficient funds.",onPress:function(){return n(S.a.forms.dropzone.setField(["isCreditSystemEnabled",!e.fields.isCreditSystemEnabled.value]))},left:function(){return u.createElement(y.a,{onPress:function(){return n(S.a.forms.dropzone.setField(["isCreditSystemEnabled",!e.fields.isCreditSystemEnabled.value]))},status:e.fields.isCreditSystemEnabled.value?"checked":"unchecked"})}})),u.createElement(m.a,{style:k.card},u.createElement(p.b.Item,{title:"Public",description:"Your dropzone will not be available in the app if this is disabled",onPress:function(){return n(S.a.forms.dropzone.setField(["isPublic",!e.fields.isPublic.value]))},left:function(){return u.createElement(y.a,{onPress:function(){return n(S.a.forms.dropzone.setField(["isPublic",!e.fields.isPublic.value]))},status:e.fields.isPublic.value?"checked":"unchecked"})}})))}var k=d.a.create({card:{padding:16,marginVertical:16,width:"100%"},fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}})},396:function(e,n,t){"use strict";t.d(n,"a",(function(){return O}));var r,a=t(23),o=t.n(a),i=t(4),l=t.n(i),s=t(11),c=t.n(s),u=t(28),d=t.n(u),m=t(6),f=t.n(m),p=t(36),g=t(37),b=t(0),y=t(22),v=t(319),h=t(33),E=t(46),S=t(5);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=Object(g.a)(r||(r=d()(["\n  mutation UpdateRole($roleId: Int!, $permissionName: String!, $enabled: Boolean!) {\n    updateRole(input: {\n      id: $roleId,\n      permission: $permissionName,\n      enabled: $enabled\n    }) {\n      role {\n        id\n        name\n        permissions\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"])));function O(e){var n=e.title,t=e.description,r=e.role,a=e.permissionName,i=Object(E.a)(h.b.GrantPermission),l=Object(p.useMutation)(w),s=c()(l,2),u=s[0],d=(s[1],Object(S.b)());return b.createElement(y.b.Item,{disabled:!i,style:{width:"100%"},right:function(){return b.createElement(v.a,{value:r.permissions.includes(a),onValueChange:function(){var e,n,t,i,l,s,c;return f.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,f.a.awrap(u({variables:{roleId:Number(r.id),permissionName:a,enabled:!r.permissions.includes(a)},optimisticResponse:{updateRole:{role:C(C({},r),{},{permissions:r.permissions.includes(a)?[].concat(o()(r.permissions),[a]):r.permissions.filter((function(e){return e!==a}))})}}}));case 2:if(null==(i=m.sent)||null==(e=i.data)||null==(n=e.updateRole)||null==(t=n.errors)||!t.length){m.next=6;break}return null==i||null==(l=i.data)||null==(s=l.updateRole)||null==(c=s.errors)||c.map((function(e){return d(S.a.notifications.showSnackbar({message:e,variant:"error"}))})),m.abrupt("return");case 6:case"end":return m.stop()}}),null,null,null,Promise)}})},title:n,description:t})}},46:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r,a=t(28),o=t.n(a),i=t(36),l=t(37),s=t(5),c=Object(l.a)(r||(r=o()(["\nquery QueryPermissions($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n      primaryColor\n      secondaryColor\n      \n      currentUser {\n        id\n        role {\n          id\n          name\n        }\n        permissions\n      }\n\n    }\n  }"])));function u(e){var n,t,r=Object(s.c)((function(e){return e.global})).currentDropzoneId,a=Object(i.useQuery)(c,{variables:{dropzoneId:Number(r)}}).data,o=(null==a||null==(n=a.dropzone)||null==(t=n.currentUser)?void 0:t.permissions)||[];return(null==o?void 0:o.includes(e))||!1}},461:function(e,n,t){"use strict";t.d(n,"a",(function(){return Kr}));var r=t(6),a=t.n(r),o=t(121),i=t(462),l=t(64),s=t(625),c=t(626),u=t(623),d=t(619),m=t(620),f=t(627),p=t(0),g=t(468),b=t(223),y=t(426),v=t(397),h=t(398),E=t(171),S=t(209),x=t(10),C=t(2),w=t(406),O=t(427),k=t.n(O),z=t(4),j=t.n(z),I=t(36),D=t(540),P=t(434),T=t(433),F=t(5);function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var B=Object(I.createHttpLink)({uri:l.a.manifest.extra.url});function L(e){var n=e.children,t=Object(F.c)((function(e){return e.global.credentials})),r=Object(F.b)(),a=p.useMemo((function(){return Object(T.a)((function(e){var n=e.graphQLErrors,t=e.networkError;e.operation,e.response;if(null!=n&&n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))return r(F.a.notifications.showSnackbar({message:"Session expired",variant:"error"})),void r(F.a.global.logout());t&&r(F.a.notifications.showSnackbar({message:"[Network error]: "+t,variant:"error"}))}))}),[r]),o=p.useMemo((function(){return Object(P.a)((function(e,n){return{headers:N(N({},n.headers),null!=t&&t.accessToken?N({Authorization:"Bearer "+t.accessToken,"access-token":t.accessToken,"token-type":t.tokenType},t):{})}}))}),[JSON.stringify(t)]),i=p.useMemo((function(){return new I.ApolloClient({link:a.concat(o).concat(B),cache:new I.InMemoryCache})}),[o]);return p.createElement(D.a,{client:i},n)}var A=t(133),U=t(11),W=t.n(U),R=t(614),M=t(613),V=t(464),H=t(328),q=t(296);function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y=t(332),Q={prefixes:[t(463).a("/"),"https://openmanifest.org","openmanifest://","http://localhost:19006"],config:{screens:{confirm:{path:"/confirm",params:{account_confirmation_success:void 0}},Authenticated:{screens:{HomeScreen:"/home",LoadScreen:"/load/:load_id",PackingScreen:"/packing",ProfileScreen:"/user/:id",SetupScreen:"/dropzone/setup"}},Limbo:{screens:{DropzonesScreen:"/dropzones",CreateDropzoneScreen:"/dropzone/create"}},Unauthenticated:{screens:{LoginScreen:"/login",SignUpScreen:"/signup"}}}}},_=t(622),Z=t(621),X=t(1),K=t(34),ee=t(78);function ne(e){var n=e.navigation;return p.createElement(C.a,{style:te.container},p.createElement(K.a,{style:te.title},"This screen doesn't exist."),p.createElement(ee.a,{onPress:function(){return n.replace("Root")},style:te.link},p.createElement(K.a,{style:te.linkText},"Go to home screen!")))}var te=X.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),re=t(19),ae=t(624),oe=t(441),ie=t(28),le=t.n(ie),se=t(29),ce=t(164),ue=t(105),de=t(161),me=t(336),fe=t(367),pe=t(337),ge=t(338),be=t(137),ye=t(33),ve=t(46),he=t(22),Ee=t(368),Se=t(120);function xe(e){var n,t,r,a,o,i,l,s,c=e.slot,u=e.onPress,d=e.onDelete;return p.createElement(ue.a,{onPress:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return u(c)})),elevation:3,style:{marginVertical:4}},p.createElement(ue.a.Title,{title:null==c||null==(n=c.dropzoneUser)?void 0:n.user.name,left:function(){var e,n,t;return null!=c&&null!=(e=c.dropzoneUser)&&null!=(n=e.user)&&n.image?p.createElement(he.a.Image,{source:{uri:null==c||null==(t=c.dropzoneUser)?void 0:t.user.image},size:24}):p.createElement(he.a.Icon,{icon:"account",size:24})},right:function(){return d?p.createElement(Ee.a,{style:{position:"absolute",marginTop:-45,marginRight:-45},onPress:function(e){e.preventDefault(),null==d||d(c)}},"-"):null}}),p.createElement(ue.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},p.createElement(Se.a,{style:{margin:2,height:25,padding:0,alignItems:"center"},textStyle:{fontSize:12},icon:"lock",mode:"outlined",disabled:!0},null==c||null==(t=c.dropzoneUser)||null==(r=t.role)?void 0:r.name),p.createElement(Se.a,{style:{margin:2,height:25,padding:0,alignItems:"center"},textStyle:{fontSize:12},icon:"ticket-account",mode:"outlined",disabled:!0},null==c||null==(a=c.dropzoneUser)||null==(o=a.user)||null==(i=o.license)?void 0:i.name),p.createElement(Se.a,{style:{margin:2,height:25,padding:0,alignItems:"center"},textStyle:{fontSize:12},icon:"human-handsup",mode:"outlined",disabled:!0},null==c||null==(l=c.jumpType)?void 0:l.name),p.createElement(Se.a,{style:{margin:2,height:25,padding:0,alignItems:"center"},textStyle:{fontSize:12},icon:"arrow-up-bold",mode:"outlined",disabled:!0},null==c||null==(s=c.ticketType)?void 0:s.name),c.wingLoading?p.createElement(Se.a,{style:{margin:2,height:25,padding:0,alignItems:"center"},textStyle:{fontSize:12},icon:"escalator-down",mode:"outlined",disabled:!0},c.wingLoading.toFixed(2)):null))}var Ce,we,Oe,ke=t(23),ze=t.n(ke),je=t(255),Ie=t(405),De=t(369),Pe=(Object(I.gql)(Ce||(Ce=le()(["\n  query QueryLoad($id: Int!) {\n    load(id: $id) {\n      id\n      name\n      createdAt\n      dispatchAt\n      hasLanded\n      maxSlots\n      loadNumber\n      isFull\n      isOpen\n      state,\n      plane {\n        id\n        name\n      }\n      gca {\n        id\n        user {\n          id\n          name\n        }\n      }\n      pilot {\n        id\n        user {\n          id\n          name\n        }\n      }\n      loadMaster {\n        id\n        user {\n          id\n          name\n        }\n      }\n      slots {\n        id\n        createdAt\n        exitWeight\n        passengerName\n        passengerExitWeight\n        \n        dropzoneUser {\n          id\n          user {\n            id\n            name\n            exitWeight\n          }\n        }\n        ticketType {\n          id\n          name\n          altitude\n          isTandem\n\n          extras {\n            id\n            name\n            cost\n          }\n        }\n        jumpType {\n          id\n          name\n        }\n        extras {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),Object(I.gql)(we||(we=le()(["\n  mutation UpdateLoad(\n    $id: Int!,\n    $pilotId: Int,\n    $gcaId: Int,\n    $planeId: Int,\n    $isOpen: Boolean,\n    $loadMasterId: Int,\n    $dispatchAt: Int,\n    $hasLanded: Boolean,\n    $state: LoadState\n  ){\n    updateLoad(input: {\n      id: $id\n      attributes: {\n        pilotId: $pilotId,\n        gcaId: $gcaId,\n        planeId: $planeId,\n        isOpen: $isOpen,\n        loadMasterId: $loadMasterId\n        dispatchAt: $dispatchAt\n        hasLanded: $hasLanded\n        state: $state\n      }\n    }) {\n      load {\n        id\n        name\n        createdAt\n        loadNumber\n        dispatchAt\n        hasLanded\n        maxSlots\n        isFull\n        isOpen\n        state\n        plane {\n          id\n          name\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        loadMaster {\n          id\n          user {\n            id\n            name\n          }\n        }\n        slots {\n          id\n          createdAt\n          exitWeight\n\n          passengerName\n          passengerExitWeight\n\n          user {\n            id\n            name\n          }\n          ticketType {\n            id\n            name\n            altitude\n            isTandem\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))));Object(I.gql)(Oe||(Oe=le()(["\nmutation DeleteSlot($id: Int!) {\n  deleteSlot(input: { id: $id }) {\n    slot {\n      id\n      load {\n        id\n        slots {\n          id\n          createdAt\n          exitWeight\n\n          passengerName\n          passengerExitWeight\n\n          user {\n            id\n            name\n          }\n          ticketType {\n            id\n            name\n            altitude\n            isTandem\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }  \n      }\n    }\n  }\n}\n"])));function Te(e){var n,t,r,o=Object(F.b)(),i=p.useState(!1),l=W()(i,2),s=l[0],c=l[1],u=e.load,d=Object(de.b)().currentUser,m=Object(I.useMutation)(Pe),f=W()(m,2),g=f[0],b=(f[1],p.useCallback((function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?Object(De.a)(new Date,e).getTime()/1e3:null,t.prev=1,t.next=4,a.a.awrap(g({variables:{id:Number(u.id),dispatchAt:n?Math.ceil(n):null,state:n?"boarding_call":"open"}}));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),null,null,[[1,6]],Promise)}),[g,JSON.stringify(u)])),y=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.awrap(g({variables:{state:"canceled",dispatchAt:null}}));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),null,null,[[0,5]],Promise)}),[g,JSON.stringify(u)]),v=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.awrap(g({variables:{id:Number(u.id),hasLanded:!0,state:"landed"}}));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),null,null,[[0,5]],Promise)}),[g,JSON.stringify(u)]),h=p.useCallback((function(e){return d.hasLicense?d.hasMembership?d.hasRigInspection?d.hasReserveInDate?d.hasExitWeight?d.hasCredits?(o(F.a.forms.manifest.setOpen(!0)),o(F.a.forms.manifest.setField(["dropzoneUser",d])),void o(F.a.forms.manifest.setField(["load",e]))):o(F.a.notifications.showSnackbar({message:"You have no credits on your account",variant:"warning"})):o(F.a.notifications.showSnackbar({message:"Update your exit weight on your profile before manifesting",variant:"warning"})):o(F.a.notifications.showSnackbar({message:"Your rig needs a reserve repack",variant:"warning"})):o(F.a.notifications.showSnackbar({message:"Your rig needs to be inspected before manifesting",variant:"warning"})):o(F.a.notifications.showSnackbar({message:"Your membership is out of date",variant:"warning"})):o(F.a.notifications.showSnackbar({message:"You need to select a license on your user profile",variant:"warning"}))}),[JSON.stringify(d)]),E=(Object(ve.a)(ye.b.UpdateLoad),Object(ve.a)(ye.b.CreateSlot)),S=Object(ve.a)(ye.b.CreateUserSlot),x=Object(ve.a)(ye.b.CreateUserSlotWithSelf),C=[ye.a.Open,ye.a.BoardingCall].includes(u.state),w=((null==u||null==(n=u.slots)?void 0:n.length)||0)>=((null==u?void 0:u.maxSlots)||(null==u||null==(t=u.plane)?void 0:t.maxSlots)||0),O=C&&!w&&E&&!(null!=u&&null!=(r=u.slots)&&r.some((function(e){var n;return(null==(n=e.dropzoneUser)?void 0:n.id)===(null==d?void 0:d.id)}))),k=(S||x)&&(null==u?void 0:u.state)!==ye.a.Landed&&(!(null!=u&&u.dispatchAt)||u.dispatchAt>(new Date).getTime()/1e3),z=p.useCallback((function(e){return function(){c(!1),b(e)}}),[b]),j=[{label:"20 minute call",onPress:z(20),icon:"airplane-takeoff"},{label:"15 minute call",onPress:z(15),icon:"airplane-takeoff"},{label:"10 minute call",onPress:z(10),icon:"airplane-takeoff"}],D=[O?{label:"Manifest me",icon:"account",onPress:function(){return h(u)}}:null,k?{label:"Manifest group",icon:"account-group",onPress:function(){o(F.a.forms.manifestGroup.reset()),o(F.a.forms.manifestGroup.setField(["load",u])),x&&!S&&(o(F.a.screens.manifest.setSelected([d])),o(F.a.forms.manifestGroup.setDropzoneUsers([d]))),o(F.a.forms.manifestGroup.setOpen(!0)),o(F.a.forms.manifestGroup.setField(["load",u]))}}:null].filter(Boolean),P=[[ye.a.BoardingCall].includes(u.state)?{label:"Cancel boarding call",icon:"airplane-off",onPress:z(null)}:null,[ye.a.Open].includes(u.state)?{label:"Cancel load",icon:"delete-sweep",onPress:function(){return y()}}:null,[ye.a.BoardingCall,ye.a.InFlight].includes(u.state)?{label:"Mark as Landed",icon:"airplane-landing",onPress:function(){return v()}}:null].filter(Boolean);return p.createElement(je.a,null,p.createElement(Ie.a.Group,{visible:!0,open:s,icon:s?"close":"plus",fabStyle:{marginLeft:16,marginBottom:32},actions:[].concat(ze()(C?D:[]),ze()([ye.a.Open].includes(null==u?void 0:u.state)?j:[]),ze()(P)),onStateChange:function(e){var n=e.open;return c(n)}}))}var Fe=t(163),$e=t(155),Ne=t(318),Be=t(447),Le=t(370);function Ae(e){var n=e.load,t=e.onEdit,r=e.canEdit,a=e.children,o=Object(F.c)((function(e){return e.global})).theme;return p.createElement(C.a,{style:[Ue.container,{backgroundColor:o.colors.primary}]},p.createElement(C.a,{style:Ue.actions},r?p.createElement(Fe.a,{icon:"pencil",size:20,color:o.colors.surface,onPress:function(){return t?t():null}}):null),p.createElement(C.a,{style:Ue.avatarContainer},p.createElement(C.a,{style:{flex:1/3}},n.dispatchAt&&Object(Be.a)(1e3*n.dispatchAt,new Date)?p.createElement(Le.a,{end:new Date(1e3*n.dispatchAt),size:80}):p.createElement(he.a.Icon,{size:80,icon:"shield-airplane",color:o.colors.primary,style:{backgroundColor:o.colors.surface}})),p.createElement(C.a,{style:Ue.titleContainer},p.createElement($e.a,{style:Ue.title},"Load #",null==n?void 0:n.loadNumber),p.createElement(Ne.a,{style:Ue.paragraph},null==n?void 0:n.name))),a)}var Ue=X.a.create({container:{width:"100%",paddingTop:16},actions:{flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:16,marginBottom:16},titleContainer:{paddingLeft:48,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{color:"white"},paragraph:{color:"white"}}),We=t(373);function Re(e){var n=e.items,t=1/n.length;return p.createElement(p.Fragment,null,p.createElement(We.a,{style:qe.divider}),p.createElement(C.a,{style:qe.container},n.map((function(e,r){return p.createElement(p.Fragment,null,p.createElement(C.a,{style:{flex:t},key:"info-grid-"+r},p.createElement(he.b.Item,{titleStyle:[qe.title,{fontWeight:!1!==e.bold?"bold":void 0}],title:e.value,descriptionStyle:qe.description,description:e.title,onPress:e.onPress})),r===n.length-1?null:p.createElement(We.a,{key:"info-grid-divider-"+r,style:qe.verticalDivider}))}))))}var Me,Ve,He,qe=X.a.create({container:{width:"100%",flexDirection:"row"},divider:{height:X.a.hairlineWidth,width:"100%",backgroundColor:"white"},verticalDivider:{width:X.a.hairlineWidth,height:"100%",backgroundColor:"white"},title:{textAlign:"center",color:"white"},description:{textAlign:"center",color:"white"}}),Je=t(51);function Ge(){return p.createElement(ue.a,{style:{maxHeight:150,flexGrow:1,borderWidth:1,borderStyle:"dashed",opacity:.5,margin:4,alignItems:"center",justifyContent:"center"}},p.createElement(ue.a.Title,{title:"Available",style:{alignSelf:"center",justifyContent:"center"},titleStyle:{textAlign:"center"}}))}var Ye=Object(I.gql)(Me||(Me=le()(["\n  query QueryLoad($id: Int!) {\n    load(id: $id) {\n      id\n      name\n      createdAt\n      dispatchAt\n      hasLanded\n      maxSlots\n      loadNumber\n      isFull\n      isOpen\n      state\n      weight\n      plane {\n        id\n        name\n      }\n      gca {\n        id\n        user {\n          id\n          name\n        }\n      }\n      pilot {\n        id\n        user {\n          id\n          name\n        }\n      }\n      loadMaster {\n        id\n        user {\n          id\n          name\n        }\n      }\n      slots {\n        id\n        createdAt\n        exitWeight\n        passengerName\n        passengerExitWeight\n        wingLoading\n        groupNumber\n        \n        dropzoneUser {\n          id\n          role {\n            id\n            name\n          }\n          user {\n            id\n            name\n            exitWeight\n            license {\n              id\n              name\n            }\n          }\n        }\n        ticketType {\n          id\n          name\n          altitude\n          isTandem\n\n          extras {\n            id\n            name\n            cost\n          }\n        }\n        jumpType {\n          id\n          name\n        }\n        extras {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),Qe=Object(I.gql)(Ve||(Ve=le()(["\n  mutation UpdateLoad(\n    $id: Int!,\n    $pilotId: Int,\n    $gcaId: Int,\n    $planeId: Int,\n    $isOpen: Boolean,\n    $loadMasterId: Int,\n    $dispatchAt: Int,\n    $hasLanded: Boolean,\n  ){\n    updateLoad(input: {\n      id: $id\n      attributes: {\n        pilotId: $pilotId,\n        gcaId: $gcaId,\n        planeId: $planeId,\n        isOpen: $isOpen,\n        loadMasterId: $loadMasterId\n        dispatchAt: $dispatchAt\n        hasLanded: $hasLanded\n      }\n    }) {\n      load {\n        id\n        name\n        createdAt\n        loadNumber\n        dispatchAt\n        hasLanded\n        maxSlots\n        isFull\n        isOpen\n        plane {\n          id\n          name\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        loadMaster {\n          id\n          user {\n            id\n            name\n          }\n        }\n        slots {\n          id\n          createdAt\n          exitWeight\n\n          passengerName\n          passengerExitWeight\n\n          user {\n            id\n            name\n          }\n          ticketType {\n            id\n            name\n            altitude\n            isTandem\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),_e=Object(I.gql)(He||(He=le()(["\nmutation DeleteSlot($id: Int!) {\n  deleteSlot(input: { id: $id }) {\n    slot {\n      id\n      load {\n        id\n        slots {\n          id\n          createdAt\n          exitWeight\n\n          passengerName\n          passengerExitWeight\n\n          user {\n            id\n            name\n          }\n          ticketType {\n            id\n            name\n            altitude\n            isTandem\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }  \n      }\n    }\n  }\n}\n"])));function Ze(e){Object(F.c)((function(e){return e.global}));var n,t,r,i,l,s,c,u,d,m,f,g,b=Object(F.b)(),y=p.useState(!1),v=W()(y,2),h=v[0],E=v[1],S=Object(Je.useRoute)(),x=Object(I.useQuery)(Ye,{variables:{id:Number(S.params.load.id)}}),C=x.data,w=x.loading,O=x.refetch,k=(null==C?void 0:C.load)||S.params.load,z=Object(de.b)(),D=z.currentUser,P=Object(I.useMutation)(Qe),T=W()(P,2),$=T[0],N=(T[1],Object(I.useMutation)(_e)),B=W()(N,2),L=B[0],A=(B[1],p.useCallback((function(e){var n,t,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,a.a.awrap(L({variables:{id:Number(e.id)}}));case 3:null!=(r=o.sent)&&null!=(n=r.data)&&null!=(t=n.deleteSlot)&&t.errors&&b(F.a.notifications.showSnackbar({message:r.data.deleteSlot.errors[0],variant:"error"})),o.next=9;break;case 7:o.prev=7,o.t0=o.catch(0);case 9:case"end":return o.stop()}}),null,null,[[0,7]],Promise)}),[$,JSON.stringify(k)])),U=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap($({variables:{id:Number(k.id),pilotId:Number(e.id)}}));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]],Promise)}),[$,JSON.stringify(k)]),R=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap($({variables:{id:Number(k.id),gcaId:Number(e.id)}}));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]],Promise)}),[$,JSON.stringify(k)]),M=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap($({variables:{id:Number(k.id),planeId:Number(e.id)}}));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]],Promise)}),[$,JSON.stringify(k)]),V=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap($({variables:{id:Number(k.id),loadMasterId:Number(e.id)}}));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]],Promise)}),[$,JSON.stringify(k)]),H=(Object(ve.a)(ye.b.UpdateLoad),Object(ve.a)(ye.b.UpdateSlot)),q=Object(ve.a)(ye.b.UpdateUserSlot),J=Object(ve.a)(ye.b.DeleteSlot),G=Object(ve.a)(ye.b.DeleteUserSlot),Y=Object(ve.a)(ye.b.CreateSlot);Object(ve.a)(ye.b.CreateUserSlot),Object(ve.a)(ye.b.CreateUserSlotWithSelf),Y&&(null==C||null==(n=C.load)?void 0:n.isOpen)&&null!=C&&null!=(t=C.load)&&t.isFull;p.useEffect((function(){var e,n;null!=C&&null!=(e=C.load)&&e.maxSlots&&(null==C||null==(n=C.load)?void 0:n.maxSlots)<5&&!h&&E(!0)}),[null==C||null==(r=C.load)?void 0:r.maxSlots]);var Q=Object(Je.useNavigation)(),_=Array.from({length:(null==k?void 0:k.maxSlots)||0}).map((function(e,n){var t;return((null==k||null==(t=k.slots)?void 0:t.length)||0)>n?k.slots[n]:null})),Z=(null==k?void 0:k.maxSlots)||(null==k||null==(i=k.plane)?void 0:i.maxSlots)||0,X=(null==k||null==(l=k.slots)?void 0:l.length)||0;return p.createElement(be.b,{style:{flexGrow:1}},p.createElement(Ae,{load:k},p.createElement(o.b,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{marginVertical:8}},p.createElement(ge.a,{value:null==C||null==(s=C.load)?void 0:s.plane,onSelect:function(e){var n,t,r,o,i;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(((null==C||null==(n=C.load)||null==(t=n.slots)?void 0:t.length)||0)>(e.maxSlots||0))){l.next=5;break}i=((null==C||null==(r=C.load)||null==(o=r.slots)?void 0:o.length)||0)-(e.maxSlots||0),b(F.a.notifications.showSnackbar({message:"You need to take "+i+" people off the load to fit on this plane",variant:"warning"})),l.next=8;break;case 5:return l.next=7,a.a.awrap(M(e));case 7:O();case 8:case"end":return l.stop()}}),null,null,null,Promise)},small:!0,backgroundColor:"transparent",color:"white"}),p.createElement(me.b,{dropzoneId:Number(null==z||null==(c=z.dropzone)?void 0:c.id),value:null==C||null==(u=C.load)?void 0:u.gca,onSelect:R,small:!0,backgroundColor:"transparent",color:"white"}),p.createElement(pe.a,{dropzoneId:Number(null==z||null==(d=z.dropzone)?void 0:d.id),value:null==C||null==(m=C.load)?void 0:m.pilot,onSelect:U,small:!0,backgroundColor:"transparent",color:"white"}),p.createElement(fe.a,{value:null==C||null==(f=C.load)?void 0:f.loadMaster,slots:(null==C?void 0:C.load.slots)||[],onSelect:V,small:!0,backgroundColor:"transparent",color:"white"})),p.createElement(Re,{items:[{title:"Status",value:(g={},j()(g,ye.a.Open,"Open"),j()(g,ye.a.BoardingCall,"On call"),j()(g,ye.a.Cancelled,"Cancelled"),j()(g,ye.a.InFlight,"In air"),j()(g,ye.a.Landed,"Landed"),g)[null==k?void 0:k.state]},{title:"Slots",value:X+"/"+Z},{title:"Weight",value:((null==k?void 0:k.weight)||0)+"kg"}]})),p.createElement(o.a,{testID:"slots",keyExtractor:function(e,n){return"slot-"+((null==e?void 0:e.id)||n)},style:{flex:1,height:se.a.get("window").height},contentContainerStyle:{flexGrow:1,paddingBottom:100,margin:8},numColumns:1,horizontal:!1,data:_,refreshing:w,onRefresh:O,refreshControl:p.createElement(ce.a,{refreshing:w,onRefresh:function(){return O()}}),renderItem:function(e){var n=e.item,t=e.index;return null===n?p.createElement(Ge,{key:"empty-slot-"+t}):p.createElement(xe,{key:"slot-"+n.id,slot:n,onDelete:D.id===n.dropzoneUser.id&&J||G?A:void 0,onPress:function(e){var n,t,r=null==k||null==(n=k.slots)?void 0:n.filter((function(n){var t=n.groupNumber;return t&&t===e.groupNumber})),a=function(){b(F.a.forms.manifestGroup.reset()),b(F.a.forms.manifestGroup.setFromSlots(r)),b(F.a.forms.manifestGroup.setField(["load",k])),Q.navigate("ManifestGroupScreen")},o=function(){b(F.a.forms.manifest.setOpen(e)),b(F.a.forms.manifest.setField(["load",k]))};(null==(t=e.user)?void 0:t.id)===(null==D?void 0:D.id)?H&&(null!=r&&r.length?a():o()):q&&(null!=r&&r.length?a():o())}})}}),p.createElement(Te,{load:k}))}X.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",marginVertical:8},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},slotText:{fontSize:12},fab:{position:"absolute",margin:16,right:0,bottom:0}});var Xe=t(403),Ke=t(108),en=t(207);function nn(e){var n=e.action,t=e.title;return p.createElement(C.a,{style:an.warning},p.createElement(Ne.a,{style:{color:"white"}},t),n?p.createElement(en.a,{onPress:n},"Fix"):null)}function tn(e){var n=e.credits,t=e.loading,r=e.isCreditSystemEnabled,a=e.isRigSetUp,o=e.isExitWeightDefined,i=e.isMembershipInDate,l=e.isReserveInDate,s=e.isRigInspectionComplete,c=e.onSetupWizard;if(e.loading)return null;Object(Je.useNavigation)();if(!o||!a){var u=[o?null:"exit weight",a?null:"equipment"].filter(Boolean);return p.createElement(nn,{title:"You need to define "+u.join("and")+" in your profile",action:function(){return c()}})}return i?s?l?!r||n||t?null:p.createElement(nn,{title:"You'll need to top up on credits before you can manifest"}):p.createElement(nn,{title:"Your reserve repack is due. You cannot manifest if your repack is out of date."}):p.createElement(nn,{title:"Your rig must be inspected before you can manifest at this dropzone"}):p.createElement(nn,{title:"Your membership seems to be out of date"})}var rn,an=X.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"black",justifyContent:"space-between",paddingHorizontal:32}}),on=Object(I.gql)(rn||(rn=le()(["\n  query QueryDropzone($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      isCreditSystemEnabled\n\n      currentUser {\n        id\n        credits\n        expiresAt\n        \n        rigInspections {\n          id\n          rig {\n            id\n            repackExpiresAt\n          }\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));X.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"#ffbb33",justifyContent:"space-between",paddingHorizontal:32}});var ln=function(e){var n,t,r,a,o,i,l,s,c,u,d,m,f,g,b,y,v,h,E,S,x,C,w,O,k=e.navigation,z=e.previous,j=e.scene,D=e.hideWarnings,P=p.useState(!1),T=W()(P,2),$=T[0],N=T[1],B=Object(F.c)((function(e){return e.global})).currentDropzoneId,L=Object(F.b)(),A=Object(I.useLazyQuery)(on,{variables:{dropzoneId:Number(B)}}),U=W()(A,2),R=U[0],M=U[1],V=M.data,H=M.loading;return p.useEffect((function(){B&&R()}),[R,B]),null==V||null==(n=V.dropzone)||n.isCreditSystemEnabled,p.createElement(p.Fragment,null,p.createElement(Xe.a.Header,null,z?p.createElement(Xe.a.BackAction,{onPress:k.goBack}):null,p.createElement(Xe.a.Content,{title:j.descriptor.options.title,titleStyle:{fontWeight:"bold"}}),j.descriptor.options.headerRight?j.descriptor.options.headerRight({tintColor:"white"}):p.createElement(Se.a,{mode:"outlined"},"$"+((null==V||null==(t=V.dropzone)||null==(r=t.currentUser)?void 0:r.credits)||0)),p.createElement(Ke.a,{onDismiss:function(){return N(!1)},visible:$,anchor:p.createElement(Fe.a,{icon:"dots-vertical",color:"#FFFFFF",onPress:function(){return N(!0)}})},p.createElement(Ke.a.Item,{title:"Change dropzone",icon:"radar",onPress:function(){k.replace("DropzonesScreen"),N(!1)}}),p.createElement(We.a,null),p.createElement(Ke.a.Item,{title:"Log out",icon:"logout",onPress:function(){L(F.a.global.logout()),N(!1)}}))),D?null:p.createElement(tn,{credits:(null==V||null==(a=V.dropzone)||null==(o=a.currentUser)?void 0:o.credits)||0,loading:H,isCreditSystemEnabled:!(null==V||null==(i=V.dropzone)||!i.isCreditSystemEnabled),isExitWeightDefined:!(null==V||null==(l=V.dropzone)||null==(s=l.currentUser)||null==(c=s.user)||!c.exitWeight),isMembershipInDate:!(null==V||null==(u=V.dropzone)||null==(d=u.currentUser)||!d.expiresAt)&&(null==V||null==(m=V.dropzone)||null==(f=m.currentUser)?void 0:f.expiresAt)>(new Date).getTime()/1e3,isReserveInDate:!(null==V||null==(g=V.dropzone)||null==(b=g.currentUser)||null==(y=b.user)||null==(v=y.rigs)||!v.some((function(e){var n,t,r,a=null==(n=V.dropzone)||null==(t=n.currentUser)||null==(r=t.rigInspections)?void 0:r.map((function(n){var t;return(null==n||null==(t=n.rig)?void 0:t.id)===e.id})),o=(e.repackExpiresAt||0)>(new Date).getTime()/1e3;return a&&o}))),isRigInspectionComplete:!(null==V||null==(h=V.dropzone)||null==(E=h.currentUser)||null==(S=E.rigInspections)||!S.length),isRigSetUp:!(null==V||null==(x=V.dropzone)||null==(C=x.currentUser)||null==(w=C.user)||null==(O=w.rigs)||!O.length),onSetupWizard:function(){var e,n,t,r=null==V||null==(e=V.dropzone)?void 0:e.currentUser;r&&(L(F.a.forms.user.setOpen(r.user)),null!=r&&null!=(n=r.user)&&null!=(t=n.rigs)&&t.length&&L(F.a.forms.rig.setOpen(r.user.rigs[0])),L(F.a.forms.userWizard.setOpen(r.user)))}}))},sn=p.lazy((function(){return Promise.all([t.e(8),t.e(7)]).then(t.bind(null,797))})),cn=p.lazy((function(){return t.e(12).then(t.bind(null,780))})),un=p.lazy((function(){return t.e(13).then(t.bind(null,781))})),dn=p.lazy((function(){return t.e(24).then(t.bind(null,782))})),mn=Object(_.a)();function fn(){var e=Object(F.c)((function(e){return e.global}));return p.createElement(mn.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return p.createElement(ln,e)},cardStyle:{flex:1}}},p.createElement(mn.Screen,{name:"DropzoneScreen",component:sn,options:{title:"Manifest"}}),p.createElement(mn.Screen,{name:"CreateLoadScreen",component:cn,options:{title:"Create load"}}),p.createElement(mn.Screen,{name:"LoadScreen",component:Ze,options:{title:"Load"}}),p.createElement(mn.Screen,{name:"ManifestGroupScreen",component:un,options:{title:"Manifest group"}}),p.createElement(mn.Screen,{name:"ManifestGroupUserSelectScreen",component:dn,options:{title:"Select users"}}))}var pn=t(31),gn=t.n(pn),bn=p.lazy((function(){return t.e(25).then(t.bind(null,795))})),yn=Object(_.a)();function vn(){return p.createElement(yn.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(ln,gn()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}}},p.createElement(yn.Screen,{name:"NotificationsScreen",component:bn,options:{title:"Notifications"}}))}var hn=p.lazy((function(){return Promise.all([t.e(2),t.e(0)]).then(t.bind(null,796))})),En=p.lazy((function(){return t.e(21).then(t.bind(null,783))})),Sn=Object(_.a)();function xn(){var e=Object(de.b)().currentUser;return p.createElement(Sn.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(ln,gn()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}}},p.createElement(Sn.Screen,{name:"ProfileScreen",component:hn,options:{title:"Profile"},initialParams:{userId:null==e?void 0:e.id}}),p.createElement(Sn.Screen,{name:"UpdateUserScreen",component:En,options:{title:"Edit profile"}}))}var Cn=p.lazy((function(){return t.e(27).then(t.bind(null,784))})),wn=p.lazy((function(){return t.e(14).then(t.bind(null,798))})),On=p.lazy((function(){return t.e(17).then(t.bind(null,785))})),kn=p.lazy((function(){return t.e(18).then(t.bind(null,786))})),zn=p.lazy((function(){return t.e(23).then(t.bind(null,787))})),jn=p.lazy((function(){return t.e(9).then(t.bind(null,799))})),In=p.lazy((function(){return t.e(20).then(t.bind(null,800))})),Dn=p.lazy((function(){return t.e(10).then(t.bind(null,788))})),Pn=p.lazy((function(){return t.e(22).then(t.bind(null,789))})),Tn=p.lazy((function(){return Promise.all([t.e(6),t.e(26)]).then(t.bind(null,790))})),Fn=p.lazy((function(){return t.e(15).then(t.bind(null,791))})),$n=p.lazy((function(){return t.e(16).then(t.bind(null,792))})),Nn=p.lazy((function(){return t.e(11).then(t.bind(null,801))})),Bn=Object(_.a)();function Ln(){return p.createElement(Bn.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(ln,e)},cardStyle:{flex:1}}},p.createElement(Bn.Screen,{name:"SettingsScreen",component:Cn,options:{title:"Settings"}}),p.createElement(Bn.Screen,{name:"UpdateDropzoneScreen",component:zn,options:{title:"Basic settings"}}),p.createElement(Bn.Screen,{name:"PlanesScreen",component:jn,options:{title:"Planes"}}),p.createElement(Bn.Screen,{name:"CreatePlaneScreen",component:On,options:{title:"New plane"}}),p.createElement(Bn.Screen,{name:"UpdatePlaneScreen",component:kn,options:{title:"Edit plane"}}),p.createElement(Bn.Screen,{name:"TicketTypesScreen",component:wn,options:{title:"Ticket types"}}),p.createElement(Bn.Screen,{name:"CreateExtraScreen",component:Fn,options:{title:"Create ticket add-on"}}),p.createElement(Bn.Screen,{name:"UpdateExtraScreen",component:$n,options:{title:"Update ticket add-on"}}),p.createElement(Bn.Screen,{name:"ExtrasScreen",component:Nn,options:{title:"Ticket add-ons"}}),p.createElement(Bn.Screen,{name:"RigInspectionTemplateScreen",component:In,options:{title:"Rig Inspection Form"}}),p.createElement(Bn.Screen,{name:"DropzoneRigsScreen",component:Dn,options:{title:"Dropzone rigs"}}),p.createElement(Bn.Screen,{name:"DropzonePermissionScreen",component:Pn,options:{title:"Permissions"}}),p.createElement(Bn.Screen,{name:"DropzoneMasterLogScreen",component:Tn,options:{title:"Master log"}}))}var An=p.lazy((function(){return t.e(29).then(t.bind(null,793))})),Un=p.lazy((function(){return t.e(28).then(t.bind(null,794))})),Wn=p.lazy((function(){return t.e(19).then(t.bind(null,802))})),Rn=p.lazy((function(){return Promise.all([t.e(2),t.e(0)]).then(t.bind(null,796))})),Mn=Object(_.a)();function Vn(){var e=Object(F.c)((function(e){return e.screens.users})),n=e.isSearchVisible,t=e.searchText,r=Object(F.b)();return p.createElement(Mn.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(Un,gn()({},e,{searchText:t,searchVisible:n,setSearchVisible:function(e){return r(F.a.screens.users.setSearchVisible(e))},onSearch:function(e){return r(F.a.screens.users.setSearchText(e))}}))},cardStyle:{flex:1}}},p.createElement(Mn.Screen,{name:"UsersScreen",component:An,options:{title:"Dropzone users"}}),p.createElement(Mn.Screen,{name:"UserProfileScreen",component:Rn,options:{title:"User"}}),p.createElement(Mn.Screen,{name:"RigInspectionScreen",component:Wn,options:{title:"Inspection"}}))}var Hn=Object(ae.a)();function qn(){var e=Object(re.b)(),n=Object(ve.a)(ye.b.ReadUser),t=Object(ve.a)(ye.b.UpdateDropzone),r=Object(ve.a)(ye.b.UpdatePlane),a=Object(ve.a)(ye.b.UpdateTicketType),o=Object(ve.a)(ye.b.UpdateExtra),i=Object(ve.a)(ye.b.GrantPermission),l=Object(ve.a)(ye.b.UpdateDropzoneRig),s=Object(ve.a)(ye.b.UpdateFormTemplate),c=t||r||a||o||i||l||s;return p.createElement(Hn.Navigator,{initialRouteName:"Manifest",tabBarOptions:{activeTintColor:"#FFFFFF",inactiveBackgroundColor:e.colors.primary,activeBackgroundColor:e.colors.primary,inactiveTintColor:"#CCCCCC",showLabel:!1,style:{backgroundColor:e.colors.primary}}},p.createElement(Hn.Screen,{name:"Manifest",component:fn,options:{tabBarIcon:function(e){e.focused;var n=e.color,t=e.size;return p.createElement(oe.a,{name:"airplane",color:n,size:t})},unmountOnBlur:!0}}),p.createElement(Hn.Screen,{name:"Notifications",component:vn,options:{tabBarIcon:function(e){e.focused;var n=e.color,t=e.size;return p.createElement(oe.a,{name:"bell",color:n,size:t})},unmountOnBlur:!0}}),p.createElement(Hn.Screen,{name:"Profile",component:xn,options:{tabBarIcon:function(e){var n=e.size,t=e.color;e.focused;return p.createElement(oe.a,{size:n,color:t,name:"account-circle"})},unmountOnBlur:!0}}),n&&p.createElement(Hn.Screen,{name:"Users",component:Vn,options:{tabBarIcon:function(e){var n=e.size,t=e.color;e.focused;return p.createElement(oe.a,{size:n,color:t,name:"account-group"})},unmountOnBlur:!0}}),c&&p.createElement(Hn.Screen,{name:"Settings",component:Ln,options:{tabBarIcon:function(e){var n=e.size,t=e.color;e.focused;return p.createElement(oe.a,{size:n,color:t,name:"account-cog"})}}}))}var Jn,Gn=t(37),Yn=t(123),Qn=t(616),_n=t(331),Zn=Object(Gn.a)(Jn||(Jn=le()(["\n  query QueryDropzones {\n    dropzones {\n      edges {\n        node {\n          id\n          name\n          primaryColor,\n          secondaryColor,\n          banner\n          ticketTypes {\n            id\n            name\n            cost\n            allowManifestingSelf\n            currency\n          }\n          planes {\n            id\n            name,\n            registration,\n            minSlots,\n            maxSlots,\n          }\n        }\n      }\n    }\n  }\n"])));function Xn(){var e,n=Object(F.b)(),t=Object(F.c)((function(e){return e.global})),r=Object(F.c)((function(e){return e.forms.dropzoneWizard})),o=Object(I.useQuery)(Zn),i=o.data,l=o.loading,s=o.refetch,c=Object(Je.useNavigation)();return p.useEffect((function(){r.complete&&!r.open&&t.currentDropzoneId&&(c.replace("Authenticated",{screen:"HomeScreen"}),n(F.a.forms.dropzoneWizard.complete(!1)))}),[r.open,r.complete]),p.createElement(Qn.a,{style:et.container},p.createElement(Yn.a,{data:(null==i||null==(e=i.dropzones)?void 0:e.edges)||[],numColumns:2,refreshing:l,onRefresh:function(){return s()},style:{flex:1,width:"100%"},contentContainerStyle:{flexGrow:1,width:"100%",paddingBottom:100},ListEmptyComponent:function(){return p.createElement(_n.a,{title:"No dropzones?",subtitle:"You can set one up!",color:"#FFFFFF"})},renderItem:function(e){var r,o,i,l=e.item;return p.createElement(ue.a,{style:{width:se.a.get("window").width/2-32,margin:8},onPress:function(){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:null!=l&&l.node&&(e=!!t.currentDropzoneId,n(F.a.global.setDropzone(l.node)),e&&c.replace("Authenticated",{screen:"HomeScreen"}));case 1:case"end":return r.stop()}}),null,null,null,Promise)}},null!=l&&null!=(r=l.node)&&r.banner?p.createElement(ue.a.Cover,{source:{uri:null==l||null==(o=l.node)?void 0:o.banner}}):p.createElement(C.a,{style:[et.dzIcon,{backgroundColor:l.node.primaryColor}]},p.createElement(he.a.Icon,{style:{backgroundColor:l.node.secondaryColor},icon:"airplane-takeoff"})),p.createElement(ue.a.Content,null,p.createElement($e.a,null,null==l||null==(i=l.node)?void 0:i.name)))}}),p.createElement(Ie.a,{style:et.fab,small:!0,icon:"plus",onPress:function(){n(F.a.forms.plane.reset()),n(F.a.forms.ticketType.reset()),n(F.a.forms.dropzone.reset()),n(F.a.forms.dropzoneWizard.setOpen(!0))},label:"Create dropzone"}))}var Kn,et=X.a.create({container:{flex:1,padding:8,display:"flex",flexGrow:1,backgroundColor:"#FF1414"},dzIcon:{height:150,alignItems:"center",justifyContent:"center"},fab:{position:"absolute",margin:32,right:16,bottom:0,backgroundColor:"#FFFFFF"},empty:{flex:1,backgroundColor:"#FF1414",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),nt=t(390),tt=t(55),rt=Object(Gn.a)(Kn||(Kn=le()(["\nmutation CreateDropzone(\n  $name: String!,\n  $banner: String,\n  $federationId: Int!\n  $primaryColor: String\n  $secondaryColor: String\n){\n  createDropzone(input: { attributes: { name: $name, banner: $banner, federationId: $federationId, primaryColor: $primaryColor, secondaryColor: $secondaryColor }}) {\n    dropzone {\n      id\n      name\n      banner\n\n      federation {\n        id\n        name\n      }\n    }\n  }\n}\n"]))),at=Object(tt.a)(rt,{getPayload:function(e){return e.createDropzone},fieldErrorMap:{federation:"federationId"},validates:{name:[Object(tt.c)("Name is required")]}}),ot=t(162);function it(){var e=Object(F.c)((function(e){return e.forms.dropzone})),n=Object(F.b)(),t=at({onError:function(e){return n(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,t){return n(F.a.forms.dropzone.setFieldError([e,t]))},onSuccess:function(e){return n(F.a.global.setDropzone(e.dropzone))}});return p.createElement(ot.a,{contentContainerStyle:{paddingHorizontal:32}},p.createElement(nt.a,null),p.createElement(be.b,{style:lt.fields},p.createElement(en.a,{mode:"contained",disabled:t.loading,loading:t.loading,onPress:function(){return t.mutate({name:e.fields.name.value,banner:e.fields.banner.value,federationId:Number(e.fields.federation.value.id)})}},"Save")))}var lt=X.a.create({container:{flex:1,alignItems:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%"},field:{marginBottom:8}}),st=Object(_.a)();function ct(){return p.createElement(st.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"Dropzones"},p.createElement(st.Screen,{name:"DropzonesScreen",component:Xn}),p.createElement(st.Screen,{name:"CreateDropzoneScreen",component:it}))}var ut,dt=t(49),mt=t(166),ft=t(287),pt=t(285),gt=t(35),bt=t(89),yt=t(286),vt=t.n(yt),ht=Object(I.gql)(ut||(ut=le()(["\n  mutation UserLogin($email: String!, $password: String!) {\n    userLogin(email: $email, password: $password) {\n      authenticatable {\n        id\n        email\n        name\n        phone\n        createdAt\n        updatedAt\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n"])));function Et(){var e=Object(F.c)((function(e){return e.screens.login})),n=Object(F.b)(),t=Object(gt.useNavigation)(),r=Object(I.useMutation)(ht),o=W()(r,2),i=o[0],l=o[1],s=p.useCallback((function(){var t,r,o,l,s,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),r=!1,e.fields.email.value||(r=!0,n(F.a.screens.login.setEmailError("Email is required"))),e.fields.password.value||(r=!0,n(F.a.screens.login.setPasswordError("Password is required"))),t.test(e.fields.email.value)||(r=!0,n(F.a.screens.login.setEmailError("Please enter a valid email"))),r){d.next=17;break}return d.prev=6,d.next=9,a.a.awrap(i({variables:{email:e.fields.email.value,password:e.fields.password.value}}));case 9:u=d.sent,console.log({result:u}),null!=u&&null!=(o=u.data)&&null!=(l=o.userLogin)&&l.authenticatable&&null!=u&&null!=(s=u.data)&&null!=(c=s.userLogin)&&c.credentials&&(n(F.a.global.setCredentials(u.data.userLogin.credentials)),n(F.a.global.setUser(u.data.userLogin.authenticatable))),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(6),n(F.a.notifications.showSnackbar({message:d.t0.message,variant:"error"}));case 17:case"end":return d.stop()}}),null,null,[[6,14]],Promise)}),[i,JSON.stringify(e.fields)]);return p.createElement(be.b,{style:xt.container},p.createElement(dt.a,{source:vt.a,style:{height:300,width:"100%"},resizeMode:"contain"}),p.createElement(mt.a,{style:xt.fields,behavior:"padding"},p.createElement(ft.a,{label:"Email",mode:"outlined",value:e.fields.email.value,onChangeText:function(e){n(F.a.screens.login.setEmail(e))}}),p.createElement(pt.a,{type:"error"},e.fields.email.error||" "),p.createElement(ft.a,{label:"Password",mode:"outlined",value:e.fields.password.value,secureTextEntry:!0,onChangeText:function(e){n(F.a.screens.login.setPassword(e))},error:!!e.fields.password.error}),p.createElement(pt.a,{type:"error"},e.fields.password.error||" "),p.createElement(en.a,{mode:"contained",labelStyle:xt.buttonLabel,style:xt.button,onPress:s,loading:l.loading},"Log in"),p.createElement(en.a,{labelStyle:xt.textButtonLabel,style:xt.textButton,onPress:function(){return t.navigate("SignUpScreen")}},"Sign up")))}var St,xt=X.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:bt.c,paddingTop:10},title:{fontSize:20,fontWeight:"bold"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},textButton:{marginTop:10,backgroundColor:"transparent",color:"white",width:"100%"},textButtonLabel:{color:"#FFFFFF"}}),Ct=Object(Gn.a)(St||(St=le()(['\n  mutation UserSignUp(\n    $email: String!,\n    $password: String!,\n    $passwordConfirmation: String!\n    $name: String!\n    $phone: String!\n    $pushToken: String\n    $exitWeight: Float!\n    $licenseId: Int\n  ){\n    userSignUp(\n      email: $email,\n      password: $password,\n      passwordConfirmation: $passwordConfirmation,\n      exitWeight: $exitWeight,\n      name: $name,\n      phone: $phone,\n      pushToken: $pushToken,\n      licenseId: $licenseId,\n      confirmSuccessUrl: "https://openmanifest.org/confirm/"\n    ) {\n      authenticatable {\n        createdAt,\n        email,\n        id,\n        name,\n        phone,\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n']))),wt=Object(tt.a)(Ct,{getPayload:function(e){return e.userSignUp},fieldErrorMap:{license:"licenseId"},validates:{name:[Object(tt.c)("Name is required")],email:[Object(tt.b)("Please enter a valid email")],passwordConfirmation:[Object(tt.d)("Password must have 1 uppercase, 1 lowercase, 1 digit and be at least 8 characters",(function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}.*$/.test(e.passwordConfirmation)})),Object(tt.d)("Passwords don't match",(function(e){return e.password===e.passwordConfirmation}))]}});function Ot(){var e=Object(F.c)((function(e){return e.screens.signup})),n=Object(F.c)((function(e){return e.global})),t=Object(F.b)(),r=Object(Je.useNavigation)(),a=wt({onSuccess:function(e){t(F.a.notifications.showSnackbar({message:"A confirmation link has been sent to your email",variant:"success"})),r.navigate("LoginScreen")},onFieldError:function(e,n){return t(F.a.screens.signup.setFieldError([e,n]))}}),o=a.loading,i=a.mutate;return p.createElement(ot.a,{style:kt.container,contentContainerStyle:kt.content},p.createElement(mt.a,{style:kt.fields,behavior:"position"},p.createElement(dt.a,{source:vt.a,style:{width:"100%",height:200},resizeMode:"contain"}),p.createElement(ft.a,{style:kt.field,mode:"outlined",label:"Name",error:!!e.fields.name.error,value:e.fields.name.value,onChangeText:function(e){return t(F.a.screens.signup.setField(["name",e]))}}),p.createElement(pt.a,{type:"error"},e.fields.name.error||""),p.createElement(pt.a,{type:e.fields.exitWeight.error?"error":"info"},e.fields.exitWeight.error||""),p.createElement(ft.a,{style:kt.field,mode:"outlined",label:"Email",error:!!e.fields.email.error,value:e.fields.email.value,onChangeText:function(e){return t(F.a.screens.signup.setField(["email",e]))}}),p.createElement(pt.a,{type:"error"},e.fields.email.error||""),p.createElement(ft.a,{style:kt.field,mode:"outlined",label:"Phone",error:!!e.fields.phone.error,value:e.fields.phone.value,onChangeText:function(e){return t(F.a.screens.signup.setField(["phone",e]))}}),p.createElement(pt.a,{type:"error"},e.fields.phone.error||""),p.createElement(ft.a,{style:kt.field,mode:"outlined",label:"Password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.password.value,onChangeText:function(e){return t(F.a.screens.signup.setField(["password",e]))}}),p.createElement(pt.a,{type:"error"},e.fields.password.error||""),p.createElement(ft.a,{style:kt.field,mode:"outlined",label:"Repeat password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.passwordConfirmation.value,onChangeText:function(e){return t(F.a.screens.signup.setField(["passwordConfirmation",e]))}}),p.createElement(pt.a,{type:"error"},e.fields.passwordConfirmation.error||""),p.createElement(en.a,{mode:"contained",labelStyle:kt.buttonLabel,style:kt.button,onPress:function(){var t,r;return i({pushToken:n.expoPushToken,email:e.fields.email.value,name:e.fields.name.value,exitWeight:e.fields.exitWeight.value,password:e.fields.password.value,passwordConfirmation:e.fields.passwordConfirmation.value,licenseId:Number(null==(t=e.fields.license)||null==(r=t.value)?void 0:r.id)||null,phone:e.fields.phone.value})},loading:o},"Sign up")))}var kt=X.a.create({container:{flex:1,backgroundColor:bt.c},content:{paddingHorizontal:60,alignItems:"center"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",flexGrow:1,maxWidth:400,backgroundColor:"transparent"},field:{marginBottom:8,backgroundColor:"white",borderColor:"white",color:"white"}}),zt=Object(_.a)();function jt(){return p.createElement(zt.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},p.createElement(zt.Screen,{name:"LoginScreen",component:Et}),p.createElement(zt.Screen,{name:"SignUpScreen",component:Ot}))}var It=X.a.create({container:{flexGrow:1,backgroundColor:"#FF0000",alignItems:"center",justifyContent:"center"},icon:{backgroundColor:bt.d,marginBottom:16},errorIcon:{backgroundColor:bt.e,marginBottom:16},title:{fontSize:38,color:"#FFFFFF",marginBottom:16},subtitle:{fontSize:26,color:"#FFFFFF",textAlign:"center"}}),Dt=function(){var e,n=Object(Je.useRoute)();return"true"===(null==n||null==(e=n.params)?void 0:e.account_confirmation_success)?p.createElement(C.a,{style:It.container},p.createElement(he.a.Icon,{icon:"check",style:It.icon}),p.createElement(K.a,{style:It.title},"All done!"),p.createElement(K.a,{style:It.subtitle},"You can now log in")):p.createElement(C.a,{style:It.container},p.createElement(he.a.Icon,{icon:"close",style:It.errorIcon}),p.createElement(K.a,{style:It.title},"Oops!"),p.createElement(K.a,{style:It.subtitle},"Something went wrong. Please contact support"))},Pt=Object(_.a)();Object(Z.a)();function Tt(){var e=Object(A.e)((function(e){return e.global}));return p.createElement(Pt.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},e.credentials?e.currentDropzone?p.createElement(Pt.Screen,{name:"Authenticated",component:qn}):p.createElement(Pt.Screen,{name:"Dropzones",component:ct}):p.createElement(Pt.Screen,{name:"Unauthenticated",component:jt}),p.createElement(Pt.Screen,{name:"confirm",component:Dt}),p.createElement(Pt.Screen,{name:"DropzonesScreen",component:Xn}),p.createElement(Pt.Screen,{name:"NotFound",component:ne,options:{title:"Oops!"}}))}var Ft=t(247),$t=t(467);function Nt(e){var n=e.size,t=e.paginationIndex,r=e.icons,a=se.a.get("window").width,o=((a>500?500:a)-96-30*n)/n;return p.createElement(C.a,{style:Bt.pagination},Array.from({length:n}).map((function(e,a){var i=r&&r.length>a,l=a<t?"check":"";return l=a==t?"pencil":l,p.createElement(p.Fragment,{key:a},p.createElement(he.a.Icon,{icon:i?r[a]:l,size:30,style:[Bt.icon,t>a?Bt.iconDone:void 0]}),n-1>a?p.createElement(C.a,{style:[Bt.bridge,{width:o},t>a?Bt.bridgeDone:void 0]}):null)})))}var Bt=X.a.create({pagination:{flexDirection:"row",position:"absolute",top:100,alignSelf:"center"},bridge:{height:10,marginTop:10,marginLeft:-2,width:50,backgroundColor:"white"},bridgeDone:{backgroundColor:bt.d},icon:{backgroundColor:"white",marginLeft:-1},iconDone:{backgroundColor:bt.d,marginLeft:-1}}),Lt=p.createContext({index:0,count:0,setIndex:function(){return null}});var At=se.a.get("window").width,Ut=X.a.create({container:{width:At,flex:1,paddingBottom:0}}),Wt=function(e){var n=e.children,t=e.icons,r=p.useState(0),a=W()(r,2),o=a[0],i=a[1],l=p.useRef(null),s=p.Children.count(n);return p.createElement(Lt.Provider,{value:{index:o,count:s,setIndex:function(e){var n;null==(n=l.current)||n.scrollToIndex({index:e,animated:!0})}}},p.createElement(C.a,{style:[Ut.container]},p.createElement($t.a,{showPagination:!0,index:o,PaginationComponent:function(e){return p.createElement(Nt,gn()({},e,{icons:t}))},numColumns:1,scrollEnabled:!1,autoplay:!1,ref:l,onChangeIndex:function(e){var n=e.index;e.prevIndex;i(n||0)}},n)))},Rt=t(12),Mt=t.n(Rt);var Vt=X.a.create({wizardScreen:{justifyContent:"center"},container:{backgroundColor:"#FF1414",paddingHorizontal:32,alignSelf:"center"},content:{paddingTop:200,flexGrow:1,paddingBottom:0},title:{position:"absolute",top:140,marginBottom:50,color:"white",fontSize:24,fontWeight:"bold",textAlign:"center",alignSelf:"center"},button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"flex-end",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:100}}),Ht=function(e){var n=e.title,t=e.loading,r=e.onBack,o=e.backButtonLabel,i=e.nextButtonLabel,l=e.onNext,s=se.a.get("window"),c=s.width,u=s.height,d=c>500?500:c,m=p.useContext(Lt),f=m.index,g=m.setIndex,b=p.useRef();return p.useEffect((function(){b.current?(b.current.scrollTo({y:0,animated:!1}),console.log("Scrolling ",e.title," to 0")):console.log("No ref")}),[f]),p.createElement(C.a,{style:X.a.flatten([Vt.wizardScreen,{width:c},e.style])},p.createElement(ot.a,{style:[Vt.container,{width:d}],contentContainerStyle:[Vt.content,{minHeight:u}],ref:b},p.createElement($e.a,{style:Vt.title},n),e.children,p.createElement(C.a,{style:Vt.buttons},p.createElement(en.a,{key:"button-next-"+f,loading:t,mode:"contained",color:"#FFFFFF",disabled:t,style:Vt.button,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNext with index",f),l(f,g);case 2:case"end":return e.stop()}}),null,null,null,Promise)}},i),r?p.createElement(en.a,{key:"button-"+f,mode:"text",disabled:t,color:"#FFFFFF",style:Vt.buttonBack,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r(f,g);case 1:case"end":return e.stop()}}),null,null,null,Promise)}},o):null)))};var qt=X.a.create({subtitle:{color:"white",textAlign:"center"},title:{fontSize:26,color:"white",textAlign:"center",fontWeight:"bold"},content:{alignItems:"center",justifyContent:"center",flexGrow:1,alignSelf:"center"},icon:{marginVertical:32,backgroundColor:bt.d},container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"}}),Jt=function(e){var n=e.title,t=e.subtitle,r=Mt()(e,["title","subtitle"]);return p.createElement(Ht,gn()({style:qt.container},r),p.createElement(C.a,{style:qt.content},p.createElement(he.a.Icon,{icon:"check",size:150,style:qt.icon}),p.createElement(K.a,{style:qt.title},n),p.createElement(Ne.a,{style:qt.subtitle},t)))},Gt=t(339),Yt=t(167);var Qt=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),_t=function(e){var n,t,r,a,o,i,l,s,c,u,d,m,f,g,b,y=Object(F.c)((function(e){return e.forms.user})),v=Object(F.b)();return p.createElement(Ht,gn()({style:Qt.container},e,{title:"What license do you have?"}),p.createElement(C.a,{style:Qt.content},p.createElement(ue.a,{style:Qt.card},p.createElement(Yt.a,{value:(null==y||null==(n=y.fields)||null==(t=n.license)||null==(r=t.value)?void 0:r.federation)||y.federation.value,onSelect:function(e){return v(F.a.forms.user.setFederation(e))},required:!0}),p.createElement(pt.a,{type:y.federation.error?"error":"info"},y.federation.error||"")),p.createElement(ue.a,{style:{padding:16}},((null==y||null==(a=y.fields)||null==(o=a.license)||null==(i=o.value)||null==(l=i.federation)?void 0:l.id)||(null==y||null==(s=y.federation)||null==(c=s.value)?void 0:c.id))&&p.createElement(p.Fragment,null,p.createElement(Gt.a,{value:y.fields.license.value,federationId:Number((null==y||null==(u=y.fields)||null==(d=u.license)||null==(m=d.value)||null==(f=m.federation)?void 0:f.id)||(null==(g=y.federation)||null==(b=g.value)?void 0:b.id)),onSelect:function(e){return v(F.a.forms.user.setField(["license",e]))},required:!0}),p.createElement(pt.a,{type:y.fields.license.error?"error":"info"},y.fields.license.error||"")))))};var Zt=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:16,marginVertical:16},title:{color:"white",marginBottom:16,fontSize:24,fontWeight:"bold"}}),Xt=function(e){var n=Object(F.c)((function(e){return e.forms.rig})),t=Object(F.b)(),r=p.useState(!1),a=W()(r,2),i=a[0],l=a[1],s=p.useState(!1),c=W()(s,2),u=c[0],d=c[1];return p.createElement(Ht,gn()({style:Zt.container},e,{title:"What're you jumping?"}),p.createElement(C.a,{style:Zt.content},p.createElement(ue.a,{style:Zt.card},p.createElement(he.b.Subheader,null,"Container manufacturer"),p.createElement(Ke.a,{onDismiss:function(){return l(!1)},visible:i,anchor:p.createElement(o.d,{onPress:function(){return l(!0)}},p.createElement(ft.a,{pointerEvents:"box-only",style:Zt.field,mode:"outlined",error:!!n.fields.make.error,value:u?"Other":n.fields.make.value||"Select manufacturer",disabled:!0}))},["Icon","Javelin","Mirage","Vector","PA (Talon)","Infinity","Parachutes de France","Parachute Systems","Racer"].map((function(e){return p.createElement(Ke.a.Item,{onPress:function(){l(!1),t(F.a.forms.rig.setField(["make",e])),d(!1)},title:e})})),p.createElement(Ke.a.Item,{onPress:function(){l(!1),t(F.a.forms.rig.setField(["make",""])),d(!0)},title:"Other"})),u?p.createElement(ft.a,{style:Zt.field,mode:"outlined",label:"Other manufacturer",error:!!n.fields.make.error,value:n.fields.make.value||"",onChangeText:function(e){return t(F.a.forms.rig.setField(["make",e]))}}):null,p.createElement(pt.a,{type:n.fields.make.error?"error":"info"},n.fields.make.error||""),p.createElement(he.b.Subheader,null,"Model"),p.createElement(ft.a,{style:Zt.field,mode:"outlined",error:!!n.fields.model.error,value:n.fields.model.value||"",onChangeText:function(e){return t(F.a.forms.rig.setField(["model",e]))}}),p.createElement(pt.a,{type:n.fields.model.error?"error":"info"},n.fields.model.error||"e.g G4.1")),p.createElement(ue.a,{style:Zt.card},p.createElement(he.b.Subheader,null,"Serial number"),p.createElement(ft.a,{style:Zt.field,mode:"outlined",error:!!n.fields.serial.error,value:n.fields.serial.value||"",onChangeText:function(e){return t(F.a.forms.rig.setField(["serial",e]))}}),p.createElement(pt.a,{type:n.fields.serial.error?"error":"info"},n.fields.serial.error||""))))},Kt=t(333);var er=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:80,textAlign:"center"}}),nr=function(e){var n=Object(F.c)((function(e){return e.forms.rig})),t=Object(F.b)();return p.createElement(Ht,gn()({style:er.container},e,{title:"Next reserve repack?"}),p.createElement(C.a,{style:er.content},p.createElement(ue.a,{style:er.card},p.createElement(he.b.Subheader,null,"Due date"),p.createElement(Kt.a,{timestamp:n.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return t(F.a.forms.rig.setField(["repackExpiresAt",e]))}}),p.createElement(pt.a,{type:n.fields.repackExpiresAt.error?"error":"info"},n.fields.repackExpiresAt.error||""))))},tr=t(125),rr=t.n(tr),ar=t(138);var or,ir,lr=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),sr=function(e){var n,t,r,a,o=Object(F.c)((function(e){return e.forms.rig})),i=Object(F.c)((function(e){return e.forms.user})),l=Object(F.b)(),s=p.useState(o.fields.canopySize.value||120),c=W()(s,2),u=c[0],d=c[1],m=p.useState(Number(i.fields.exitWeight.value)||120),f=W()(m,2),g=f[0],b=f[1];return p.useEffect((function(){d(o.fields.canopySize.value)}),[o.fields.canopySize.value]),p.createElement(Ht,gn()({style:lr.container},e,{title:"Your wingloading"}),p.createElement(C.a,{style:lr.content},p.createElement(ue.a,null,p.createElement(ue.a.Content,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},p.createElement(C.a,{style:lr.wingLoadingCardLeft},p.createElement(he.a.Text,{label:Object(ar.ceil)(2.205*Number(i.fields.exitWeight.value||50)/(o.fields.canopySize.value||150),2).toString(),size:100,style:lr.wingLoading})),p.createElement(C.a,{style:lr.wingLoadingCardRight},p.createElement(ue.a.Title,{title:"Your wingloading",style:{paddingLeft:0}}),p.createElement(Ne.a,null,"Your wingloading is an indicator of your descent rate under canopy")))),p.createElement(ue.a,{style:lr.card,elevation:3},p.createElement(C.a,{style:lr.cardTitle},p.createElement(he.b.Subheader,null,"Your exit weight"),p.createElement(K.a,{style:lr.cardValue},g||50,"kg")),p.createElement(rr.a,{style:lr.sliderControl,minimumValue:50,maximumValue:160,step:.5,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onSlidingComplete:function(){return l(F.a.forms.user.setField(["exitWeight",g.toString()]))},value:g,onValueChange:function(e){return b(e)}}),p.createElement(pt.a,{type:null!=(n=i.fields.exitWeight)&&n.error?"error":"info"},(null==(t=i.fields.exitWeight)?void 0:t.error)||"Your weight in kg's with all equipment on")),p.createElement(ue.a,{style:lr.card,elevation:3},p.createElement(C.a,{style:lr.cardTitle},p.createElement(he.b.Subheader,null,"Canopy size"),p.createElement(K.a,{style:lr.cardValue},u||120,"ft")),p.createElement(C.a,{style:lr.slider},p.createElement(rr.a,{style:lr.sliderControl,minimumValue:34,maximumValue:350,step:1,value:u||120,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:function(e){return d(e)},onSlidingComplete:function(){return l(F.a.forms.rig.setField(["canopySize",u]))}})),p.createElement(pt.a,{type:null!=(r=i.fields.exitWeight)&&r.error?"error":"info"},(null==(a=i.fields.exitWeight)?void 0:a.error)||"Size of your main canopy in square feet"))))},cr=t(239),ur=Object(Gn.a)(or||(or=le()(["\n  mutation UpdateRig(\n    $id: Int!\n    $make: String,\n    $model: String,\n    $serial: String,\n    $rigType: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    updateRig(\n      input: {\n        id: $id,\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),dr=Object(tt.a)(ur,{getPayload:function(e){return e.updateRig},fieldErrorMap:{}}),mr=Object(Gn.a)(ir||(ir=le()(["\n  mutation CreateRig(\n    $make: String,\n    $model: String,\n    $serial: String,\n    $rigType: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),fr=Object(tt.a)(mr,{getPayload:function(e){return e.createRig},fieldErrorMap:{}});function pr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pr(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var br=X.a.create({modal:gr(gr({},X.a.absoluteFillObject),{},{paddingLeft:0,marginLeft:0,marginBottom:0,marginTop:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"red",display:"flex",width:"100%",height:"100%",flex:1,alignItems:"center"})}),yr=function(){var e,n,t=Object(F.c)((function(e){return e.forms.user})),r=Object(F.c)((function(e){return e.forms.rig})),o=Object(F.c)((function(e){return e.forms.userWizard})),i=Object(F.b)(),l=Object(cr.a)({onSuccess:function(e){return!0},onError:function(e){return i(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return i(F.a.forms.user.setFieldError([e,n]))}}),s=dr({onSuccess:function(){return!0},onError:function(e){return i(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return i(F.a.forms.rig.setFieldError([e,n]))}}),c=fr({onSuccess:function(e){return!0},onError:function(e){return i(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return i(F.a.forms.rig.setFieldError([e,n]))}}),u=p.useCallback((function(e,n){var r,o,s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(null!=(r=t.fields.license)&&null!=(o=r.value)&&o.id){u.next=3;break}return i(F.a.forms.user.setFieldError(["license","You must select a license"])),u.abrupt("return",!1);case 3:return u.prev=3,u.next=6,a.a.awrap(l.mutate({id:Number(t.original.id),licenseId:Number(null==(s=t.fields.license)||null==(c=s.value)?void 0:c.id)}));case 6:return u.abrupt("return",n(e+1));case 9:return u.prev=9,u.t0=u.catch(3),u.abrupt("return",!1);case 12:case"end":return u.stop()}}),null,null,[[3,9]],Promise)}),[JSON.stringify(t.fields)]),d=p.useCallback((function(e,n){var o,l,u,d,m;return a.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(null!=(o=r.fields.make)&&o.value){f.next=3;break}return i(F.a.forms.rig.setFieldError(["make","Please select manufacturer"])),f.abrupt("return");case 3:if(null!=(l=r.fields.model)&&l.value){f.next=6;break}return i(F.a.forms.rig.setFieldError(["model","Please enter a model name"])),f.abrupt("return");case 6:if(f.prev=6,null!=(u=r.original)&&u.id){f.next=13;break}return f.next=10,a.a.awrap(c.mutate({make:r.fields.make.value,model:r.fields.model.value,serial:r.fields.serial.value,userId:Number(t.original.id)}));case 10:f.t0=f.sent,f.next=16;break;case 13:return f.next=15,a.a.awrap(s.mutate({id:Number(null==(d=r.original)?void 0:d.id),make:r.fields.make.value,model:r.fields.model.value,serial:r.fields.serial.value,userId:Number(t.original.id)}));case 15:f.t0=f.sent;case 16:m=f.t0,i(F.a.forms.rig.setOpen(m.rig)),n(e+1),f.next=24;break;case 21:return f.prev=21,f.t1=f.catch(6),f.abrupt("return",!1);case 24:case"end":return f.stop()}}),null,null,[[6,21]],Promise)}),[JSON.stringify(r.fields),JSON.stringify(t.fields),JSON.stringify(t.original),JSON.stringify(r.original)]),m=p.useCallback((function(e,n){var t,o,l;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=(t=r.fields.repackExpiresAt)&&t.value){c.next=3;break}return i(F.a.forms.rig.setFieldError(["repackExpiresAt","Select repack date, even if it's in the past"])),c.abrupt("return",!1);case 3:return c.prev=3,c.next=6,a.a.awrap(s.mutate({id:Number(null==(o=r.original)?void 0:o.id),repackExpiresAt:r.fields.repackExpiresAt.value}));case 6:return l=c.sent,i(F.a.forms.rig.setOpen(l.rig)),c.abrupt("return",n(e+1));case 11:return c.prev=11,c.t0=c.catch(3),c.abrupt("return",!1);case 14:case"end":return c.stop()}}),null,null,[[3,11]],Promise)}),[JSON.stringify(r.fields),JSON.stringify(null==(e=r.original)?void 0:e.id)]),f=p.useCallback((function(e,n){var o,c,u,d,m;return a.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(null!=(o=r.fields.canopySize)&&o.value){f.next=3;break}return i(F.a.forms.rig.setFieldError(["canopySize","You must provide a canopy size"])),f.abrupt("return",!1);case 3:if(null!=(c=t.fields.exitWeight)&&c.value){f.next=6;break}return i(F.a.forms.user.setFieldError(["exitWeight","You must enter your exit weight"])),f.abrupt("return",!1);case 6:return f.prev=6,f.next=9,a.a.awrap(s.mutate({id:Number(null==(u=r.original)?void 0:u.id),canopySize:r.fields.canopySize.value}));case 9:return f.sent,f.next=12,a.a.awrap(l.mutate({id:Number(null==(d=t.original)?void 0:d.id),exitWeight:Number(null==(m=t.fields.exitWeight)?void 0:m.value)}));case 12:f.sent,n(e+1),f.next=19;break;case 16:return f.prev=16,f.t0=f.catch(6),f.abrupt("return",!1);case 19:case"end":return f.stop()}}),null,null,[[6,16]],Promise)}),[JSON.stringify(r.fields),JSON.stringify(t.fields),null==(n=r.original)?void 0:n.id,i]);return p.createElement(je.a,null,p.createElement(Ft.a,{visible:o.open,dismissable:!1,style:br.modal,contentContainerStyle:{height:"100%"}},p.createElement(Wt,null,p.createElement(_t,{backButtonLabel:"Cancel",nextButtonLabel:"Next",onBack:function(){i(F.a.forms.userWizard.setOpen(!1)),i(F.a.forms.user.setOpen(!1)),i(F.a.forms.rig.setOpen(!1)),i(F.a.forms.userWizard.reset()),i(F.a.forms.user.reset()),i(F.a.forms.rig.reset())},loading:l.loading,onNext:u}),p.createElement(Xt,{backButtonLabel:"Back",nextButtonLabel:"Next",onBack:function(e,n){n(e-1)},loading:l.loading||s.loading||c.loading,onNext:d}),p.createElement(nr,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:l.loading||s.loading||c.loading,onBack:function(e,n){n(e-1)},onNext:m}),p.createElement(sr,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:l.loading||s.loading||c.loading,onBack:function(e,n){n(e-1)},onNext:f}),p.createElement(Jt,{title:"You're all set!",subtitle:"You can configure your settings on the profile page",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){n(e-1)},onNext:function(){i(F.a.forms.userWizard.setOpen(!1)),i(F.a.forms.user.setOpen(!1)),i(F.a.forms.rig.setOpen(!1)),i(F.a.forms.userWizard.reset()),i(F.a.forms.user.reset()),i(F.a.forms.rig.reset())}}))))};var vr=X.a.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),hr=function(e){var n=Object(F.c)((function(e){return e.forms.dropzone})),t=Object(F.b)();return p.createElement(Ht,gn()({style:vr.container},e,{title:"Basic information"}),p.createElement(C.a,{style:vr.content},p.createElement(ue.a,{style:vr.card},p.createElement(he.b.Subheader,null,"Name"),p.createElement(ft.a,{mode:"outlined",error:!!n.fields.name.error,value:n.fields.name.value||"",onChangeText:function(e){return t(F.a.forms.dropzone.setField(["name",e]))}}),p.createElement(pt.a,{type:"error"},n.fields.name.error||"")),p.createElement(ue.a,{style:vr.card},p.createElement(Yt.a,{value:n.fields.federation.value,onSelect:function(e){return t(F.a.forms.dropzone.setField(["federation",e]))},required:!0}),p.createElement(pt.a,{type:n.fields.federation.error?"error":"info"},n.fields.federation.error||""))))};var Er=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:4},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:10,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Sr=function(e){var n,t,r,a,o,i,l,s,c=Object(F.c)((function(e){return e.forms.plane})),u=p.useState((null==c||null==(n=c.fields)||null==(t=n.minSlots)?void 0:t.value)||0),d=W()(u,2),m=d[0],f=d[1],g=p.useState((null==c||null==(r=c.fields)||null==(a=r.maxSlots)?void 0:a.value)||0),b=W()(g,2),y=b[0],v=b[1],h=Object(F.b)();return p.createElement(Ht,gn()({style:Er.container},e,{title:"Aircraft"}),p.createElement(C.a,{style:Er.content},p.createElement(ue.a,{style:Er.card},p.createElement(he.b.Subheader,null,"Information"),p.createElement(ft.a,{style:Er.field,mode:"outlined",label:"Name",error:!!c.fields.name.error,value:c.fields.name.value,onChangeText:function(e){return h(F.a.forms.plane.setField(["name",e]))}}),p.createElement(pt.a,{type:c.fields.name.error?"error":"info"},c.fields.name.error||""),p.createElement(ft.a,{style:Er.field,mode:"outlined",label:"Registration",error:!!c.fields.registration.error,value:c.fields.registration.value,onChangeText:function(e){return h(F.a.forms.plane.setField(["registration",e]))}}),p.createElement(pt.a,{type:c.fields.registration.error?"error":"info"},c.fields.registration.error||"")),p.createElement(ue.a,{style:Er.card,elevation:3},p.createElement(C.a,{style:Er.cardTitle},p.createElement(he.b.Subheader,null,"Minimum slots"),p.createElement(K.a,{style:Er.cardValue},m||0)),p.createElement(C.a,{style:Er.slider},p.createElement(rr.a,{style:Er.sliderControl,minimumValue:0,maximumValue:y||34,step:1,value:m,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:function(e){return f(e)},onSlidingComplete:function(){return h(F.a.forms.plane.setField(["minSlots",m]))}})),p.createElement(pt.a,{type:null!=(o=c.fields.minSlots)&&o.error?"error":"info"},(null==(i=c.fields.minSlots)?void 0:i.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),p.createElement(ue.a,{style:Er.card,elevation:3},p.createElement(C.a,{style:Er.cardTitle},p.createElement(he.b.Subheader,null,"Max slots"),p.createElement(K.a,{style:Er.cardValue},y||34)),p.createElement(C.a,{style:Er.slider},p.createElement(rr.a,{style:Er.sliderControl,minimumValue:2,maximumValue:34,step:1,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",value:y,onValueChange:function(e){return v(e)},onSlidingComplete:function(){return h(F.a.forms.plane.setField(["maxSlots",Number(y)]))}})),p.createElement(pt.a,{type:null!=(l=c.fields.maxSlots)&&l.error?"error":"info"},(null==(s=c.fields.maxSlots)?void 0:s.error)||"Max available slots on this aircraft"))))},xr=t(198),Cr=t(197);var wr,Or=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},colorBox:{height:25,width:25,margin:5}}),kr=function(e){var n=Object(F.c)((function(e){return e.forms.dropzone})),t=Object(F.b)();return p.createElement(Ht,gn()({style:Or.container},e,{title:"Branding"}),p.createElement(C.a,{style:Or.content},p.createElement(C.a,{style:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-evenly"}},p.createElement(xr.a,{primaryColor:n.fields.primaryColor.value,secondaryColor:n.fields.secondaryColor.value}),p.createElement(xr.b,{primaryColor:n.fields.primaryColor.value,secondaryColor:n.fields.secondaryColor.value})),p.createElement(Cr.a,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:n.fields.primaryColor.error,onChange:function(e){return t(F.a.forms.dropzone.setField(["primaryColor",e]))},value:n.fields.primaryColor.value}),p.createElement(Cr.a,{title:"Accent color",helperText:"Accent color is used for highlights, like buttons and loading bars",error:n.fields.secondaryColor.error,onChange:function(e){return t(F.a.forms.dropzone.setField(["secondaryColor",e]))},value:n.fields.secondaryColor.value})))},zr=t(396),jr=Object(Gn.a)(wr||(wr=le()(["\n  query QueryDropzonePermissions(\n    $dropzoneId: Int!\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n        permissions\n      }\n    }\n  }\n"])));var Ir=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column",marginBottom:16},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Dr=function(e){var n,t,r,a,o=e.permission,i=Mt()(e,["permission"]),l=Object(F.c)((function(e){return e.forms.dropzone})),s=Object(I.useLazyQuery)(jr),c=W()(s,2),u=c[0],d=c[1],m=d.data,f=d.loading,g=d.called;return p.useEffect((function(){var e;null!=(e=l.original)&&e.id&&u({variables:{dropzoneId:Number(l.original.id)}})}),[l.original]),p.createElement(Ht,gn()({style:Ir.container},i),p.createElement(C.a,{style:Ir.content},g&&!f&&null!=m&&null!=(n=m.dropzone)&&null!=(t=n.roles)&&t.length?p.createElement(ue.a,null,p.createElement(ue.a.Content,{style:{alignItems:"center",justifyContent:"center"}},null==m||null==(r=m.dropzone)||null==(a=r.roles)?void 0:a.map((function(e){return p.createElement(zr.a,{permissionName:o,role:e,title:Object(ar.capitalize)(e.name.replace(/_/," "))})})))):null))};var Pr,Tr,Fr,$r,Nr,Br=X.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:8,fontWeight:"bold",fontSize:25,textAlign:"center"},paragraph:{color:"white",marginBottom:8,fontWeight:"bold",textAlign:"center"},field:{marginBottom:8,marginHorizontal:16},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Lr=function(e){var n,t,r,a,i=Object(F.c)((function(e){return e.forms.ticketType})),l=Object(F.b)(),s=p.useState(!1),c=W()(s,2),u=c[0],d=c[1],m=p.useState(0),f=W()(m,2),g=f[0],b=f[1];return p.createElement(Ht,gn()({style:Br.container},e,{title:"Tickets"}),p.createElement(Ne.a,{style:Br.paragraph},"You can add more tickets later under Settings"),p.createElement(C.a,{style:Br.content},p.createElement(ue.a,{style:Br.card},p.createElement(he.b.Subheader,null,"Name"),p.createElement(ft.a,{style:Br.field,mode:"outlined",error:!!i.fields.name.error,value:i.fields.name.value,onChangeText:function(e){return l(F.a.forms.ticketType.setField(["name",e]))}}),p.createElement(pt.a,{type:i.fields.name.error?"error":"info"},i.fields.name.error||"")),p.createElement(ue.a,{style:Br.card,elevation:3},p.createElement(C.a,{style:Br.cardTitle},p.createElement(he.b.Subheader,null,"Price"),p.createElement(K.a,{style:Br.cardValue},"$",g||0)),p.createElement(C.a,{style:Br.slider},p.createElement(rr.a,{style:Br.sliderControl,minimumValue:0,maximumValue:500,step:1,value:g,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onSlidingComplete:function(){return l(F.a.forms.ticketType.setField(["cost",g]))},onValueChange:b})),p.createElement(pt.a,{type:null!=(n=i.fields.cost)&&n.error?"error":"info"},(null==(t=i.fields.cost)?void 0:t.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),p.createElement(ue.a,{style:Br.card,elevation:3},p.createElement(Ke.a,{onDismiss:function(){return d(!1)},visible:u,contentStyle:{width:300},anchor:p.createElement(o.d,{onPress:function(){return d(!0)}},p.createElement(C.a,{style:Br.cardTitle},p.createElement(he.b.Subheader,null,"Altitude"),p.createElement(K.a,{style:Br.cardValue},i.fields.altitude.value&&[4e3,14e3].includes(i.fields.altitude.value)?{14e3:"Height",4e3:"Hop n Pop"}[i.fields.altitude.value.toString()]:"Custom")))},p.createElement(he.b.Item,{onPress:function(){l(F.a.forms.ticketType.setField(["altitude",4e3])),d(!1)},title:"Hop n Pop",right:function(){return p.createElement(he.b.Icon,{icon:"parachute"})}}),p.createElement(he.b.Item,{onPress:function(){l(F.a.forms.ticketType.setField(["altitude",14e3])),d(!1)},title:"Height",right:function(){return p.createElement(he.b.Icon,{icon:"airplane-takeoff"})}}),p.createElement(he.b.Item,{onPress:function(){l(F.a.forms.ticketType.setField(["altitude",7e3])),d(!1)},title:"Other",right:function(){return p.createElement(he.b.Icon,{icon:"parachute"})}})),(!i.fields.altitude.value||![4e3,14e3].includes(i.fields.altitude.value))&&p.createElement(ft.a,{style:Br.field,mode:"outlined",label:"Custom altitude",error:!!i.fields.altitude.error,value:null==(r=i.fields.altitude)||null==(a=r.value)?void 0:a.toString(),onChangeText:function(e){return l(F.a.forms.ticketType.setField(["altitude",Number(e)]))}}))))},Ar=Object(Gn.a)(Pr||(Pr=le()(["\n  mutation UpdateDropzone(\n    $id: Int!,\n    $name: String!,\n    $banner: String,\n    $federationId: Int!\n    $primaryColor: String\n    $secondaryColor: String\n    $isCreditSystemEnabled: Boolean,\n    $isPublic: Boolean\n  ){\n    updateDropzone(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        banner: $banner,\n        federationId: $federationId\n        primaryColor: $primaryColor\n        secondaryColor: $secondaryColor\n        isCreditSystemEnabled: $isCreditSystemEnabled\n        isPublic: $isPublic\n      }\n    }) {\n      dropzone {\n        id\n        name\n        banner\n        primaryColor\n        secondaryColor,\n        isCreditSystemEnabled\n\n        planes {\n          id\n          name\n        }\n\n        federation {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),Ur=Object(tt.a)(Ar,{getPayload:function(e){return e.updateDropzone},fieldErrorMap:{}}),Wr=Object(Gn.a)(Tr||(Tr=le()(["\n  mutation CreatePlane(\n    $name: String!,\n    $registration: String!,\n    $dropzoneId: Int!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ){\n    createPlane(input: {\n      attributes: {\n        name: $name,\n        registration: $registration,\n        dropzoneId: $dropzoneId\n        minSlots: $minSlots\n        maxSlots: $maxSlots\n        hours: $hours\n        nextMaintenanceHours: $nextMaintenanceHours\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),Rr=Object(tt.a)(Wr,{getPayload:function(e){return e.createPlane},fieldErrorMap:{dropzone:"dropzoneId"},validates:{name:[Object(tt.c)("Name is required")],registration:[Object(tt.c)("Registration is required")]}}),Mr=Object(Gn.a)(Fr||(Fr=le()(["\n  mutation UpdatePlane(\n    $id: Int!,\n    $name: String!,\n    $registration: String!,\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ){\n    updatePlane(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        registration: $registration,\n        minSlots: $minSlots\n        maxSlots: $maxSlots\n        hours: $hours\n        nextMaintenanceHours: $nextMaintenanceHours\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),Vr=Object(tt.a)(Mr,{getPayload:function(e){return e.updatePlane},fieldErrorMap:{}}),Hr=Object(Gn.a)($r||($r=le()(["\n  mutation CreateTicketType(\n    $name: String,\n    $cost: Float,\n    $dropzoneId: Int!\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n  ){\n    createTicketType(input: {\n      attributes: {\n        name: $name,\n        cost: $cost,\n        dropzoneId: $dropzoneId\n        altitude: $altitude\n        allowManifestingSelf: $allowManifestingSelf\n        isTandem: $isTandem\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),qr=Object(tt.a)(Hr,{getPayload:function(e){return e.createTicketType},fieldErrorMap:{}}),Jr=Object(Gn.a)(Nr||(Nr=le()(["\n  mutation UpdateTicketType(\n    $id: Int!,\n    $name: String,\n    $cost: Float,\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n  ){\n    updateTicketType(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        cost: $cost,\n        altitude: $altitude\n        allowManifestingSelf: $allowManifestingSelf\n        isTandem: $isTandem\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),Gr=Object(tt.a)(Jr,{getPayload:function(e){return e.updateTicketType},fieldErrorMap:{}});function Yr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Qr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yr(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _r=X.a.create({modal:Qr(Qr({},X.a.absoluteFillObject),{},{paddingLeft:0,marginLeft:0,marginBottom:0,marginTop:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"red",display:"flex",width:"100%",height:"100%",flex:1,alignItems:"center"})}),Zr=function(){var e=Object(F.c)((function(e){return e.forms.dropzoneWizard})),n=Object(F.c)((function(e){return e.forms.plane})),t=Object(F.c)((function(e){return e.forms.ticketType})),r=Object(F.c)((function(e){return e.forms.dropzone})),o=Object(F.b)(),i=at({onError:function(e){return o(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(F.a.forms.dropzone.setFieldError([e,n]))}}),l=Ur({onError:function(e){return o(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(F.a.forms.dropzone.setFieldError([e,n]))}}),s=Rr({onError:function(e){return o(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(F.a.forms.plane.setFieldError([e,n]))}}),c=Vr({onError:function(e){return o(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(F.a.forms.plane.setFieldError([e,n]))}}),u=qr({onError:function(e){return o(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(F.a.forms.ticketType.setFieldError([e,n]))}}),d=Gr({onError:function(e){return o(F.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(F.a.forms.ticketType.setFieldError([e,n]))}}),m=p.useCallback((function(e,n){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.fields.name.value){t.next=3;break}return o(F.a.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),t.abrupt("return");case 3:if(r.fields.federation.value){t.next=6;break}return o(F.a.forms.dropzone.setFieldError(["federation","Your dropzone must have an associated organization"])),t.abrupt("return");case 6:n(e+1);case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[JSON.stringify(r.fields),r.original]),f=p.useCallback((function(e,n){var t,s,c,u,d,m;return a.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(r.fields.primaryColor.value){f.next=3;break}return o(F.a.forms.dropzone.setFieldError(["primaryColor","Please pick a primary color"])),f.abrupt("return");case 3:if(r.fields.secondaryColor.value){f.next=6;break}return o(F.a.forms.dropzone.setFieldError(["secondaryColor","Please pick an accent color"])),f.abrupt("return");case 6:if(null!=(t=r.original)&&t.id){f.next=12;break}return f.next=9,a.a.awrap(i.mutate({federationId:Number(null==(s=r.fields.federation.value)?void 0:s.id),name:r.fields.name.value,banner:"",primaryColor:r.fields.primaryColor.value,secondaryColor:r.fields.secondaryColor.value}));case 9:f.t0=f.sent,f.next=15;break;case 12:return f.next=14,a.a.awrap(l.mutate({id:Number(r.original.id),federationId:Number(null==(c=r.fields.federation.value)?void 0:c.id),name:r.fields.name.value,primaryColor:r.fields.primaryColor.value,secondaryColor:r.fields.secondaryColor.value,banner:""}));case 14:f.t0=f.sent;case 15:if(m=f.t0,null!=(u=m.errors)&&u.length||null==(d=m.dropzone)||!d.id){f.next=22;break}return o(F.a.forms.dropzone.setOpen(m.dropzone)),o(F.a.global.setDropzone(m.dropzone)),o(F.a.global.setPrimaryColor(m.dropzone.primaryColor)),o(F.a.global.setAccentColor(m.dropzone.secondaryColor)),f.abrupt("return",n(e+1));case 22:return f.abrupt("return",!1);case 23:case"end":return f.stop()}}),null,null,null,Promise)}),[JSON.stringify(r.fields),r.original]),g=p.useCallback((function(e,t){var i,l,u,d;return a.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(n.fields.name.value){m.next=3;break}return o(F.a.forms.plane.setFieldError(["name","You must name your aircraft"])),m.abrupt("return");case 3:if(n.fields.registration.value){m.next=6;break}return o(F.a.forms.plane.setFieldError(["registration","Please provide aircraft registration"])),m.abrupt("return");case 6:if(null!=(i=n.original)&&i.id){m.next=12;break}return m.next=9,a.a.awrap(s.mutate({dropzoneId:Number(r.original.id),name:n.fields.name.value,registration:n.fields.registration.value,minSlots:n.fields.minSlots.value,maxSlots:n.fields.maxSlots.value}));case 9:m.t0=m.sent,m.next=15;break;case 12:return m.next=14,a.a.awrap(c.mutate({id:Number(n.original.id),name:n.fields.name.value,registration:n.fields.registration.value,minSlots:n.fields.minSlots.value,maxSlots:n.fields.maxSlots.value}));case 14:m.t0=m.sent;case 15:return d=m.t0,null!=(l=d.errors)&&l.length||null==(u=d.plane)||!u.id||(o(F.a.forms.plane.setOpen(d.plane)),t(e+1)),m.abrupt("return",!1);case 18:case"end":return m.stop()}}),null,null,null,Promise)}),[JSON.stringify(n.fields),r.original,JSON.stringify(n.original)]),b=p.useCallback((function(e,n){var i,l,s,c;return a.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(t.fields.name.value){m.next=3;break}return o(F.a.forms.ticketType.setFieldError(["name","You must name your ticket"])),m.abrupt("return");case 3:if(t.fields.cost.value){m.next=6;break}return o(F.a.forms.ticketType.setFieldError(["cost","Tickets must have a price"])),m.abrupt("return");case 6:if(null!=(i=t.original)&&i.id){m.next=12;break}return m.next=9,a.a.awrap(u.mutate({dropzoneId:Number(r.original.id),name:t.fields.name.value,cost:t.fields.cost.value,altitude:t.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 9:m.t0=m.sent,m.next=15;break;case 12:return m.next=14,a.a.awrap(d.mutate({id:Number(t.original.id),name:t.fields.name.value,cost:t.fields.cost.value,altitude:t.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 14:m.t0=m.sent;case 15:if(c=m.t0,null!=(l=c.errors)&&l.length||null==(s=c.ticketType)||!s.id){m.next=20;break}return o(F.a.forms.ticketType.setOpen(c.ticketType)),n(e+1),m.abrupt("return");case 20:return m.abrupt("return",!1);case 21:case"end":return m.stop()}}),null,null,null,Promise)}),[JSON.stringify(t.fields),r.original,JSON.stringify(t.original)]);return p.createElement(je.a,null,p.createElement(Ft.a,{visible:e.open,dismissable:!1,style:_r.modal,contentContainerStyle:{height:"100%"}},p.createElement(Wt,null,p.createElement(hr,{onBack:function(){o(F.a.forms.dropzoneWizard.setOpen(!1)),o(F.a.forms.dropzoneWizard.reset()),o(F.a.forms.ticketType.setOpen(!1)),o(F.a.forms.plane.setOpen(!1)),o(F.a.forms.dropzone.setOpen(!1)),o(F.a.forms.ticketType.reset()),o(F.a.forms.plane.reset()),o(F.a.forms.dropzone.reset())},backButtonLabel:"Cancel",nextButtonLabel:"Next",onNext:m}),p.createElement(kr,{onBack:function(e,n){return n(e-1)},onNext:f,loading:i.loading||l.loading,nextButtonLabel:"Next",backButtonLabel:"Back"}),p.createElement(Sr,{onBack:function(e,n){return n(e-1)},onNext:g,loading:s.loading||c.loading,nextButtonLabel:"Next",backButtonLabel:"Back"}),p.createElement(Lr,{onBack:function(e,n){return n(e-1)},onNext:b,loading:u.loading||d.loading,nextButtonLabel:"Next",backButtonLabel:"Back"}),p.createElement(Dr,{title:"Who can manifest?",permission:ye.b.CreateSlot,onBack:function(e,n){return n(e-1)},onNext:function(e,n){return n(e+1)},nextButtonLabel:"Next",backButtonLabel:"Back"}),p.createElement(Dr,{title:"Manifest other people?",permission:ye.b.CreateUserSlot,onBack:function(e,n){return n(e-1)},onNext:function(e,n){n(e+1)},nextButtonLabel:"Next",backButtonLabel:"Back"}),p.createElement(Jt,{title:"Setup complete",subtitle:"You can configure settings under the Settings screen",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){return n(e-1)},onNext:function(){o(F.a.global.setDropzone(r.original)),r.fields.primaryColor.value&&o(F.a.global.setPrimaryColor(r.fields.primaryColor.value)),r.fields.secondaryColor.value&&o(F.a.global.setAccentColor(r.fields.secondaryColor.value)),o(F.a.global.setDropzone(r.original)),o(F.a.forms.dropzoneWizard.setOpen(!1)),o(F.a.forms.dropzoneWizard.reset()),o(F.a.forms.ticketType.setOpen(!1)),o(F.a.forms.plane.setOpen(!1)),o(F.a.forms.dropzone.setOpen(!1)),o(F.a.forms.ticketType.reset()),o(F.a.forms.plane.reset()),o(F.a.forms.dropzone.reset()),o(F.a.forms.dropzoneWizard.complete())}}))))};function Xr(){var e,n,t=Object(A.e)((function(e){return e.global})),r=Object(A.d)(),o=p.useRef(),s=p.useRef(),b=function(e){console.log(e);var n=k()(e.url).path();console.log(n)};return p.useEffect((function(){return function(){var e,n,t,r,o,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!l.a.isDevice){s.next=21;break}return s.next=3,a.a.awrap(c.a());case 3:if(n=s.sent,t=n.status,r=t,"granted"===t){s.next=12;break}return s.next=9,a.a.awrap(c.b());case 9:o=s.sent,i=o.status,r=i;case 12:if("granted"===r){s.next=15;break}return console.warn("Failed to get push token for push notification!"),s.abrupt("return");case 15:return s.next=17,a.a.awrap(u.a());case 17:e=s.sent.data,console.log(e),s.next=22;break;case 21:console.warn("Must use physical device for Push Notifications");case 22:return"android"===x.a.OS&&d.a("default",{name:"default",importance:m.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),s.abrupt("return",e);case 24:case"end":return s.stop()}}),null,null,null,Promise)}().then((function(e){return r(F.a.global.setExpoPushToken(e))})),o.current=f.a((function(e){r(F.a.notifications.showSnackbar({message:e.request.content.body,variant:"warning"}))})),s.current=f.b((function(e){console.log(e)})),S.a.addEventListener("url",b),function(){f.c(o.current),f.c(s.current),S.a.removeEventListener("url",b)}}),[]),p.createElement(p.Suspense,{fallback:p.createElement(C.a,{style:{flex:1,flexGrow:1}},p.createElement(v.a,{indeterminate:!0,color:null==t||null==(e=t.theme)||null==(n=e.colors)?void 0:n.accent,visible:!0}))},p.createElement(L,null,p.createElement(h.a,{theme:t.theme},p.createElement(g.b,null,p.createElement(w.a,{linking:Q,theme:t.theme},p.createElement(Tt,null)),p.createElement(i.a,null),p.createElement(yr,null),p.createElement(Zr,null),p.createElement(Y.a,null)))))}function Kr(){return function(){var e=p.useState(!1),n=W()(e,2),r=n[0],o=n[1],i=M.a({Inter_400Regular:q.a,Inter_500Medium:q.b,Inter_700Bold:q.c}),l=W()(i,1)[0];return p.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.b(),e.next=4,a.a.awrap(V.b(G(G({},R.a.font),{},{"space-mono":t(550)})));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.prev=8,o(!0),H.a(),e.finish(8);case 12:case"end":return e.stop()}}),null,null,[[0,6,8,12]],Promise)}),[]),r&&l}()?p.createElement(b.a,{store:A.c},p.createElement(y.a,{persistor:A.b,loading:p.createElement(C.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},p.createElement(E.a,{size:"large"}))},p.createElement(Xr,null))):null}s.a({handleNotification:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0});case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},498:function(e,n,t){e.exports=t(592)},5:function(e,n,t){"use strict";var r=t(133);t.d(n,"a",(function(){return r.a})),t.d(n,"b",(function(){return r.d})),t.d(n,"c",(function(){return r.e}))},55:function(e,n,t){"use strict";t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return p})),t.d(n,"d",(function(){return g})),t.d(n,"a",(function(){return b}));var r=t(4),a=t.n(r),o=t(11),i=t.n(o),l=t(6),s=t.n(l),c=t(36),u=t(0);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e){return{message:e,pattern:/.{1,}/}}function p(e){return{message:e,pattern:new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}function g(e,n){return{message:e,callback:n}}function b(e,n){var t=n.getPayload,r=n.fieldErrorMap,a=n.validates;return function(o){var l=o.onFieldError,d=o.onSuccess,f=o.onError,p=Object(c.useMutation)(e),g=i()(p,2),b=g[0],y=g[1],v=y.data,h=y.loading;y.error;return{loading:h,mutate:u.useCallback((function(e,i){var c,u,p,g,y,v;return s.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(function(){var t=!1;return a&&Object.keys(e).forEach((function(r){var o,i=r;i in(n.validates||{})&&(null==(o=a[i])||o.forEach((function(n){n.pattern?n.pattern.test(""+e[i])||(t=!0,l&&l(i,n.message)):n.callback&&!n.callback(e)&&(t=!0,l&&l(i,n.message))})))})),!t}()){h.next=3;break}return h.abrupt("return");case 3:return h.prev=3,h.next=6,s.a.awrap(b(m({variables:e},i)));case 6:if(g=h.sent,null==(y=t(g.data))||null==(c=y.fieldErrors)||c.map((function(e){var t=e.field,a=e.message,i=t in(r||{})?n.fieldErrorMap[t]:t;o.onFieldError&&o.onFieldError(""+i,a)})),null==y||null==(u=y.errors)||!u.length||!f){h.next=12;break}return null==(v=y.errors)||v.map((function(e){return f(e)})),h.abrupt("return");case 12:return null!=y&&null!=(p=y.fieldErrors)&&p.length||d(y),h.abrupt("return",y);case 16:h.prev=16,h.t0=h.catch(3),f&&f(h.t0.message);case 19:return h.abrupt("return");case 20:case"end":return h.stop()}}),null,null,[[3,16]],Promise)}),[l,f,d,,b,t,JSON.stringify(v)])}}}},550:function(e,n,t){e.exports=t.p+"./fonts/SpaceMono-Regular.ttf"},563:function(e,n){},89:function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"b",(function(){return a})),t.d(n,"e",(function(){return o})),t.d(n,"c",(function(){return i}));var r="#00C851",a="#ff4444",o="#FF8800",i="#FF1414";n.a={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",success:r,error:a,warning:o,info:"#0099CC"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",success:r,error:a,warning:o,info:"#0099CC"}}}},[[498,4,5]]]);
//# sourceMappingURL=app.eff79343.chunk.js.map