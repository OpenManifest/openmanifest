(this.webpackJsonp=this.webpackJsonp||[]).push([[25],{400:function(e,t,n){"use strict";var r=n(8),o=n.n(r),i=n(0),a=n(23),l=n(131),s=n(10),c=n(185),d=n(17),u=n.n(d),p=n(13);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=l.a.PlatformConstants?l.a.PlatformConstants.reactNativeVersion:void 0;t.a=Object(p.c)((function(e){var t=e.value,n=e.disabled,r=e.onValueChange,l=e.color,d=e.theme,p=o()(e,["value","disabled","onValueChange","color","theme"]),b=l||d.colors.accent,h="ios"===s.a.OS?b:n?d.dark?u()(a.h).alpha(.1).rgb().string():u()(a.a).alpha(.12).rgb().string():u()(b).alpha(.5).rgb().string(),g="ios"===s.a.OS?void 0:n?d.dark?a.e:a.c:t?b:d.dark?a.c:a.d,v=f&&0===f.major&&f.minor<=56?{onTintColor:h,thumbTintColor:g}:"web"===s.a.OS?{activeTrackColor:h,thumbColor:g,activeThumbColor:b}:{thumbColor:g,trackColor:{true:h,false:""}};return i.createElement(c.a,m({value:t,disabled:n,onValueChange:n?void 0:r},v,p))}))},559:function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return d}));var r=n(0),o=n(13),i=n(11),a=n.n(i),l=n(1),s=n(2),c=r.createContext({goTo:function(){return null},index:0});function d(){return Object(r.useContext)(c).goTo}var u=n(3),p=n.n(u),m=n(8),f=n.n(m),b=n(4),h=n(10),g=n(77),v=n(93),y=n(60),E=n(17),O=n.n(E);function w(e){var t,n=e.left,r=e.width;return{transform:[{scaleX:r},{translateX:(t=n/r,Math.round(100*t+Number.EPSILON)/100||0)}]}}var C,x=n(32),k=n(42);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}try{C=b.a.createAnimatedComponent(n(399).default)}catch(G){var j=!1;C=function(e){var t=e.name,n=f()(e,["name"]);return j||(/(Cannot find module|Module not found|Cannot resolve module)/.test(G.message)||console.error(G),console.warn("Tried to use the icon '"+t+"' in a component from 'react-native-paper-tabs', but 'react-native-vector-icons/MaterialCommunityIcons' could not be loaded.","To remove this warning, try installing 'react-native-vector-icons' or use another method to specify icon: https://callstack.github.io/react-native-paper/icons.html."),j=!0),r.createElement(b.a.Text,T({},n,{selectable:!1}),"\u25a1")}}var P=l.a.create({icon:{backgroundColor:"transparent"}}),S=function(e){var t=e.name,n=e.color,o=e.size,i=e.style,a=f()(e,["name","color","size","style"]);return r.createElement(C,T({selectable:!1,name:t,color:n,size:o,style:[{lineHeight:o},P.icon,i]},a))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=b.a.createAnimatedComponent(x.a);function D(e){var t=e.tab,n=e.tabIndex,o=e.active,i=e.goTo,a=e.onTabLayout,l=e.activeColor,c=e.textColor,d=e.theme,u=e.position,p=e.offset,m=e.childrenCount,f=e.uppercase,b=e.mode,h=e.iconPosition,g=e.showTextLabel,v=r.useMemo((function(){return O()(l).alpha(.32).rgb().string()}),[l]),y=function(e){var t=e.activeColor,n=e.active,o=e.textColor;return r.useMemo((function(){return{color:n?t:o,opacity:n?1:.6}}),[n,t,o])}({active:o,position:u,offset:p,activeColor:l,textColor:c,tabIndex:n,childrenCount:m}),E=y.color,w=y.opacity;return r.createElement(s.a,{key:t.props.label,style:[L.tabRoot,"fixed"===b&&L.tabRootFixed],onLayout:function(e){return a(n,e)}},r.createElement(k.a,{onPress:function(){return i(n)},onPressIn:function(){},style:[L.touchableRipple,"top"===h&&L.touchableRippleTop],rippleColor:v,accessibilityTraits:"button",accessibilityRole:"button",accessibilityComponentType:"button",accessibilityLabel:t.props.label,accessibilityState:{selected:o},testID:"tab_"+n},r.createElement(s.a,{style:[L.touchableRippleInner,"top"===h&&L.touchableRippleInnerTop]},t.props.icon?r.createElement(s.a,{style:[L.iconContainer,"top"!==h&&L.marginRight]},r.createElement(S,{selectable:!1,accessibilityElementsHidden:!0,importantForAccessibility:"no",name:t.props.icon||"",style:{color:E,opacity:w},size:24})):null,g?r.createElement(I,{selectable:!1,style:[L.text,"top"===h&&L.textTop,N(N({},d.fonts.medium),{},{color:E,opacity:w})]},f?t.props.label.toUpperCase():t.props.label):null)))}var L=l.a.create({tabRoot:{position:"relative"},tabRootFixed:{flex:1},touchableRipple:{height:48,justifyContent:"center",alignItems:"center"},touchableRippleTop:{height:72},touchableRippleInner:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingRight:16,paddingLeft:16,minWidth:90,maxWidth:360},touchableRippleInnerTop:{flexDirection:"column"},iconContainer:{width:24,height:24},text:N({textAlign:"center",letterSpacing:1},h.a.select({web:{transitionDuration:"150ms",transitionProperty:"all"},default:{}})),textTop:{marginTop:6},marginRight:{marginRight:8}});function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=e.index,n=e.goTo,o=e.children,i=e.position,c=e.offset,d=e.theme,u=e.dark,m=e.style,h=e.iconPosition,E=e.showTextLabel,C=e.showLeadingSpace,x=e.uppercase,k=e.mode,T=d.colors,j=d.dark,P=d.mode,S=l.a.flatten(m)||{},R=S.backgroundColor,N=S.elevation,I=void 0===N?4:N,L=f()(S,["backgroundColor","elevation"]),z=R||(j&&"adaptive"===P?Object(v.a)(I,T.surface):T.primary),M=T.primary===z,V=("boolean"===typeof u?u:"transparent"!==z&&!O()(z).isLight())?"#fff":"#000",$=M?V:d.colors.primary,F=r.useRef(null),H=r.useRef(0),W=r.useRef(null),B=r.useRef(null),G=r.useState(null),J=a()(G,2),Q=J[0],X=J[1],q=function(e){var t=e.index,n=e.layouts,o=r.useRef(null),i=r.useCallback((function(){if(o.current&&n.current){var e=n.current[t];e&&o.current.setNativeProps({style:w({left:e.x,width:e.width})})}}),[t,o,n]);return[o,i,null]}({tabsLayout:Q,layouts:B,index:t,offset:c,position:i,childrenCount:o.length}),K=a()(q,3),_=K[0],Y=K[1],Z=K[2],ee=r.useCallback((function(e){X(e.nativeEvent.layout)}),[X]),te=r.useCallback((function(e,t){B.current=U(U({},B.current),{},p()({},e,t.nativeEvent.layout)),Y()}),[B,Y]),ne=r.useCallback((function(e){if(B.current&&"scrollable"===k){var n=B.current[t];if(n&&W.current&&Q){var r=Q.width,o=H.current;if("next"===e){var i,a=null===(i=B.current)||void 0===i?void 0:i[t+1];a&&(n=a)}else if("prev"===e){var l,s=null===(l=B.current)||void 0===l?void 0:l[t-1];s&&(n=s)}var c=n.x-o,d=c,u=-r+c+n.width;u>-50?W.current.scrollTo({x:o+u+50,y:0,animated:!0}):d<50&&W.current.scrollTo({x:o+d-50,y:0,animated:!0})}}}),[k,B,t,W,H,Q]);return r.useEffect((function(){ne()}),[ne]),r.useEffect((function(){Y()}),[Y]),r.createElement(s.a,{style:A.relative},r.createElement(y.a,{style:[{backgroundColor:z,elevation:I},L,A.tabs,"top"===h&&A.tabsTopIcon],onLayout:ee},r.createElement(g.a,{ref:W,contentContainerStyle:"fixed"===k?A.fixedContentContainerStyle:void 0,onContentSizeChange:function(e){F.current=e},onScroll:function(e){H.current=e.nativeEvent.contentOffset.x},scrollEventThrottle:25,horizontal:!0,showsHorizontalScrollIndicator:!1,alwaysBounceHorizontal:"scrollable"===k,scrollEnabled:"scrollable"===k},"scrollable"===k&&C?r.createElement(s.a,{style:A.scrollablePadding}):null,r.Children.map(o,(function(e,a){return r.createElement(D,{theme:d,tabIndex:a,tab:e,active:t===a,onTabLayout:te,goTo:n,activeColor:$,textColor:V,position:i,offset:c,childrenCount:o.length,uppercase:x,iconPosition:h,showTextLabel:E,mode:k})})),r.createElement(b.a.View,{ref:_,pointerEvents:"none",style:[A.indicator,{backgroundColor:$},Z]})),r.createElement(b.a.View,{style:[A.removeTopShadow,{height:I,backgroundColor:z,top:-I}]})))}var A=l.a.create({relative:{position:"relative"},removeTopShadow:{position:"absolute",left:0,right:0,zIndex:2},scrollablePadding:{width:52},tabs:{height:48},tabsTopIcon:{height:72},fixedContentContainerStyle:{flex:1},indicator:U({position:"absolute",height:2,width:1,left:0,bottom:0},h.a.select({web:{backgroundColor:"transparent",transitionDuration:"150ms",transitionProperty:"all",transformOrigin:"left",willChange:"transform"},default:{}}))});var V=l.a.create({root:{flex:1}}),$=function(e){var t=e.theme,n=e.dark,o=e.style,i=e.defaultIndex,l=e.onChangeIndex,d=e.iconPosition,u=e.showTextLabel,p=e.showLeadingSpace,m=e.uppercase,f=e.mode,b=r.useState(i||0),h=a()(b,2),g=h[0],v=h[1],y=r.useCallback((function(e){v(e),l(e)}),[v,l]),E=e.children,O=E[g];if(!O||!O)return null;var w={index:g,goTo:y,children:E,theme:t,dark:n,style:o,offset:void 0,position:void 0,iconPosition:d,showTextLabel:u,showLeadingSpace:p,uppercase:m,mode:f};return r.createElement(s.a,{style:V.root},r.createElement(M,w),r.createElement(c.Provider,{value:{goTo:y,index:g}},O))},F=function(){var e={};return{set:function(t,n){e[t]=n},get:function(t){return e[t]}}}();function H(e,t){return t?F.get(t)||e||0:e||0}var W=Object(o.c)((function(e){var t=e.onChangeIndex,n=e.children,o=e.persistKey,i=e.theme,a=e.dark,l=e.style,s=e.defaultIndex,c=e.mode,d=void 0===c?"fixed":c,u=e.uppercase,p=void 0===u||u,m=e.iconPosition,f=void 0===m?"leading":m,b=e.showTextLabel,g=void 0===b||b,v=e.showLeadingSpace,y=void 0===v||v,E=r.useCallback((function(e){o&&"web"===h.a.OS&&F.set(o,e),null===t||void 0===t||t(e)}),[o,t]);return r.createElement($,{style:l,dark:a,theme:i,defaultIndex:H(s,o),onChangeIndex:E,uppercase:p,iconPosition:f,showTextLabel:g,showLeadingSpace:y,mode:d},n)}));function B(e){var t=e.children;return r.Children.only(t)}},724:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var r,o=n(57),i=n.n(o),a=n(51),l=n(40),s=n(58),c=n(0),d=n(1),u=n(331),p=n(50),m=n(559),f=n(19),b=n(183),h=n(22),g=n.n(h),v=n(3),y=n.n(v),E=n(11),O=n.n(E),w=n(6),C=n.n(w),x=n(400),k=n(98),T=n(97);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,R=Object(s.a)(r||(r=i()(["\n  mutation UpdateRole($roleId: Int!, $permissionName: String!, $enabled: Boolean!) {\n    updateRole(input: {\n      id: $roleId,\n      permission: $permissionName,\n      enabled: $enabled\n    }) {\n      role {\n        id\n        name\n        permissions\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"])));function N(e){var t=e.title,n=e.description,r=e.role,o=e.permissionName,i=Object(T.a)(k.a.GrantPermission),l=Object(a.useMutation)(R),s=O()(l,2),d=s[0],u=(s[1],Object(f.b)());return c.createElement(p.b.Item,{disabled:!i,style:{width:"100%"},right:function(){return c.createElement(x.a,{value:r.permissions.includes(o),onValueChange:function(){var e,t,n,i,a,l,s;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.awrap(d({variables:{roleId:Number(r.id),permissionName:o,enabled:!r.permissions.includes(o)},optimisticResponse:{updateRole:{role:P(P({},r),{},{permissions:r.permissions.includes(o)?[].concat(g()(r.permissions),[o]):r.permissions.filter((function(e){return e!==o}))})}}}));case 2:if(null==(i=c.sent)||null==(e=i.data)||null==(t=e.updateRole)||null==(n=t.errors)||!n.length){c.next=6;break}return null==i||null==(a=i.data)||null==(l=a.updateRole)||null==(s=l.errors)||s.map((function(e){return u(f.a.notifications.showSnackbar({message:e,variant:"error"}))})),c.abrupt("return");case 6:case"end":return c.stop()}}),null,null,null,Promise)}})},title:t,description:n})}var I=Object(s.a)(S||(S=i()(["\n  query QueryDropzoneRigs(\n    $dropzoneId: Int!\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n        permissions\n      }\n    }\n  }\n"])));function D(){var e,t,n=Object(f.c)((function(e){return e.global})),r=Object(a.useQuery)(I,{variables:{dropzoneId:Number(n.currentDropzoneId)}}),o=r.data,i=r.loading,s=r.refetch,d=Object(l.useIsFocused)();return c.useEffect((function(){d&&s()}),[d]),i?c.createElement(u.a,{indeterminate:!0,color:n.theme.colors.accent}):c.createElement(m.b,{defaultIndex:0,mode:"scrollable"},null==o||null==(e=o.dropzone)||null==(t=e.roles)?void 0:t.map((function(e){return c.createElement(m.a,{label:e.name,key:"permission-tab-role-"+e.id},c.createElement(b.a,null,c.createElement(p.b.Subheader,null,"User Management"),c.createElement(N,{role:e,permissionName:"readUser",description:"View other users' profiles",title:"View Users"}),c.createElement(N,{role:e,permissionName:"updateUser",description:"Update other users",title:"Update Users"}),c.createElement(p.b.Section,{title:"Manifest",style:{width:"100%"}},c.createElement(p.b.Accordion,{title:"Loads"},c.createElement(N,{role:e,permissionName:"readLoad",description:"See available loads on the manifest screen",title:"View Load"}),c.createElement(N,{role:e,permissionName:"createLoad",title:"Create Loads"}),c.createElement(N,{role:e,permissionName:"updateLoad",description:"Dispatch loads, update load master, change pilot / plane, etc",title:"Update Loads"}),c.createElement(N,{role:e,permissionName:"deleteLoad",description:"Permanently delete existing loads",title:"Delete Load"})),c.createElement(p.b.Accordion,{title:"Manifesting"},c.createElement(N,{role:e,permissionName:"createSlot",description:"Create a slot for himself/herself only",title:"Manifest self"}),c.createElement(N,{role:e,permissionName:"updateSlot",description:"Update own slot after manifesting themselves",title:"Update own slot"}),c.createElement(N,{role:e,permissionName:"deleteSlot",description:"Take themselves off the load",title:"Remove own slot"}),c.createElement(N,{role:e,permissionName:"createUserSlot",description:"Manifest other users, e.g yourself + others",title:"Manifest other people"}),c.createElement(N,{role:e,permissionName:"createUserSlotWithSelf",description:"Allow manifesting others only if the user is part of the group",title:"Manifest own groups"}),c.createElement(N,{role:e,permissionName:"updateUserSlot",description:"Update other people's slots on a load",title:"Update other users slot"}),c.createElement(N,{role:e,permissionName:"deleteUserSlot",description:"Delete other users' slots off a load",title:"Take others off the load"}),c.createElement(N,{role:e,permissionName:"createStudentSlot",description:"Manifest a student on a load",title:"Manifest students"}),c.createElement(N,{role:e,permissionName:"updateStudentSlot",description:"Make changes to an already manifested student",title:"Update student slots"}),c.createElement(N,{role:e,permissionName:"deleteStudentSlot",description:"Take a student off the load",title:"Remove student slots"}))),c.createElement(p.b.Section,{title:"Administration",style:{width:"100%"}},c.createElement(p.b.Accordion,{title:"Dropzone"},c.createElement(N,{role:e,permissionName:"updateDropzone",description:"Change dropzone name, visibility, and branding",title:"Update Dropzone"}),c.createElement(N,{role:e,permissionName:"deleteDropzone",description:"Permanently delete dropzone",title:"Delete Dropzone"})),c.createElement(p.b.Accordion,{title:"Ticket types"},c.createElement(N,{role:e,permissionName:"createTicketType",description:"Create new jump tickets",title:"Create Ticket"}),c.createElement(N,{role:e,permissionName:"updateTicketType",description:"Make changes to existing ticket types, including prices",title:"Update Tickets"}),c.createElement(N,{role:e,permissionName:"deleteTicketType",description:"Delete existing ticket types",title:"Remove Tickets"})),c.createElement(p.b.Accordion,{title:"Ticket addons"},c.createElement(N,{role:e,permissionName:"createExtra",description:"Set up new ticket addons",title:"Create Ticket addon"}),c.createElement(N,{role:e,permissionName:"updateExtra",description:"Make changes to existing ticket addons, including prices",title:"Update Ticket addons"}),c.createElement(N,{role:e,permissionName:"deleteExtra",description:"Delete existing ticket addons",title:"Remove Ticket addons"})),c.createElement(p.b.Accordion,{title:"Planes"},c.createElement(N,{role:e,permissionName:"createPlane",description:"Add new aircrafts",title:"Create Aircraft"}),c.createElement(N,{role:e,permissionName:"updatePlane",description:"Make changes to existing aircrafts",title:"Update Aircraft"}),c.createElement(N,{role:e,permissionName:"deletePlane",description:"Remove existing aircrafts",title:"Remove Aircraft"})),c.createElement(p.b.Accordion,{title:"Rigs"},c.createElement(N,{role:e,permissionName:"createDropzoneRig",description:"Create dropzone managed rigs, e.g tandem and student rigs",title:"Create Rig"}),c.createElement(N,{role:e,permissionName:"updateDropzoneRig",description:"Make changes to existing student and tandem rigs",title:"Update Rigs"}),c.createElement(N,{role:e,permissionName:"deleteDropzoneRig",description:"Delete existing student and tandem rigs",title:"Remove Rigs"}),c.createElement(N,{role:e,permissionName:"updateFormTemplate",description:"Make changes to the rig inspection template",title:"Modify Rig Inspection Form"})))))})))}d.a.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}})}}]);
//# sourceMappingURL=25.ba4e0a4c.chunk.js.map