(this.webpackJsonp=this.webpackJsonp||[]).push([[2],{111:function(e,n,t){"use strict";t.d(n,"a",(function(){return ie})),t.d(n,"c",(function(){return ce})),t.d(n,"b",(function(){return ue})),t.d(n,"d",(function(){return de})),t.d(n,"e",(function(){return fe}));var r=t(3),a=t.n(r),o=t(87),i=t(29),l=t(383),s=t.n(l),c=t(188),u=t(12),d=t(288),f=t(9),m=t.n(f),p={original:null,open:!1,fields:{amount:{value:null,error:null},status:{value:"deposit",error:null},message:{value:"",error:null}}},g=Object(i.b)({name:"forms/credits",initialState:p,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];r in e.fields&&e.fields[r].error&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=p.fields):(e.original=n.payload,e.open=!0)},reset:function(e){e.fields=p.fields,e.original=null}}}),b={original:null,open:!1,fields:{federation:{value:null,error:null},name:{value:"",error:null},secondaryColor:{value:"",error:null},primaryColor:{value:"",error:null},banner:{value:"",error:null},isCreditSystemEnabled:{value:!1,error:null},isPublic:{value:!1,error:null}}},y=Object(i.b)({name:"forms/dropzone",initialState:b,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];r in e.fields&&e.fields[r].error&&(e.fields[r].error=a)},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=b.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=b.fields,e.original=null}}}),v={original:null,open:!1,fields:{role:{value:null,error:null},expiresAt:{value:null,error:null}}},h=Object(i.b)({name:"forms/dropzoneUser",initialState:v,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=v.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=v.fields,e.original=null}}}),E=t(274),S=t(275),w={original:null,open:!1,fields:{name:{value:"",error:null},registration:{value:"",error:null},minSlots:{value:0,error:null},maxSlots:{value:4,error:null},hours:{value:null,error:null},nextMaintenanceHours:{value:null,error:null}}},O=Object(i.b)({name:"Plane",initialState:w,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields.name.error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=w.fields):(e.original=n.payload,e.open=!0,e.fields.hours.value=n.payload.hours,e.fields.minSlots.value=n.payload.minSlots,e.fields.maxSlots.value=n.payload.maxSlots,e.fields.name.value=n.payload.name,e.fields.registration.value=n.payload.registration,e.fields.nextMaintenanceHours.value=n.payload.nextMaintenanceHours)},reset:function(e){e.fields=w.fields,e.original=null}}}),C={original:null,open:!1,fields:{make:{value:"",error:null},model:{value:"",error:null},serial:{value:"",error:null},repackExpiresAt:{value:null,error:null},canopySize:{value:null,error:null},rigType:{value:"sport",error:null}}},x=Object(i.b)({name:"forms/rig",initialState:C,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=C.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=C.fields,e.original=null}}}),k={fields:[],open:!1,ok:!1},z=Object(i.b)({name:"forms/rig",initialState:k,reducers:{setOk:function(e,n){e.ok=n.payload},setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];console.log({item:a,index:r,fields:e.fields}),e.fields=e.fields.map((function(e,n){return n===r?a:e}))},setFields:function(e,n){try{e.fields=JSON.parse(n.payload)}catch(t){console.error("Failed to read rig inspection template",t.message,n.payload)}},reset:function(e){e.fields=k.fields,e.ok=k.ok}}}),j={original:null,fields:[]},D=Object(i.b)({name:"forms/rigInspection",initialState:j,reducers:{setFields:function(e,n){e.fields=n.payload},setOpen:function(e,n){e.original=n.payload;try{e.fields=JSON.parse(n.payload.definition)}catch(t){console.log("Invalid json: ",n.payload.definition)}},reset:function(e){e.fields=j.fields,e.original=null}}}),T={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},rig:{value:null,error:null},ticketType:{value:null,error:null},dropzoneUser:{value:null,error:null},exitWeight:{value:null,error:null},passengerName:{value:null,error:null},passengerExitWeight:{value:null,error:null}}},P=Object(i.b)({name:"forms/manifest",initialState:T,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=T.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=T.fields,e.original=null}}}),F={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},ticketType:{value:null,error:null},users:{value:[],error:null}}},I=Object(i.b)({name:"forms/manifestGroup",initialState:F,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setFromSlots:function(e,n){var t,r,a;e.fields.users.value=n.payload.map((function(e){var n,t;return{id:Number(null==(n=e.user)?void 0:n.id),rigId:Number(null==(t=e.rig)?void 0:t.id),exitWeight:Number(e.exitWeight)}})),e.fields.jumpType.value=null==(t=n.payload.find((function(e){return e})))?void 0:t.jumpType,e.fields.load.value=null==(r=n.payload.find((function(e){return e})))?void 0:r.load,e.fields.extras.value=null==(a=n.payload.find((function(e){return e})))?void 0:a.extras},setDropzoneUsers:function(e,n){e.fields.users.value=n.payload.map((function(e){var n,t;return{id:Number(e.user.id),rigId:Number(null==e||null==(n=e.availableRigs)||null==(t=n.find((function(e){return e.id})))?void 0:t.id),exitWeight:Number(null==e?void 0:e.user.exitWeight)}}))},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=F.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=F.fields,e.original=null}}}),$={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},altitude:{value:14e3,error:null},allowManifestingSelf:{value:!1,error:null},isTandem:{value:!1,error:null},extras:{value:[],error:null}}},U=Object(i.b)({name:"forms/ticketType",initialState:$,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=$.fields):(e.original=n.payload,e.open=!0,e.fields.altitude.value=n.payload.altitude,e.fields.cost.value=n.payload.cost,e.fields.allowManifestingSelf.value=n.payload.allowManifestingSelf,e.fields.name.value=n.payload.name)},reset:function(e){e.fields=$.fields,e.original=null}}}),R={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:"",error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},rigs:{value:[],error:null},license:{value:null,error:null}}},A=Object(i.b)({name:"forms/user",initialState:R,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){var t;if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=R.fields;else for(var r in e.original=n.payload,e.open=!0,e.federation.value=null==(t=n.payload.license)?void 0:t.federation,n.payload)if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}},reset:function(e){e.fields=R.fields,e.original=null}}}),N={open:!1,fields:{user:{value:null,error:null},rig:{value:null,error:null}}},B=Object(i.b)({name:"forms/userWizard",initialState:N,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.fields=N.fields):(e.fields.user.value=n.payload,e.open=!0)},reset:function(e){e.fields=N.fields}}}),L={open:!1,fields:{dropzone:{value:null,error:null}}},W=Object(i.b)({name:"forms/dropzoneWizard",initialState:L,reducers:{setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.fields=L.fields):(e.fields.dropzone.value=n.payload,e.open=!0)},reset:function(e){e.fields=L.fields}}}),M=(E.b,S.b,{credits:g,dropzone:y,dropzoneUser:h,extra:E.a,load:S.a,plane:O,rig:x,rigInspection:z,rigInspectionTemplate:D,manifest:P,manifestGroup:I,ticketType:U,user:A,userWizard:B,dropzoneWizard:W}),V={isSearchVisible:!1,searchText:""},H=Object(i.b)({name:"screens/user",initialState:V,reducers:{setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=V.isSearchVisible,e.searchText=V.searchText}}}),q={fields:{email:{value:"",error:null},password:{value:"",error:null}}},J=Object(i.b)({name:"login",initialState:q,reducers:{setEmail:function(e,n){e.fields.email.value=n.payload},setPassword:function(e,n){e.fields.password.value=n.payload},setEmailError:function(e,n){e.fields.email.error=n.payload},setPasswordError:function(e,n){e.fields.password.error=n.payload},reset:function(e){e.fields=q.fields}}}),Y={isSearchVisible:!1,selectedUsers:[],searchText:""},G=Object(i.b)({name:"manifestScreen",initialState:Y,reducers:{setSelected:function(e,n){e.selectedUsers=n.payload},setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=Y.isSearchVisible,e.searchText=Y.searchText}}}),Q={federation:null,fields:{email:{value:"",error:null},password:{value:"",error:null},passwordConfirmation:{value:"",error:null},exitWeight:{value:50,error:null},name:{value:"",error:null},phone:{value:"",error:null},license:{value:null,error:null}}},_=Object(i.b)({name:"login",initialState:Q,reducers:{setFederation:function(e,n){e.federation=n.payload},setField:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=m()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},reset:function(e){e.fields=Q.fields}}}),Z={manifest:G,users:H,login:J,signup:_},X=t(231),K=t(136);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}X.b,K.b;var te={key:"open-manifest.0.9.1",storage:"web"===u.a.OS?t(482).default:s.a,whitelist:["global","notifications"]},re=Object.keys(Z).reduce((function(e,n){return Z[n]?ne(ne({},e),{},a()({},n,Z[n].reducer)):e}),{}),ae=Object.keys(M).reduce((function(e,n){return M[n]?ne(ne({},e),{},a()({},n,M[n].reducer)):e}),{}),oe=Object.keys(Z).reduce((function(e,n){return Z[n]?ne(ne({},e),{},a()({},n,Z[n].actions)):e}),{}),ie={forms:Object.keys(M).reduce((function(e,n){return M[n]?ne(ne({},e),{},a()({},n,M[n].actions)):e}),{}),screens:oe,global:X.a.actions,notifications:K.a.actions},le=Object(o.b)({global:X.a.reducer,notifications:K.a.reducer,screens:Object(o.b)(re),forms:Object(o.b)(ae)}),se=Object(d.a)(te,le),ce=Object(i.a)({reducer:se,middleware:Object(i.c)({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),ue=Object(d.b)(ce),de=function(){return Object(c.b)()},fe=c.c},134:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return p}));var r=t(45),a=t.n(r),o=t(10),i=t.n(o),l=t(0),s=t(27),c=t(2),u=t(86),d=t(236);function f(e,n){var t=Object(d.a)(),r=e[t];return r||u.a[t][n]}function m(e){var n=e.style,t=e.lightColor,r=e.darkColor,o=i()(e,["style","lightColor","darkColor"]),c=f({light:t,dark:r},"text");return l.createElement(s.a,a()({style:[{color:c},n]},o))}function p(e){var n=e.style,t=e.lightColor,r=e.darkColor,o=i()(e,["style","lightColor","darkColor"]),s=f({light:t,dark:r},"background");return l.createElement(c.a,a()({style:[{backgroundColor:s},n]},o))}},136:function(e,n,t){"use strict";t.d(n,"b",(function(){return a}));var r=t(29),a={queue:[]};n.a=Object(r.b)({name:"notifications",initialState:a,reducers:{hideSnackbar:function(e){e.queue=e.queue.slice(1)},showSnackbar:function(e,n){e.queue.push(n.payload)}}})},137:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var r,a=t(9),o=t.n(a),i=t(31),l=t.n(i),s=t(38),c=t(32),u=t(0),d=t(126),f=t(21),m=t(187),p=t(251),g=Object(c.a)(r||(r=l()(["\n  query Federations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function b(e){var n,t,r=u.useState(!1),a=o()(r,2),i=a[0],l=a[1],c=Object(s.useQuery)(g).data;return u.useEffect((function(){var n;1!==(null==c||null==(n=c.federations)?void 0:n.length)||e.value||e.onSelect(c.federations[0])}),[JSON.stringify(null==c?void 0:c.federations)]),u.createElement(u.Fragment,null,u.createElement(f.b.Subheader,null,"Federation"),u.createElement(m.a,{onDismiss:function(){return l(!1)},visible:i,anchor:u.createElement(d.d,{onPress:function(){l(!0)}},u.createElement(p.a,{mode:"outlined",disabled:!0,style:{minWidth:200},value:(null==(n=e.value)?void 0:n.name)||"Please select federation"}))},null==c||null==(t=c.federations)?void 0:t.map((function(n){return u.createElement(m.a.Item,{onPress:function(){l(!1),e.onSelect(n)},title:n.name||"-",key:"federation-select-"+n.id})}))))}},164:function(e,n,t){"use strict";var r=t(9),a=t.n(r),o=t(0),i=t(1),l=t(96),s=t(21),c=t(48),u=t(63),d=t(249),f=t(565),m=t(221),p=t(359),g=t(173),b=t(417),y=t(103),v=t.n(y);function h(e){var n=e.value,t=e.onChange,r=e.open,a=e.onClose,i=o.useRef();return o.createElement(m.a,null,o.createElement(p.a,{visible:!!r,onDismiss:function(){return a()}},o.createElement(p.a.Title,null,"Custom color"),o.createElement(p.a.Content,{style:{padding:20,height:400}},o.createElement(b.a,{style:{flex:1},sliderComponent:v.a,defaultColor:n,hideSliders:!0,ref:i})),o.createElement(p.a.Actions,null,o.createElement(g.a,{onPress:function(){return a()}},"Cancel"),o.createElement(g.a,{onPress:function(){t(i.current.getColor())}},"Save"))))}i.a.create({fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}});var E=["#000000","#AAAAAA","#DDDDDD","#FF1414","#D6116B","#B70E97","#6718AC","#1E47AB","#11839E","#0DA583","#10C626","#92EA12","#FF8B14","#FFB214"];var S=i.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:10,textAlign:"center"},colorBox:{height:25,width:25,margin:5,alignItems:"center",justifyContent:"center"}}),w=function(e){var n=e.value,t=e.title,r=e.helperText,i=e.onChange,m=e.error,p=!E.includes(n),g=o.useState(!1),b=a()(g,2),y=b[0],v=b[1];return o.createElement(o.Fragment,null,o.createElement(h,{open:y,value:n,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){i(e),v(!1)})),onClose:function(){return v(!1)}}),o.createElement(l.a,{style:S.card},o.createElement(s.b.Subheader,null,t),o.createElement(l.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},E.map((function(e){return o.createElement(c.a,{onPress:function(){return i(e)}},o.createElement(u.a,{style:[S.colorBox,{backgroundColor:e},e===n?{borderWidth:2,borderColor:"black"}:{}]}))})),o.createElement(c.a,{onPress:function(){return v(!0)}},o.createElement(u.a,{style:[S.colorBox,{backgroundColor:p?n:"#FFFFFF"},p?{borderWidth:2,borderColor:"black"}:{}]},o.createElement(f.a,{name:"add",size:1})))),o.createElement(d.a,{type:m?"error":"info"},m||r)))};n.a=w},165:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return d}));var r=t(0),a=t(1),o=t(27),i=t(2),l=t(63);var s=a.a.create({label:{fontWeight:"bold",textAlign:"center",color:"white",fontSize:16,marginTop:8},previewContainer:{height:200,width:100,borderRadius:5,borderWidth:a.a.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"96%",borderRadius:2,height:"20%",marginVertical:"2%",marginHorizontal:"2%",backgroundColor:"#DDDDDD",position:"absolute",top:"15%"},previewLoadCard2:{width:"96%",height:"20%",borderRadius:2,backgroundColor:"#DDDDDD",marginVertical:"2%",marginHorizontal:"2%",position:"absolute",top:"37%"},previewLoadCard3:{width:"96%",height:"20%",borderRadius:2,marginVertical:"2%",backgroundColor:"#DDDDDD",marginHorizontal:"2%",position:"absolute",top:"59%"},previewButton:{width:"35%",height:"6%",position:"absolute",bottom:22,right:5,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),c=function(e){var n=e.primaryColor,t=e.secondaryColor;return r.createElement(i.a,null,r.createElement(l.a,{style:s.previewContainer},r.createElement(i.a,{style:[s.previewAppBar,{backgroundColor:n}]}),r.createElement(i.a,{style:[s.previewLoadCard]}),r.createElement(i.a,{style:[s.previewLoadCard2]}),r.createElement(i.a,{style:[s.previewLoadCard3]}),r.createElement(i.a,{style:[s.previewButton,{backgroundColor:t}]}),r.createElement(i.a,{style:[s.previewTabBar,{backgroundColor:n}]})),r.createElement(o.a,{style:s.label},"Phone"))};var u=a.a.create({label:{fontWeight:"bold",textAlign:"center",color:"white",fontSize:16,marginTop:8},previewContainer:{height:100,width:170,borderRadius:5,borderWidth:a.a.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#DDDDDD",position:"absolute",top:"15%",left:"2%"},previewLoadCard2:{width:"30%",height:"60%",backgroundColor:"#DDDDDD",marginVertical:"2%",position:"absolute",top:"15%",left:"35%"},previewLoadCard3:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#DDDDDD",position:"absolute",top:"15%",left:"68%"},previewButton:{width:"12%",height:"6%",position:"absolute",bottom:15,right:8,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),d=function(e){var n=e.primaryColor,t=e.secondaryColor;return r.createElement(i.a,null,r.createElement(l.a,{style:u.previewContainer},r.createElement(i.a,{style:[u.previewAppBar,{backgroundColor:n}]}),r.createElement(i.a,{style:[u.previewLoadCard]}),r.createElement(i.a,{style:[u.previewLoadCard2]}),r.createElement(i.a,{style:[u.previewLoadCard3]}),r.createElement(i.a,{style:[u.previewButton,{backgroundColor:t}]}),r.createElement(i.a,{style:[u.previewTabBar,{backgroundColor:n}]})),r.createElement(o.a,{style:u.label},"Web"))}},191:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(45),a=t.n(r),o=t(10),i=t.n(o),l=t(0),s=t(82),c=t(1),u=t(194),d=t(5);function f(e){var n=Object(u.a)().height,t=Object(d.c)((function(e){return e.global})).theme,r=e.style,o=e.children,c=e.contentContainerStyle,f=i()(e,["style","children","contentContainerStyle"]);return l.createElement(s.a,a()({},f,{keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:[m.container,{backgroundColor:t.colors.surface,height:n-112},r],contentContainerStyle:[m.content,c]}),o)}var m=c.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}})},206:function(e,n,t){"use strict";var r,a=t(31),o=t.n(a),i=t(32),l=t(42),s=Object(i.a)(r||(r=o()(["\n  mutation UpdateUser(\n    $id: Int,\n    $name: String,\n    $phone: String,\n    $email: String,\n    $pushToken: String,\n    $nickname: String,\n    $licenseId: Int,\n    $exitWeight: Float,\n  ){\n    updateUser(input: {\n      id: $id\n      attributes: {\n        pushToken: $pushToken\n        name: $name,\n        phone: $phone,\n        email: $email,\n        nickname: $nickname,\n        licenseId: $licenseId,\n        exitWeight: $exitWeight,\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      user {\n        id\n        name\n        exitWeight\n        email\n        pushToken\n        phone\n        rigs {\n          id\n          model\n          make\n          serial\n          canopySize\n        }\n        jumpTypes {\n          id\n          name\n        }\n        license {\n          id\n          name\n\n          federation {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));n.a=Object(l.a)(s,{getPayload:function(e){return e.updateUser},fieldErrorMap:{license:"licenseId",exit_weight:"exitWeight"}})},231:function(e,n,t){"use strict";t.d(n,"b",(function(){return p}));var r=t(3),a=t.n(r),o=t(29),i=t(119),l=t(232),s=t(98),c=t(120);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=d(d(d({},s.a),i.a),{},{colors:d(d(d({},s.a.colors),i.a.colors),{},{primary:"#333333"})}),m=d(d(d({},c.a),l.a),{},{colors:d(d(d({},c.a.colors),l.a.colors),{},{primary:"#333333"})}),p={currentUser:null,currentDropzone:null,currentDropzoneId:null,permissions:[],credentials:null,expoPushToken:null,theme:f,isDarkMode:!1};n.a=Object(o.b)({name:"global",initialState:p,reducers:{setCredentials:function(e,n){e.credentials=n.payload},setUser:function(e,n){e.currentUser=n.payload},setExpoPushToken:function(e,n){e.expoPushToken=n.payload},setPermissions:function(e,n){e.permissions=n.payload},setPrimaryColor:function(e,n){e.theme.colors.primary=n.payload},setAccentColor:function(e,n){e.theme.colors.accent=n.payload},setDropzone:function(e,n){var t,r,a,o,i,l;(e.currentDropzone=n.payload,e.currentDropzoneId=null!=(t=n.payload)&&t.id?Number(null==(r=n.payload)?void 0:r.id):null,null!=(a=e.currentDropzone)&&a.primaryColor)&&(e.theme.colors.primary=null==(i=e.currentDropzone)?void 0:i.primaryColor);null!=(o=e.currentDropzone)&&o.secondaryColor&&(e.theme.colors.accent=null==(l=e.currentDropzone)?void 0:l.secondaryColor)},toggleDarkMode:function(e){var n,t,r,a;(e.isDarkMode=!e.isDarkMode,e.theme=e.isDarkMode?m:f,null!=(n=e.currentDropzone)&&n.primaryColor)&&(e.theme.colors.primary=null==(r=e.currentDropzone)?void 0:r.primaryColor);null!=(t=e.currentDropzone)&&t.secondaryColor&&(e.theme.colors.accent=null==(a=e.currentDropzone)?void 0:a.secondaryColor)},logout:function(e){for(var n in p){var t=n;n in e&&(e[t]=p[t])}}}})},236:function(e,n,t){"use strict";function r(){return"light"}t.d(n,"a",(function(){return r}))},250:function(e,n,t){e.exports=t.p+"static/media/logo.6fa2ed95.png"},274:function(e,n,t){"use strict";t.d(n,"b",(function(){return i}));var r=t(9),a=t.n(r),o=t(29),i={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},ticketTypeIds:{value:[],error:null}}};n.a=Object(o.b)({name:"forms/extra",initialState:i,reducers:{setField:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields.name.error=null},setFieldError:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=i.fields):(e.original=n.payload,e.open=!0,e.fields.ticketTypeIds.value=n.payload.ticketTypes.map((function(e){var n=e.id;return Number(n)})),e.fields.cost.value=n.payload.cost,e.fields.name.value=n.payload.name)},reset:function(e){e.fields=i.fields,e.original=null}}})},275:function(e,n,t){"use strict";t.d(n,"b",(function(){return i}));var r=t(9),a=t.n(r),o=t(29),i={original:null,open:!1,fields:{name:{value:"",error:null},gca:{value:null,error:null},dispatchAt:{value:null,error:null},isOpen:{value:!0,error:null},loadMaster:{value:null,error:null},pilot:{value:null,error:null},plane:{value:null,error:null},maxSlots:{value:4,error:null}}};n.a=Object(o.b)({name:"forms/load",initialState:i,reducers:{setField:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=a()(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=i.fields;else for(var t in e.original=n.payload,e.open=!0,n.payload)if(t in e.fields){var r=t;e.fields[r].value=n.payload[r]}},reset:function(e){e.fields=i.fields,e.original=null}}})},290:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));var r,a=t(3),o=t.n(a),i=t(31),l=t.n(i),s=t(38),c=t(524),u=t(32),d=t(0),f=t(5),m=t(206);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=Object(u.a)(r||(r=l()(["\n  query QueryDropzone($dropzoneId: Int!, $earliestTimestamp: Int) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n      primaryColor,\n      secondaryColor,\n      planes {\n        id\n        name\n        registration\n      }\n      ticketTypes {\n        id\n        name\n      }\n\n      currentUser {\n        id\n        credits\n        hasCredits\n        hasExitWeight\n        hasMembership\n        hasReserveInDate\n        hasRigInspection\n        hasLicense\n        permissions\n        expiresAt\n\n        role {\n          id\n          name\n        }\n\n        transactions {\n          edges {\n            node {\n              id\n              status\n              amount\n            }\n          }\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          pushToken\n\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n\n      loads(earliestTimestamp: $earliestTimestamp) {\n        edges {\n          node {\n            id\n            name\n            loadNumber\n            isOpen\n            maxSlots\n            isFull\n          }\n        }\n      }\n    }\n  }\n"])));function y(){var e,n,t,r,a,o,i,l,u,p=Object(f.c)((function(e){return e.global.currentDropzoneId})),y=Object(f.c)((function(e){return e.global.expoPushToken})),v=Object(f.b)(),h=Object(s.useQuery)(b,{variables:{dropzoneId:p,earliestTimestamp:Object(c.a)(new Date).getTime()/1e3},fetchPolicy:"cache-first"}),E=Object(m.a)({onSuccess:function(){return null},onError:function(){return null}});return d.useEffect((function(){var e,n,t,r,a,o,i,l,s=null==h||null==(e=h.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.id,c=null==h||null==(a=h.data)||null==(o=a.dropzone)||null==(i=o.currentUser)||null==(l=i.user)?void 0:l.pushToken,u=y;!h.loading&&h.called&&u&&u!==c&&E.mutate({id:Number(s),pushToken:u})}),[y,null==h||null==(e=h.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.pushToken]),d.useEffect((function(){var e,n,t;if(null!=h&&null!=(e=h.data)&&null!=(n=e.dropzone)&&null!=(t=n.currentUser)&&t.id){var r,a,o,i,l,s,c,u,d=(null==h||null==(r=h.data)?void 0:r.dropzone).currentUser;if(!(d.hasLicense&&(null==(a=d.user)||null==(o=a.rigs)?void 0:o.length)&&(null==d||null==(i=d.user)?void 0:i.exitWeight)&&(null==d||null==(l=d.user)||null==(s=l.rigs)?void 0:s.some((function(e){return e.canopySize})))))v(f.a.forms.user.setOpen(d.user)),null!=d&&null!=(c=d.user)&&null!=(u=c.rigs)&&u.length&&v(f.a.forms.rig.setOpen(d.user.rigs[0])),v(f.a.forms.userWizard.setOpen(d.user))}}),[JSON.stringify(null==h||null==(a=h.data)||null==(o=a.dropzone)?void 0:o.currentUser)]),g(g({},h),{},{dropzone:null==h||null==(i=h.data)?void 0:i.dropzone,currentUser:null==h||null==(l=h.data)||null==(u=l.dropzone)?void 0:u.currentUser})}},291:function(e,n,t){"use strict";var r=t(84),a=t(0),o=t(2),i=t(279);n.a=function(e){var n=e.items,t=e.selected,l=e.isSelected,s=e.isDisabled,c=e.icon,u=e.renderItemLabel,d=e.onChangeSelected,f=e.autoSelectFirst;return a.useEffect((function(){(!t||!t.length&&n.length&&f)&&d([n[0]])}),[JSON.stringify(t),JSON.stringify(n),f]),a.createElement(o.a,{style:{flexDirection:"row",flexWrap:"wrap"}},n.map((function(e){return a.createElement(i.a,{key:JSON.stringify(e),mode:"outlined",icon:!t.some((function(n){return Object(r.isEqual)(e,n)}))&&c?c:void 0,style:{margin:1},disabled:s(e),selected:l?l(e):t.some((function(n){return Object(r.isEqual)(e,n)})),onPress:function(){return d(1===t.length?[e]:Object(r.xorBy)(t,[e],JSON.stringify))}},u(e))})))}},293:function(e,n,t){"use strict";var r=t(0),a=t(278),o=t(5),i=t(136),l=t(324),s=i.a.actions;n.a=function(){var e=Object(o.c)((function(e){return e.notifications})),n=Object(o.b)(),t=Object(l.a)(),i=e.queue.length?e.queue[0]:null,c={info:{backgroundColor:t.info},success:{backgroundColor:t.success},error:{backgroundColor:t.error},warning:{backgroundColor:t.warning}};return r.createElement(a.a,{testID:"snackbar-message",visible:!!i,onDismiss:function(){return n(s.hideSnackbar())},duration:3e3,action:null==i?void 0:i.action,style:!(null==i||!i.variant)&&c[i.variant]},null==i?void 0:i.message)}},294:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(9),a=t.n(r),o=t(0),i=t(187),l=t(21),s=t(407),c=t.n(s),u=(t(531),t(354));function d(e){var n=o.useState(!1),t=a()(n,2),r=t[0],s=t[1];o.useCallback((function(){s(!1)}),[s]),o.useCallback((function(n){var t=n.date;s(!1),e.onChange(t.getTime()/1e3)}),[s,e.onChange]);return o.createElement(o.Fragment,null,o.createElement(i.a,{onDismiss:function(){return s(!1)},visible:r,anchor:o.createElement(l.b.Item,{onPress:function(){return s(!0)},disabled:!!e.disabled,title:e.label,description:e.timestamp?Object(u.a)(1e3*e.timestamp,"yyyy/MM/dd"):"No date selected",left:function(){return o.createElement(l.b.Icon,{icon:"calendar"})}})},o.createElement(c.a,{selectedDays:e.timestamp?[new Date(1e3*e.timestamp)]:[],onDayClick:function(n){e.onChange(n.getTime()/1e3),s(!1)}})))}},297:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var r,a=t(9),o=t.n(a),i=t(31),l=t.n(i),s=t(38),c=t(32),u=t(0),d=t(21),f=t(291),m=Object(c.a)(r||(r=l()(["\n  query Licenses($federationId: Int) {\n    licenses(federationId: $federationId) {\n      id\n      name\n\n      federation {\n        id\n        name\n      }\n\n    }\n  }\n"])));function p(e){var n=Object(s.useQuery)(m,{variables:{federationId:e.federationId}}).data;return u.createElement(u.Fragment,null,u.createElement(d.b.Subheader,null,"License"),u.createElement(f.a,{autoSelectFirst:!0,icon:"ticket-account",items:(null==n?void 0:n.licenses)||[],selected:[e.value].filter(Boolean),isSelected:function(n){var t;return n.id===(null==(t=e.value)?void 0:t.id)},renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChangeSelected:function(n){var t=o()(n,1)[0];return t?e.onSelect(t):null}}))}},324:function(e,n,t){"use strict";var r=t(236),a=t(86);n.a=function(){var e=Object(r.a)();return a.a[e]}},345:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var r,a=t(9),o=t.n(a),i=t(31),l=t.n(i),s=t(4),c=t.n(s),u=t(0),d=t(1),f=t(96),m=t(173),p=t(21),g=t(251),b=t(249),y=t(252),v=t(421),h=t(38),E=t(164),S=t(5),w=t(165),O=t(137),C=Object(h.gql)(r||(r=l()(["\n  query QueryFederations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function x(){Object(S.c)((function(e){return e.global}));var e=Object(S.c)((function(e){return e.forms.dropzone})),n=Object(S.b)(),t=Object(h.useQuery)(C),r=t.data,a=(t.loading,u.useState(!1)),i=o()(a,2),l=(i[0],i[1],u.useState(null)),s=o()(l,2);s[0],s[1];u.useEffect((function(){var t,a;null==r||null==(t=r.federations)||!t.length||null!=(a=e.fields.federation)&&a.value||n(S.a.forms.dropzone.setField(["federation",r.federations[0]]))}),[JSON.stringify(null==r?void 0:r.federations)]);var d=u.useCallback((function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(Object(v.a)({multiple:!1,type:"image"}));case 3:e=t.sent,n(S.a.forms.dropzone.setField(["banner",e.uri])),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}),[n]);return u.createElement(u.Fragment,null,u.createElement(f.a,{style:{width:"100%",maxHeight:300,marginVertical:16}},u.createElement(f.a.Title,{title:"Banner"}),u.createElement(f.a.Cover,{source:{uri:e.fields.banner.value||"https://picsum.photos/700"},resizeMode:"cover"}),u.createElement(f.a.Actions,{style:{justifyContent:"flex-end"}},u.createElement(m.a,{onPress:d},"Upload"))),u.createElement(f.a,{style:k.card},u.createElement(p.b.Subheader,null,"Name"),u.createElement(g.a,{mode:"outlined",error:!!e.fields.name.error,value:e.fields.name.value||"",onChangeText:function(e){return n(S.a.forms.dropzone.setField(["name",e]))}}),u.createElement(b.a,{type:"error"},e.fields.name.error||""),u.createElement(O.a,{value:e.fields.federation.value,onSelect:function(e){return n(S.a.forms.dropzone.setField(["federation",e]))},required:!0}),u.createElement(b.a,{type:e.fields.federation.error?"error":"info"},e.fields.federation.error||"")),u.createElement(f.a,{style:k.card},u.createElement(f.a.Title,{title:"Branding"}),u.createElement(f.a.Content,{style:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-end",width:"100%"}},u.createElement(w.a,{primaryColor:e.fields.primaryColor.value,secondaryColor:e.fields.secondaryColor.value}),u.createElement(w.b,{primaryColor:e.fields.primaryColor.value,secondaryColor:e.fields.secondaryColor.value}))),u.createElement(E.a,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:e.fields.primaryColor.error,onChange:function(e){return n(S.a.forms.dropzone.setField(["primaryColor",e]))},value:e.fields.primaryColor.value}),u.createElement(E.a,{title:"Accent color",helperText:"Accent color is used for highlights, like buttons and loading bars",error:e.fields.secondaryColor.error,onChange:function(e){return n(S.a.forms.dropzone.setField(["secondaryColor",e]))},value:e.fields.secondaryColor.value}),u.createElement(p.b.Item,{title:"Use credit system",description:"Users will be charged credits when a load is marked as landed and can't manifest with insufficient funds.",onPress:function(){return n(S.a.forms.dropzone.setField(["isCreditSystemEnabled",!e.fields.isCreditSystemEnabled.value]))},left:function(){return u.createElement(y.a,{onPress:function(){return n(S.a.forms.dropzone.setField(["isCreditSystemEnabled",!e.fields.isCreditSystemEnabled.value]))},status:e.fields.isCreditSystemEnabled.value?"checked":"unchecked"})}}),u.createElement(p.b.Item,{title:"Public",description:"Your dropzone will not be available in the app if this is disabled",onPress:function(){return n(S.a.forms.dropzone.setField(["isPublic",!e.fields.isPublic.value]))},left:function(){return u.createElement(y.a,{onPress:function(){return n(S.a.forms.dropzone.setField(["isPublic",!e.fields.isPublic.value]))},status:e.fields.isPublic.value?"checked":"unchecked"})}}))}var k=d.a.create({card:{padding:16,marginVertical:16,width:"100%"},fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}})},351:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var r,a=t(24),o=t.n(a),i=t(3),l=t.n(i),s=t(9),c=t.n(s),u=t(31),d=t.n(u),f=t(4),m=t.n(f),p=t(38),g=t(32),b=t(0),y=t(21),v=t(280),h=t(81),E=t(97),S=t(5);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=Object(g.a)(r||(r=d()(["\n  mutation UpdateRole($roleId: Int!, $permissionName: String!, $enabled: Boolean!) {\n    updateRole(input: {\n      id: $roleId,\n      permission: $permissionName,\n      enabled: $enabled\n    }) {\n      role {\n        id\n        name\n        permissions\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"])));function x(e){var n=e.title,t=e.description,r=e.role,a=e.permissionName,i=Object(E.a)(h.a.GrantPermission),l=Object(p.useMutation)(C),s=c()(l,2),u=s[0],d=(s[1],Object(S.b)());return b.createElement(y.b.Item,{disabled:!i,style:{width:"100%"},right:function(){return b.createElement(v.a,{value:r.permissions.includes(a),onValueChange:function(){var e,n,t,i,l,s,c;return m.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,m.a.awrap(u({variables:{roleId:Number(r.id),permissionName:a,enabled:!r.permissions.includes(a)},optimisticResponse:{updateRole:{role:O(O({},r),{},{permissions:r.permissions.includes(a)?[].concat(o()(r.permissions),[a]):r.permissions.filter((function(e){return e!==a}))})}}}));case 2:if(null==(i=f.sent)||null==(e=i.data)||null==(n=e.updateRole)||null==(t=n.errors)||!t.length){f.next=6;break}return null==i||null==(l=i.data)||null==(s=l.updateRole)||null==(c=s.errors)||c.map((function(e){return d(S.a.notifications.showSnackbar({message:e,variant:"error"}))})),f.abrupt("return");case 6:case"end":return f.stop()}}),null,null,null,Promise)}})},title:n,description:t})}},413:function(e,n,t){"use strict";t.d(n,"a",(function(){return yr}));var r=t(4),a=t.n(r),o=t(126),i=t(414),l=t(50),s=t(572),c=t(573),u=t(570),d=t(567),f=t(568),m=t(574),p=t(0),g=t(419),b=t(188),y=t(381),v=t(352),h=t(353),E=t(142),S=t(175),w=t(12),O=t(2),C=t(361),x=t(382),k=t.n(x),z=t(3),j=t.n(z),D=t(38),T=t(489),P=t(389),F=t(388),I=t(5);function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var R=Object(D.createHttpLink)({uri:l.a.manifest.extra.url});function A(e){var n=e.children,t=Object(I.c)((function(e){return e.global.credentials})),r=Object(I.b)(),a=p.useMemo((function(){return Object(F.a)((function(e){var n=e.graphQLErrors,t=e.networkError;e.operation,e.response;if(null!=n&&n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))return r(I.a.notifications.showSnackbar({message:"Session expired",variant:"error"})),void r(I.a.global.logout());t&&r(I.a.notifications.showSnackbar({message:"[Network error]: "+t,variant:"error"}))}))}),[r]),o=p.useMemo((function(){return Object(P.a)((function(e,n){return{headers:U(U({},n.headers),null!=t&&t.accessToken?U({Authorization:"Bearer "+t.accessToken,"access-token":t.accessToken,"token-type":t.tokenType},t):{})}}))}),[JSON.stringify(t)]),i=p.useMemo((function(){return new D.ApolloClient({link:a.concat(o).concat(R),cache:new D.InMemoryCache})}),[o]);return p.createElement(T.a,{client:i},n)}var N=t(111),B=t(9),L=t.n(B),W=t(562),M=t(561),V=t(416),H=t(289),q=t(259);function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var G=t(293),Q={prefixes:[t(415).a("/"),"https://openmanifest.org","openmanifest://","http://localhost:19006"],config:{screens:{confirm:{path:"/confirm",params:{account_confirmation_success:void 0}},Authenticated:{screens:{HomeScreen:"/home",LoadScreen:"/load/:load_id",PackingScreen:"/packing",ProfileScreen:"/user/:id",SetupScreen:"/dropzone/setup"}},Limbo:{screens:{DropzonesScreen:"/dropzones",CreateDropzoneScreen:"/dropzone/create"}},Unauthenticated:{screens:{LoginScreen:"/login",SignUpScreen:"/signup"}}}}},_=t(569),Z=t(1),X=t(27),K=t(69);function ee(e){var n=e.navigation;return p.createElement(O.a,{style:ne.container},p.createElement(X.a,{style:ne.title},"This screen doesn't exist."),p.createElement(K.a,{onPress:function(){return n.replace("Root")},style:ne.link},p.createElement(X.a,{style:ne.linkText},"Go to home screen!")))}var ne=Z.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),te=t(14),re=t(571),ae=t(396),oe=t(31),ie=t.n(oe),le=t(358),se=t(279),ce=t(187),ue=t(135),de=t(340),fe=t(339),me=t(47);function pe(e){return p.createElement(O.a,{style:ye.warning},p.createElement(fe.a,{style:{color:"white"}},e.title))}function ge(e){var n=e.credits,t=e.loading,r=e.isCreditSystemEnabled,a=e.isRigSetUp,o=e.isExitWeightDefined,i=e.isMembershipInDate,l=e.isReserveInDate,s=e.isRigInspectionComplete;if(e.loading)return null;var c=Object(me.useNavigation)();if(!o||!a){var u=[o?null:"exit weight",a?null:"at least one rig"].filter(Boolean);return p.createElement(pe,{title:"You need to define "+u.join("and")+" in your profile",action:function(){return c.navigate("Profile")}})}return i?s?l?!r||n||t?null:p.createElement(pe,{title:"You'll need to top up on credits before you can manifest"}):p.createElement(pe,{title:"Your reserve repack is due. You cannot manifest if your repack is out of date."}):p.createElement(pe,{title:"Your rig must be inspected before you can manifest at this dropzone"}):p.createElement(pe,{title:"Your membership seems to be out of date",action:function(){return c.navigate("Profile")}})}var be,ye=Z.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"black",justifyContent:"space-between",paddingHorizontal:32}}),ve=Object(D.gql)(be||(be=ie()(["\n  query QueryDropzone($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      isCreditSystemEnabled\n\n      currentUser {\n        id\n        credits\n        expiresAt\n        \n        rigInspections {\n          id\n          rig {\n            id\n            repackExpiresAt\n          }\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));Z.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"#ffbb33",justifyContent:"space-between",paddingHorizontal:32}});var he=function(e){var n,t,r,a,o,i,l,s,c,u,d,f,m,g,b,y,v,h,E,S,w,O,C,x,k=e.navigation,z=e.previous,j=e.scene,T=e.hideWarnings,P=p.useState(!1),F=L()(P,2),$=F[0],U=F[1],R=Object(I.c)((function(e){return e.global})).currentDropzoneId,A=Object(I.b)(),N=Object(D.useLazyQuery)(ve,{variables:{dropzoneId:Number(R)}}),B=L()(N,2),W=B[0],M=B[1],V=M.data,H=M.loading;return p.useEffect((function(){R&&W()}),[W,R]),null==V||null==(n=V.dropzone)||n.isCreditSystemEnabled,p.createElement(p.Fragment,null,p.createElement(le.a.Header,null,z?p.createElement(le.a.BackAction,{onPress:k.goBack}):null,p.createElement(le.a.Content,{title:j.descriptor.options.title,titleStyle:{fontWeight:"bold"}}),j.descriptor.options.headerRight?j.descriptor.options.headerRight({tintColor:"white"}):p.createElement(se.a,{mode:"outlined"},"$"+((null==V||null==(t=V.dropzone)||null==(r=t.currentUser)?void 0:r.credits)||0)),p.createElement(ce.a,{onDismiss:function(){return U(!1)},visible:$,anchor:p.createElement(ue.a,{icon:"dots-vertical",color:"#FFFFFF",onPress:function(){return U(!0)}})},p.createElement(ce.a.Item,{title:"Change dropzone",icon:"radar",onPress:function(){k.replace("DropzonesScreen"),U(!1)}}),p.createElement(de.a,null),p.createElement(ce.a.Item,{title:"Log out",icon:"logout",onPress:function(){A(I.a.global.logout()),U(!1)}}))),T?null:p.createElement(ge,{credits:(null==V||null==(a=V.dropzone)||null==(o=a.currentUser)?void 0:o.credits)||0,loading:H,isCreditSystemEnabled:!(null==V||null==(i=V.dropzone)||!i.isCreditSystemEnabled),isExitWeightDefined:!(null==V||null==(l=V.dropzone)||null==(s=l.currentUser)||null==(c=s.user)||!c.exitWeight),isMembershipInDate:!(null==V||null==(u=V.dropzone)||null==(d=u.currentUser)||!d.expiresAt)&&(null==V||null==(f=V.dropzone)||null==(m=f.currentUser)?void 0:m.expiresAt)>(new Date).getTime()/1e3,isReserveInDate:!(null==V||null==(g=V.dropzone)||null==(b=g.currentUser)||null==(y=b.user)||null==(v=y.rigs)||!v.some((function(e){var n,t,r,a=null==(n=V.dropzone)||null==(t=n.currentUser)||null==(r=t.rigInspections)?void 0:r.map((function(n){var t;return(null==n||null==(t=n.rig)?void 0:t.id)===e.id})),o=(e.repackExpiresAt||0)>(new Date).getTime()/1e3;return a&&o}))),isRigInspectionComplete:!(null==V||null==(h=V.dropzone)||null==(E=h.currentUser)||null==(S=E.rigInspections)||!S.length),isRigSetUp:!(null==V||null==(w=V.dropzone)||null==(O=w.currentUser)||null==(C=O.user)||null==(x=C.rigs)||!x.length)}))},Ee=p.lazy((function(){return Promise.all([t.e(8),t.e(6)]).then(t.bind(null,740))})),Se=p.lazy((function(){return t.e(11).then(t.bind(null,724))})),we=p.lazy((function(){return t.e(12).then(t.bind(null,725))})),Oe=p.lazy((function(){return t.e(19).then(t.bind(null,726))})),Ce=Object(_.a)();function xe(){var e=Object(I.c)((function(e){return e.global}));return p.createElement(Ce.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return p.createElement(he,e)},cardStyle:{flex:1}}},p.createElement(Ce.Screen,{name:"DropzoneScreen",component:Ee,options:{title:"Manifest"}}),p.createElement(Ce.Screen,{name:"CreateLoadScreen",component:Se,options:{title:"Create load"}}),p.createElement(Ce.Screen,{name:"ManifestGroupScreen",component:we,options:{title:"Manifest group"}}),p.createElement(Ce.Screen,{name:"ManifestGroupUserSelectScreen",component:Oe,options:{title:"Select users"}}))}var ke=t(45),ze=t.n(ke),je=p.lazy((function(){return t.e(14).then(t.bind(null,739))})),De=Object(_.a)();function Te(){return p.createElement(De.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(he,ze()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}}},p.createElement(De.Screen,{name:"NotificationsScreen",component:je,options:{title:"Notifications"}}))}var Pe=t(290),Fe=p.lazy((function(){return Promise.all([t.e(1),t.e(0)]).then(t.bind(null,741))})),Ie=p.lazy((function(){return t.e(23).then(t.bind(null,727))})),$e=Object(_.a)();function Ue(){var e=Object(Pe.a)().currentUser;return p.createElement($e.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(he,ze()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}}},p.createElement($e.Screen,{name:"ProfileScreen",component:Fe,options:{title:"Profile"},initialParams:{userId:null==e?void 0:e.id}}),p.createElement($e.Screen,{name:"UpdateUserScreen",component:Ie,options:{title:"Edit profile"}}))}var Re=p.lazy((function(){return t.e(27).then(t.bind(null,728))})),Ae=p.lazy((function(){return t.e(13).then(t.bind(null,742))})),Ne=p.lazy((function(){return t.e(17).then(t.bind(null,729))})),Be=p.lazy((function(){return t.e(18).then(t.bind(null,730))})),Le=p.lazy((function(){return t.e(25).then(t.bind(null,731))})),We=p.lazy((function(){return t.e(7).then(t.bind(null,743))})),Me=p.lazy((function(){return t.e(22).then(t.bind(null,744))})),Ve=p.lazy((function(){return t.e(10).then(t.bind(null,732))})),He=p.lazy((function(){return t.e(24).then(t.bind(null,733))})),qe=p.lazy((function(){return Promise.all([t.e(5),t.e(26)]).then(t.bind(null,734))})),Je=p.lazy((function(){return t.e(15).then(t.bind(null,735))})),Ye=p.lazy((function(){return t.e(16).then(t.bind(null,736))})),Ge=p.lazy((function(){return t.e(9).then(t.bind(null,745))})),Qe=Object(_.a)();function _e(){return p.createElement(Qe.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(he,e)},cardStyle:{flex:1}}},p.createElement(Qe.Screen,{name:"SettingsScreen",component:Re,options:{title:"Settings"}}),p.createElement(Qe.Screen,{name:"UpdateDropzoneScreen",component:Le,options:{title:"Basic settings"}}),p.createElement(Qe.Screen,{name:"PlanesScreen",component:We,options:{title:"Planes"}}),p.createElement(Qe.Screen,{name:"CreatePlaneScreen",component:Ne,options:{title:"New plane"}}),p.createElement(Qe.Screen,{name:"UpdatePlaneScreen",component:Be,options:{title:"Edit plane"}}),p.createElement(Qe.Screen,{name:"TicketTypesScreen",component:Ae,options:{title:"Ticket types"}}),p.createElement(Qe.Screen,{name:"CreateExtraScreen",component:Je,options:{title:"Create ticket add-on"}}),p.createElement(Qe.Screen,{name:"UpdateExtraScreen",component:Ye,options:{title:"Update ticket add-on"}}),p.createElement(Qe.Screen,{name:"ExtrasScreen",component:Ge,options:{title:"Ticket add-ons"}}),p.createElement(Qe.Screen,{name:"RigInspectionTemplateScreen",component:Me,options:{title:"Rig Inspection Form"}}),p.createElement(Qe.Screen,{name:"DropzoneRigsScreen",component:Ve,options:{title:"Dropzone rigs"}}),p.createElement(Qe.Screen,{name:"DropzonePermissionScreen",component:He,options:{title:"Permissions"}}),p.createElement(Qe.Screen,{name:"DropzoneMasterLogScreen",component:qe,options:{title:"Master log"}}))}var Ze=p.lazy((function(){return t.e(20).then(t.bind(null,737))})),Xe=p.lazy((function(){return t.e(28).then(t.bind(null,738))})),Ke=p.lazy((function(){return t.e(21).then(t.bind(null,746))})),en=p.lazy((function(){return Promise.all([t.e(1),t.e(0)]).then(t.bind(null,741))})),nn=Object(_.a)();function tn(){var e=Object(I.c)((function(e){return e.screens.users})),n=e.isSearchVisible,t=e.searchText,r=Object(I.b)();return p.createElement(nn.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(Xe,ze()({},e,{searchText:t,searchVisible:n,setSearchVisible:function(e){return r(I.a.screens.users.setSearchVisible(e))},onSearch:function(e){return r(I.a.screens.users.setSearchText(e))}}))},cardStyle:{flex:1}}},p.createElement(nn.Screen,{name:"UsersScreen",component:Ze,options:{title:"Dropzone users"}}),p.createElement(nn.Screen,{name:"UserProfileScreen",component:en,options:{title:"User"}}),p.createElement(nn.Screen,{name:"RigInspectionScreen",component:Ke,options:{title:"Inspection"}}))}var rn=t(97),an=t(81),on=Object(re.a)();function ln(){var e=Object(te.b)(),n=Object(rn.a)(an.a.ReadUser),t=Object(rn.a)(an.a.UpdateDropzone),r=Object(rn.a)(an.a.UpdatePlane),a=Object(rn.a)(an.a.UpdateTicketType),o=Object(rn.a)(an.a.UpdateExtra),i=Object(rn.a)(an.a.GrantPermission),l=Object(rn.a)(an.a.UpdateDropzoneRig),s=Object(rn.a)(an.a.UpdateFormTemplate),c=t||r||a||o||i||l||s;return p.createElement(on.Navigator,{initialRouteName:"Manifest",tabBarOptions:{activeTintColor:"#FFFFFF",inactiveBackgroundColor:e.colors.primary,activeBackgroundColor:e.colors.primary,inactiveTintColor:"#CCCCCC",showLabel:!1,style:{backgroundColor:e.colors.primary}}},p.createElement(on.Screen,{name:"Manifest",component:xe,options:{tabBarIcon:function(e){e.focused;var n=e.color,t=e.size;return p.createElement(ae.a,{name:"airplane",color:n,size:t})},unmountOnBlur:!0}}),p.createElement(on.Screen,{name:"Notifications",component:Te,options:{tabBarIcon:function(e){e.focused;var n=e.color,t=e.size;return p.createElement(ae.a,{name:"bell",color:n,size:t})},unmountOnBlur:!0}}),p.createElement(on.Screen,{name:"Profile",component:Ue,options:{tabBarIcon:function(e){var n=e.size,t=e.color;e.focused;return p.createElement(ae.a,{size:n,color:t,name:"account-circle"})},unmountOnBlur:!0}}),n&&p.createElement(on.Screen,{name:"Users",component:tn,options:{tabBarIcon:function(e){var n=e.size,t=e.color;e.focused;return p.createElement(ae.a,{size:n,color:t,name:"account-group"})},unmountOnBlur:!0}}),c&&p.createElement(on.Screen,{name:"Settings",component:_e,options:{tabBarIcon:function(e){var n=e.size,t=e.color;e.focused;return p.createElement(ae.a,{size:n,color:t,name:"account-cog"})}}}))}var sn,cn=t(32),un=t(101),dn=t(28),fn=t(144),mn=t(96),pn=t(360),gn=t(134),bn=t(564),yn=Object(cn.a)(sn||(sn=ie()(["\n  query QueryDropzones {\n    dropzones {\n      edges {\n        node {\n          id\n          name\n          banner\n          ticketTypes {\n            id\n            name\n            cost\n            allowManifestingSelf\n            currency\n          }\n          planes {\n            id\n            name,\n            registration,\n            minSlots,\n            maxSlots,\n          }\n        }\n      }\n    }\n  }\n"])));function vn(){var e,n=Object(I.b)(),t=Object(I.c)((function(e){return e.global})),r=Object(D.useQuery)(yn),o=r.data,i=r.loading,l=r.refetch,s=Object(me.useNavigation)();return p.createElement(bn.a,{style:En.container},p.createElement(un.a,{data:(null==o||null==(e=o.dropzones)?void 0:e.edges)||[],numColumns:2,refreshing:i,onRefresh:function(){return l()},style:{flex:1},contentContainerStyle:{flexGrow:1},ListEmptyComponent:function(){return p.createElement(gn.b,{style:En.empty},p.createElement(fn.a,null,"No dropzones?"),p.createElement(fe.a,null,"You can set one up!"))},renderItem:function(e){var r,o,i=e.item;return p.createElement(mn.a,{style:{width:dn.a.get("window").width/2-32,margin:8},onPress:function(){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:null!=i&&i.node&&(e=!!t.currentDropzoneId,n(I.a.global.setDropzone(i.node)),e&&s.replace("Authenticated",{screen:"HomeScreen"}));case 1:case"end":return r.stop()}}),null,null,null,Promise)}},p.createElement(mn.a.Cover,{source:{uri:null==i||null==(r=i.node)?void 0:r.banner}}),p.createElement(mn.a.Content,null,p.createElement(fn.a,null,null==i||null==(o=i.node)?void 0:o.name)))}}),p.createElement(pn.a,{style:En.fab,small:!0,icon:"plus",onPress:function(){n(I.a.forms.plane.reset()),n(I.a.forms.ticketType.reset()),n(I.a.forms.dropzone.reset()),n(I.a.forms.dropzoneWizard.setOpen(!0))},label:"Create dropzone"}))}var hn,En=Z.a.create({container:{flex:1,padding:8,display:"flex",backgroundColor:"#FF1414"},fab:{position:"absolute",margin:32,right:16,bottom:0,backgroundColor:"#FFFFFF"},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Sn=t(173),wn=t(345),On=t(42),Cn=Object(cn.a)(hn||(hn=ie()(["\nmutation CreateDropzone(\n  $name: String!,\n  $banner: String,\n  $federationId: Int!\n  $primaryColor: String\n  $secondaryColor: String\n){\n  createDropzone(input: { attributes: { name: $name, banner: $banner, federationId: $federationId, primaryColor: $primaryColor, secondaryColor: $secondaryColor }}) {\n    dropzone {\n      id\n      name\n      banner\n\n      federation {\n        id\n        name\n      }\n    }\n  }\n}\n"]))),xn=Object(On.a)(Cn,{getPayload:function(e){return e.createDropzone},fieldErrorMap:{federation:"federationId"},validates:{name:[Object(On.c)("Name is required")]}}),kn=t(191);function zn(){var e=Object(I.c)((function(e){return e.forms.dropzone})),n=Object(I.b)(),t=xn({onError:function(e){return n(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,t){return n(I.a.forms.dropzone.setFieldError([e,t]))},onSuccess:function(e){return n(I.a.global.setDropzone(e.dropzone))}});return p.createElement(kn.a,{contentContainerStyle:{paddingHorizontal:32}},p.createElement(wn.a,null),p.createElement(gn.b,{style:jn.fields},p.createElement(Sn.a,{mode:"contained",disabled:t.loading,loading:t.loading,onPress:function(){return t.mutate({name:e.fields.name.value,banner:e.fields.banner.value,federationId:Number(e.fields.federation.value.id)})}},"Save")))}var jn=Z.a.create({container:{flex:1,alignItems:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%"},field:{marginBottom:8}}),Dn=Object(_.a)();function Tn(){return p.createElement(Dn.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"Dropzones"},p.createElement(Dn.Screen,{name:"DropzonesScreen",component:vn}),p.createElement(Dn.Screen,{name:"CreateDropzoneScreen",component:zn}))}var Pn,Fn=t(46),In=t(145),$n=t(251),Un=t(249),Rn=t(34),An=t(86),Nn=t(250),Bn=t.n(Nn),Ln=Object(D.gql)(Pn||(Pn=ie()(["\n  mutation UserLogin($email: String!, $password: String!) {\n    userLogin(email: $email, password: $password) {\n      authenticatable {\n        id\n        email\n        name\n        phone\n        createdAt\n        updatedAt\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n"])));function Wn(){var e=Object(I.c)((function(e){return e.screens.login})),n=Object(I.b)(),t=Object(Rn.useNavigation)(),r=Object(D.useMutation)(Ln),o=L()(r,2),i=o[0],l=o[1],s=p.useCallback((function(){var t,r,o,l,s,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),r=!1,e.fields.email.value||(r=!0,n(I.a.screens.login.setEmailError("Email is required"))),e.fields.password.value||(r=!0,n(I.a.screens.login.setPasswordError("Password is required"))),t.test(e.fields.email.value)||(r=!0,n(I.a.screens.login.setEmailError("Please enter a valid email"))),r){d.next=17;break}return d.prev=6,d.next=9,a.a.awrap(i({variables:{email:e.fields.email.value,password:e.fields.password.value}}));case 9:u=d.sent,console.log({result:u}),null!=u&&null!=(o=u.data)&&null!=(l=o.userLogin)&&l.authenticatable&&null!=u&&null!=(s=u.data)&&null!=(c=s.userLogin)&&c.credentials&&(n(I.a.global.setCredentials(u.data.userLogin.credentials)),n(I.a.global.setUser(u.data.userLogin.authenticatable))),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(6),n(I.a.notifications.showSnackbar({message:d.t0.message,variant:"error"}));case 17:case"end":return d.stop()}}),null,null,[[6,14]],Promise)}),[i,JSON.stringify(e.fields)]);return p.createElement(gn.b,{style:Vn.container},p.createElement(Fn.a,{source:Bn.a,style:{height:300,width:"100%"},resizeMode:"contain"}),p.createElement(In.a,{style:Vn.fields,behavior:"padding"},p.createElement($n.a,{label:"Email",mode:"outlined",value:e.fields.email.value,onChangeText:function(e){n(I.a.screens.login.setEmail(e))}}),p.createElement(Un.a,{type:"error"},e.fields.email.error||" "),p.createElement($n.a,{label:"Password",mode:"outlined",value:e.fields.password.value,secureTextEntry:!0,onChangeText:function(e){n(I.a.screens.login.setPassword(e))},error:!!e.fields.password.error}),p.createElement(Un.a,{type:"error"},e.fields.password.error||" "),p.createElement(Sn.a,{mode:"contained",labelStyle:Vn.buttonLabel,style:Vn.button,onPress:s,loading:l.loading},"Log in"),p.createElement(Sn.a,{labelStyle:Vn.textButtonLabel,style:Vn.textButton,onPress:function(){return t.navigate("SignUpScreen")}},"Sign up")))}var Mn,Vn=Z.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:An.b,paddingTop:10},title:{fontSize:20,fontWeight:"bold"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},textButton:{marginTop:10,backgroundColor:"transparent",color:"white",width:"100%"},textButtonLabel:{color:"#FFFFFF"}}),Hn=Object(cn.a)(Mn||(Mn=ie()(['\n  mutation UserSignUp(\n    $email: String!,\n    $password: String!,\n    $passwordConfirmation: String!\n    $name: String!\n    $phone: String!\n    $pushToken: String\n    $exitWeight: Float!\n    $licenseId: Int\n  ){\n    userSignUp(\n      email: $email,\n      password: $password,\n      passwordConfirmation: $passwordConfirmation,\n      exitWeight: $exitWeight,\n      name: $name,\n      phone: $phone,\n      pushToken: $pushToken,\n      licenseId: $licenseId,\n      confirmSuccessUrl: "https://openmanifest.org/confirm/"\n    ) {\n      authenticatable {\n        createdAt,\n        email,\n        id,\n        name,\n        phone,\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n']))),qn=Object(On.a)(Hn,{getPayload:function(e){return e.userSignUp},fieldErrorMap:{license:"licenseId"},validates:{name:[Object(On.c)("Name is required")],email:[Object(On.b)("Please enter a valid email")],passwordConfirmation:[Object(On.d)("Password must have 1 uppercase, 1 lowercase, 1 digit and be at least 8 characters",(function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}.*$/.test(e.passwordConfirmation)})),Object(On.d)("Passwords don't match",(function(e){return e.password===e.passwordConfirmation}))]}});function Jn(){var e=Object(I.c)((function(e){return e.screens.signup})),n=Object(I.c)((function(e){return e.global})),t=Object(I.b)(),r=Object(me.useNavigation)(),a=qn({onSuccess:function(e){t(I.a.notifications.showSnackbar({message:"A confirmation link has been sent to your email",variant:"success"})),r.navigate("LoginScreen")},onFieldError:function(e,n){return t(I.a.screens.signup.setFieldError([e,n]))}}),o=a.loading,i=a.mutate;return p.createElement(kn.a,{style:Yn.container,contentContainerStyle:Yn.content},p.createElement(In.a,{style:Yn.fields,behavior:"position"},p.createElement(Fn.a,{source:Bn.a,style:{width:"100%",height:200},resizeMode:"contain"}),p.createElement($n.a,{style:Yn.field,mode:"outlined",label:"Name",error:!!e.fields.name.error,value:e.fields.name.value,onChangeText:function(e){return t(I.a.screens.signup.setField(["name",e]))}}),p.createElement(Un.a,{type:"error"},e.fields.name.error||""),p.createElement(Un.a,{type:e.fields.exitWeight.error?"error":"info"},e.fields.exitWeight.error||""),p.createElement($n.a,{style:Yn.field,mode:"outlined",label:"Email",error:!!e.fields.email.error,value:e.fields.email.value,onChangeText:function(e){return t(I.a.screens.signup.setField(["email",e]))}}),p.createElement(Un.a,{type:"error"},e.fields.email.error||""),p.createElement($n.a,{style:Yn.field,mode:"outlined",label:"Phone",error:!!e.fields.phone.error,value:e.fields.phone.value,onChangeText:function(e){return t(I.a.screens.signup.setField(["phone",e]))}}),p.createElement(Un.a,{type:"error"},e.fields.phone.error||""),p.createElement($n.a,{style:Yn.field,mode:"outlined",label:"Password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.password.value,onChangeText:function(e){return t(I.a.screens.signup.setField(["password",e]))}}),p.createElement(Un.a,{type:"error"},e.fields.password.error||""),p.createElement($n.a,{style:Yn.field,mode:"outlined",label:"Repeat password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.passwordConfirmation.value,onChangeText:function(e){return t(I.a.screens.signup.setField(["passwordConfirmation",e]))}}),p.createElement(Un.a,{type:"error"},e.fields.passwordConfirmation.error||""),p.createElement(Sn.a,{mode:"contained",labelStyle:Yn.buttonLabel,style:Yn.button,onPress:function(){var t,r;return i({pushToken:n.expoPushToken,email:e.fields.email.value,name:e.fields.name.value,exitWeight:e.fields.exitWeight.value,password:e.fields.password.value,passwordConfirmation:e.fields.passwordConfirmation.value,licenseId:Number(null==(t=e.fields.license)||null==(r=t.value)?void 0:r.id)||null,phone:e.fields.phone.value})},loading:o},"Sign up")))}var Yn=Z.a.create({container:{flex:1,backgroundColor:An.b},content:{paddingHorizontal:60,alignItems:"center"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",flexGrow:1,maxWidth:400,backgroundColor:"transparent"},field:{marginBottom:8,backgroundColor:"white",borderColor:"white",color:"white"}}),Gn=Object(_.a)();function Qn(){return p.createElement(Gn.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},p.createElement(Gn.Screen,{name:"LoginScreen",component:Wn}),p.createElement(Gn.Screen,{name:"SignUpScreen",component:Jn}))}var _n=t(21);var Zn=Z.a.create({container:{flexGrow:1,backgroundColor:"#FF0000",alignItems:"center",justifyContent:"center"},icon:{backgroundColor:An.c,marginBottom:16},errorIcon:{backgroundColor:An.d,marginBottom:16},title:{fontSize:38,color:"#FFFFFF",marginBottom:16},subtitle:{fontSize:26,color:"#FFFFFF",textAlign:"center"}}),Xn=function(){var e,n=Object(me.useRoute)();return"true"===(null==n||null==(e=n.params)?void 0:e.account_confirmation_success)?p.createElement(O.a,{style:Zn.container},p.createElement(_n.a.Icon,{icon:"check",style:Zn.icon}),p.createElement(X.a,{style:Zn.title},"All done!"),p.createElement(X.a,{style:Zn.subtitle},"You can now log in")):p.createElement(O.a,{style:Zn.container},p.createElement(_n.a.Icon,{icon:"close",style:Zn.errorIcon}),p.createElement(X.a,{style:Zn.title},"Oops!"),p.createElement(X.a,{style:Zn.subtitle},"Something went wrong. Please contact support"))},Kn=Object(_.a)();function et(){var e=Object(N.e)((function(e){return e.global}));return p.createElement(Kn.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},e.credentials?e.currentDropzone?p.createElement(Kn.Screen,{name:"Authenticated",component:ln}):p.createElement(Kn.Screen,{name:"Dropzones",component:Tn}):p.createElement(Kn.Screen,{name:"Unauthenticated",component:Qn}),p.createElement(Kn.Screen,{name:"confirm",component:Xn}),p.createElement(Kn.Screen,{name:"DropzonesScreen",component:vn}),p.createElement(Kn.Screen,{name:"NotFound",component:ee,options:{title:"Oops!"}}))}var nt=t(221),tt=t(214),rt=t(418);function at(e){var n=e.size,t=e.paginationIndex,r=e.icons,a=dn.a.get("window").width,o=((a>500?500:a)-96-30*n)/n;return p.createElement(O.a,{style:ot.pagination},Array.from({length:n}).map((function(e,a){var i=r&&r.length>a,l=a<t?"check":"";return l=a==t?"pencil":l,p.createElement(p.Fragment,{key:a},p.createElement(_n.a.Icon,{icon:i?r[a]:l,size:30,style:[ot.icon,t>a?ot.iconDone:void 0]}),n-1>a?p.createElement(O.a,{style:[ot.bridge,{width:o},t>a?ot.bridgeDone:void 0]}):null)})))}var ot=Z.a.create({pagination:{flexDirection:"row",position:"absolute",top:100,alignSelf:"center"},bridge:{height:10,marginTop:10,marginLeft:-2,width:50,backgroundColor:"white"},bridgeDone:{backgroundColor:An.c},icon:{backgroundColor:"white",marginLeft:-1},iconDone:{backgroundColor:An.c,marginLeft:-1}});var it=dn.a.get("window").width,lt=Z.a.create({button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},container:{width:it,flex:1,paddingBottom:100},buttons:{position:"absolute",bottom:100,alignSelf:"center",width:"100%",paddingHorizontal:48,maxWidth:404}}),st=function(e){var n=e.children,t=e.icons,r=e.onNext,o=e.loading,i=p.useState(0),l=L()(i,2),s=l[0],c=l[1],u=p.useRef(null),d=s===p.Children.count(n)-1;return p.createElement(O.a,{style:[lt.container]},p.createElement(rt.a,{showPagination:!0,index:s,PaginationComponent:function(e){return p.createElement(at,ze()({},e,{icons:t}))},numColumns:1,scrollEnabled:!1,autoplay:!1,ref:u,onChangeIndex:function(e){var n=e.index,t=e.prevIndex;console.log({index:n,prevIndex:t}),c(n||0)}},n),p.createElement(O.a,{style:lt.buttons},p.createElement(Sn.a,{key:"button-next-"+s,loading:o,mode:"contained",color:"#FFFFFF",disabled:o,style:lt.button,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(r(u.current.getCurrentIndex()));case 2:e.sent&&u.current.scrollToIndex({index:u.current.getCurrentIndex()+1});case 4:case"end":return e.stop()}}),null,null,null,Promise)}},d?"Done":"Next"),0!==s||e.onCancel?p.createElement(Sn.a,{key:"button-"+s,mode:"text",disabled:o,color:"#FFFFFF",style:lt.buttonBack,onPress:function(){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:0===s?e.onCancel&&e.onCancel():u.current.scrollToIndex({index:u.current.getCurrentIndex()-1});case 1:case"end":return n.stop()}}),null,null,null,Promise)}},0===s?"Cancel":"Back"):null))},ct=t(297),ut=t(137);var dt=Z.a.create({wizardScreen:{justifyContent:"center"}}),ft=function(e){var n=dn.a.get("window").width,t=n>500?500:n;return p.createElement(O.a,{style:Z.a.flatten([dt.wizardScreen,{width:n},e.style])},p.createElement(O.a,{style:{width:t,paddingHorizontal:48,alignSelf:"center"}},e.children))};var mt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),pt=function(){var e,n,t,r,a,o,i,l,s,c,u,d,f,m,g,b=Object(I.c)((function(e){return e.forms.user})),y=Object(I.b)();return p.createElement(ft,{style:mt.container},p.createElement(fn.a,{style:mt.title},"What license do you have?"),p.createElement(O.a,{style:mt.content},p.createElement(mn.a,{style:mt.card},p.createElement(ut.a,{value:(null==b||null==(e=b.fields)||null==(n=e.license)||null==(t=n.value)?void 0:t.federation)||b.federation.value,onSelect:function(e){return y(I.a.forms.user.setFederation(e))},required:!0}),p.createElement(Un.a,{type:b.federation.error?"error":"info"},b.federation.error||"")),p.createElement(mn.a,{style:{padding:16}},((null==b||null==(r=b.fields)||null==(a=r.license)||null==(o=a.value)||null==(i=o.federation)?void 0:i.id)||(null==b||null==(l=b.federation)||null==(s=l.value)?void 0:s.id))&&p.createElement(p.Fragment,null,p.createElement(ct.a,{value:b.fields.license.value,federationId:Number((null==b||null==(c=b.fields)||null==(u=c.license)||null==(d=u.value)||null==(f=d.federation)?void 0:f.id)||(null==(m=b.federation)||null==(g=m.value)?void 0:g.id)),onSelect:function(e){return y(I.a.forms.user.setField(["license",e]))},required:!0}),p.createElement(Un.a,{type:b.fields.license.error?"error":"info"},b.fields.license.error||"")))))};var gt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:16,marginVertical:16},title:{color:"white",marginBottom:16,fontSize:24,fontWeight:"bold"}}),bt=function(){var e=Object(I.c)((function(e){return e.forms.rig})),n=Object(I.b)(),t=p.useState(!1),r=L()(t,2),a=r[0],i=r[1],l=p.useState(!1),s=L()(l,2),c=s[0],u=s[1];return p.createElement(ft,{style:gt.container},p.createElement(fn.a,{style:gt.title},"What're you jumping?"),p.createElement(O.a,{style:gt.content},p.createElement(mn.a,{style:gt.card},p.createElement(_n.b.Subheader,null,"Manufacturer"),p.createElement(ce.a,{onDismiss:function(){return i(!1)},visible:a,anchor:p.createElement(o.d,{onPress:function(){return i(!0)}},p.createElement($n.a,{pointerEvents:"box-only",style:gt.field,mode:"outlined",error:!!e.fields.make.error,value:c?"Other":e.fields.make.value||"Select manufacturer",disabled:!0}))},["Icon","Javelin","Mirage","Vector","PA (Talon)","Infinity","Parachutes de France","Racer"].map((function(e){return p.createElement(ce.a.Item,{onPress:function(){i(!1),n(I.a.forms.rig.setField(["make",e])),u(!1)},title:e})})),p.createElement(ce.a.Item,{onPress:function(){i(!1),n(I.a.forms.rig.setField(["make",""])),u(!0)},title:"Other"})),c?p.createElement($n.a,{style:gt.field,mode:"outlined",label:"Other manufacturer",error:!!e.fields.make.error,value:e.fields.make.value||"",onChangeText:function(e){return n(I.a.forms.rig.setField(["make",e]))}}):null,p.createElement(Un.a,{type:e.fields.make.error?"error":"info"},e.fields.make.error||""),p.createElement(_n.b.Subheader,null,"Model"),p.createElement($n.a,{style:gt.field,mode:"outlined",error:!!e.fields.model.error,value:e.fields.model.value||"",onChangeText:function(e){return n(I.a.forms.rig.setField(["model",e]))}}),p.createElement(Un.a,{type:e.fields.model.error?"error":"info"},e.fields.model.error||"e.g G4.1")),p.createElement(mn.a,{style:gt.card},p.createElement(_n.b.Subheader,null,"Serial numebr"),p.createElement($n.a,{style:gt.field,mode:"outlined",error:!!e.fields.serial.error,value:e.fields.serial.value||"",onChangeText:function(e){return n(I.a.forms.rig.setField(["serial",e]))}}),p.createElement(Un.a,{type:e.fields.serial.error?"error":"info"},e.fields.serial.error||""))))},yt=t(294);var vt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:80,textAlign:"center"}}),ht=function(){var e=Object(I.c)((function(e){return e.forms.rig})),n=Object(I.b)();return p.createElement(ft,{style:vt.container},p.createElement(fn.a,{style:vt.title},"Next reserve repack?"),p.createElement(O.a,{style:vt.content},p.createElement(mn.a,{style:vt.card},p.createElement(_n.b.Subheader,null,"Due date"),p.createElement(yt.a,{timestamp:e.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return n(I.a.forms.rig.setField(["repackExpiresAt",e]))}}),p.createElement(Un.a,{type:e.fields.repackExpiresAt.error?"error":"info"},e.fields.repackExpiresAt.error||""))))},Et=t(103),St=t.n(Et),wt=t(84);var Ot,Ct,xt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),kt=function(){var e,n,t,r,a=Object(I.c)((function(e){return e.forms.rig})),o=Object(I.c)((function(e){return e.forms.user})),i=Object(I.b)(),l=p.useState(a.fields.canopySize.value||120),s=L()(l,2),c=s[0],u=s[1];return p.useEffect((function(){u(a.fields.canopySize.value)}),[a.fields.canopySize.value]),p.createElement(ft,{style:xt.container},p.createElement(X.a,{style:xt.title},"Your wingloading"),p.createElement(O.a,{style:xt.content},p.createElement(mn.a,null,p.createElement(mn.a.Content,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},p.createElement(O.a,{style:xt.wingLoadingCardLeft},p.createElement(_n.a.Text,{label:Object(wt.ceil)(2.205*Number(o.fields.exitWeight.value||50)/(a.fields.canopySize.value||150),2).toString(),size:100,style:xt.wingLoading})),p.createElement(O.a,{style:xt.wingLoadingCardRight},p.createElement(mn.a.Title,{title:"Your wingloading",style:{paddingLeft:0}}),p.createElement(fe.a,null,"Your wingloading is an indicator of your descent rate under canopy")))),p.createElement(mn.a,{style:xt.card,elevation:3},p.createElement(O.a,{style:xt.cardTitle},p.createElement(_n.b.Subheader,null,"Your exit weight"),p.createElement(X.a,{style:xt.cardValue},o.fields.exitWeight.value||50,"kg")),p.createElement(St.a,{style:xt.sliderControl,minimumValue:50,maximumValue:160,step:.5,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:Object(wt.debounce)((function(e){return i(I.a.forms.user.setField(["exitWeight",e.toString()]))}),20)}),p.createElement(Un.a,{type:null!=(e=o.fields.exitWeight)&&e.error?"error":"info"},(null==(n=o.fields.exitWeight)?void 0:n.error)||"Your weight in kg's with all equipment on")),p.createElement(mn.a,{style:xt.card,elevation:3},p.createElement(O.a,{style:xt.cardTitle},p.createElement(_n.b.Subheader,null,"Canopy size"),p.createElement(X.a,{style:xt.cardValue},c||120,"ft")),p.createElement(O.a,{style:xt.slider},p.createElement(St.a,{style:xt.sliderControl,minimumValue:34,maximumValue:350,step:1,value:c||120,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:function(e){return u(e)},onSlidingComplete:function(){return i(I.a.forms.rig.setField(["canopySize",c]))}})),p.createElement(Un.a,{type:null!=(t=o.fields.exitWeight)&&t.error?"error":"info"},(null==(r=o.fields.exitWeight)?void 0:r.error)||"Size of your main canopy in square feet"))))},zt=t(206),jt=Object(cn.a)(Ot||(Ot=ie()(["\n  mutation UpdateRig(\n    $id: Int!\n    $make: String,\n    $model: String,\n    $serial: String,\n    $rigType: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    updateRig(\n      input: {\n        id: $id,\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),Dt=Object(On.a)(jt,{getPayload:function(e){return e.updateRig},fieldErrorMap:{}}),Tt=Object(cn.a)(Ct||(Ct=ie()(["\n  mutation CreateRig(\n    $make: String,\n    $model: String,\n    $serial: String,\n    $rigType: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),Pt=Object(On.a)(Tt,{getPayload:function(e){return e.createRig},fieldErrorMap:{}});function Ft(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function It(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ft(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ft(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $t=Z.a.create({modal:It(It({},Z.a.absoluteFillObject),{},{paddingLeft:0,marginLeft:0,marginBottom:0,marginTop:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"red",display:"flex",width:"100%",height:"100%",flex:1,alignItems:"center"})}),Ut=function(){var e,n,t=Object(I.c)((function(e){return e.forms.user})),r=Object(I.c)((function(e){return e.forms.rig})),o=Object(I.c)((function(e){return e.forms.userWizard})),i=Object(I.b)(),l=Object(zt.a)({onSuccess:function(e){return!0},onError:function(e){return console.error(e)},onFieldError:function(e,n){return console.error(e,n)}}),s=Dt({onSuccess:function(){return!0},onError:function(e){return console.error(e)},onFieldError:function(e,n){return console.error(e,n)}}),c=Pt({onSuccess:function(e){return!0},onFieldError:function(e,n){return console.error(e,n)}}),u=p.useCallback((function(){var e,n,r,o;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(null!=(e=t.fields.license)&&null!=(n=e.value)&&n.id){s.next=3;break}return i(I.a.forms.user.setFieldError(["license","You must select a license"])),s.abrupt("return",!1);case 3:return s.prev=3,s.next=6,a.a.awrap(l.mutate({id:Number(t.original.id),licenseId:Number(null==(r=t.fields.license)||null==(o=r.value)?void 0:o.id)}));case 6:return s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(3),s.abrupt("return",!1);case 12:case"end":return s.stop()}}),null,null,[[3,9]],Promise)}),[JSON.stringify(t.fields)]),d=p.useCallback((function(){var e,n,o,l,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=(e=r.fields.make)&&e.value){d.next=3;break}return i(I.a.forms.rig.setFieldError(["make","Please select manufacturer"])),d.abrupt("return",!1);case 3:if(null!=(n=r.fields.model)&&n.value){d.next=6;break}return i(I.a.forms.rig.setFieldError(["model","Please enter a model name"])),d.abrupt("return",!1);case 6:if(d.prev=6,null!=(o=r.original)&&o.id){d.next=13;break}return d.next=10,a.a.awrap(c.mutate({make:r.fields.make.value,model:r.fields.model.value,serial:r.fields.serial.value,userId:Number(t.original.id)}));case 10:d.t0=d.sent,d.next=16;break;case 13:return d.next=15,a.a.awrap(s.mutate({id:Number(null==(l=r.original)?void 0:l.id),make:r.fields.make.value,model:r.fields.model.value,serial:r.fields.serial.value,userId:Number(t.original.id)}));case 15:d.t0=d.sent;case 16:return u=d.t0,i(I.a.forms.rig.setOpen(u.rig)),d.abrupt("return",!0);case 21:return d.prev=21,d.t1=d.catch(6),d.abrupt("return",!1);case 24:case"end":return d.stop()}}),null,null,[[6,21]],Promise)}),[JSON.stringify(r.fields),JSON.stringify(t.fields),JSON.stringify(t.original),JSON.stringify(r.original)]),f=p.useCallback((function(){var e,n,t;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(null!=(e=r.fields.repackExpiresAt)&&e.value){o.next=3;break}return i(I.a.forms.rig.setFieldError(["repackExpiresAt","Select repack date, even if it's in the past"])),o.abrupt("return",!1);case 3:return o.prev=3,o.next=6,a.a.awrap(s.mutate({id:Number(null==(n=r.original)?void 0:n.id),repackExpiresAt:r.fields.repackExpiresAt.value}));case 6:return t=o.sent,i(I.a.forms.rig.setOpen(t.rig)),o.abrupt("return",!0);case 11:return o.prev=11,o.t0=o.catch(3),o.abrupt("return",!1);case 14:case"end":return o.stop()}}),null,null,[[3,11]],Promise)}),[JSON.stringify(r.fields),JSON.stringify(null==(e=r.original)?void 0:e.id)]),m=p.useCallback((function(){var e,n,o,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=(e=r.fields.canopySize)&&e.value){d.next=3;break}return i(I.a.forms.rig.setFieldError(["canopySize","You must provide a canopy size"])),d.abrupt("return",!1);case 3:if(null!=(n=t.fields.exitWeight)&&n.value){d.next=6;break}return i(I.a.forms.user.setFieldError(["exitWeight","You must enter your exit weight"])),d.abrupt("return",!1);case 6:return d.prev=6,d.next=9,a.a.awrap(s.mutate({id:Number(null==(o=r.original)?void 0:o.id),canopySize:r.fields.canopySize.value}));case 9:return d.sent,d.next=12,a.a.awrap(l.mutate({id:Number(null==(c=t.original)?void 0:c.id),exitWeight:Number(null==(u=t.fields.exitWeight)?void 0:u.value)}));case 12:d.sent,i(I.a.forms.userWizard.setOpen(!1)),i(I.a.forms.user.setOpen(!1)),i(I.a.forms.rig.setOpen(!1)),i(I.a.forms.userWizard.reset()),i(I.a.forms.user.reset()),i(I.a.forms.rig.reset()),d.next=25;break;case 21:return d.prev=21,d.t0=d.catch(6),console.log(d.t0),d.abrupt("return",!1);case 25:case"end":return d.stop()}}),null,null,[[6,21]],Promise)}),[JSON.stringify(r.fields),JSON.stringify(t.fields),null==(n=r.original)?void 0:n.id,i]),g=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=0===n.t0?3:1===n.t0?4:2===n.t0?5:3===n.t0?6:7;break;case 3:return n.abrupt("return",u());case 4:return n.abrupt("return",d());case 5:return n.abrupt("return",f());case 6:return n.abrupt("return",m());case 7:case"end":return n.stop()}}),null,null,null,Promise)}),[u,d,f,m]);return p.createElement(nt.a,null,p.createElement(tt.a,{visible:o.open,dismissable:!1,style:$t.modal,contentContainerStyle:{height:"100%"}},p.createElement(st,{onNext:g,loading:l.loading||s.loading||c.loading},p.createElement(pt,null),p.createElement(bt,null),p.createElement(ht,null),p.createElement(kt,null))))};var Rt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),At=function(){var e=Object(I.c)((function(e){return e.forms.dropzone})),n=Object(I.b)();return p.createElement(ft,{style:Rt.container},p.createElement(fn.a,{style:Rt.title},"Give your dropzone a name"),p.createElement(O.a,{style:Rt.content},p.createElement(mn.a,{style:Rt.card},p.createElement(_n.b.Subheader,null,"Name"),p.createElement($n.a,{mode:"outlined",error:!!e.fields.name.error,value:e.fields.name.value||"",onChangeText:function(e){return n(I.a.forms.dropzone.setField(["name",e]))}}),p.createElement(Un.a,{type:"error"},e.fields.name.error||"")),p.createElement(mn.a,{style:Rt.card},p.createElement(ut.a,{value:e.fields.federation.value,onSelect:function(e){return n(I.a.forms.dropzone.setField(["federation",e]))},required:!0}),p.createElement(Un.a,{type:e.fields.federation.error?"error":"info"},e.fields.federation.error||""))))};var Nt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:4},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:10,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Bt=function(){var e,n,t,r,a=Object(I.c)((function(e){return e.forms.plane})),o=Object(I.b)();return p.createElement(ft,{style:Nt.container},p.createElement(X.a,{style:Nt.title},"Aircraft"),p.createElement(O.a,{style:Nt.content},p.createElement(mn.a,{style:Nt.card},p.createElement(_n.b.Subheader,null,"Information"),p.createElement($n.a,{style:Nt.field,mode:"outlined",label:"Name",error:!!a.fields.name.error,value:a.fields.name.value,onChangeText:function(e){return o(I.a.forms.plane.setField(["name",e]))}}),p.createElement(Un.a,{type:a.fields.name.error?"error":"info"},a.fields.name.error||""),p.createElement($n.a,{style:Nt.field,mode:"outlined",label:"Registration",error:!!a.fields.registration.error,value:a.fields.registration.value,onChangeText:function(e){return o(I.a.forms.plane.setField(["registration",e]))}}),p.createElement(Un.a,{type:a.fields.registration.error?"error":"info"},a.fields.registration.error||"")),p.createElement(mn.a,{style:Nt.card,elevation:3},p.createElement(O.a,{style:Nt.cardTitle},p.createElement(_n.b.Subheader,null,"Minimum slots"),p.createElement(X.a,{style:Nt.cardValue},a.fields.minSlots.value||0)),p.createElement(O.a,{style:Nt.slider},p.createElement(St.a,{style:Nt.sliderControl,minimumValue:0,maximumValue:a.fields.maxSlots.value||34,step:1,value:a.fields.minSlots.value||0,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:Object(wt.debounce)((function(e){return o(I.a.forms.plane.setField(["minSlots",e]))}),20)})),p.createElement(Un.a,{type:null!=(e=a.fields.minSlots)&&e.error?"error":"info"},(null==(n=a.fields.minSlots)?void 0:n.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),p.createElement(mn.a,{style:Nt.card,elevation:3},p.createElement(O.a,{style:Nt.cardTitle},p.createElement(_n.b.Subheader,null,"Max slots"),p.createElement(X.a,{style:Nt.cardValue},a.fields.maxSlots.value||34)),p.createElement(O.a,{style:Nt.slider},p.createElement(St.a,{style:Nt.sliderControl,minimumValue:2,maximumValue:34,step:1,value:a.fields.maxSlots.value||16,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:Object(wt.debounce)((function(e){return o(I.a.forms.plane.setField(["maxSlots",Number(e)]))}),20)})),p.createElement(Un.a,{type:null!=(t=a.fields.maxSlots)&&t.error?"error":"info"},(null==(r=a.fields.maxSlots)?void 0:r.error)||"Max available slots on this aircraft"))))},Lt=t(165),Wt=t(164);var Mt,Vt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:10,textAlign:"center"},colorBox:{height:25,width:25,margin:5}}),Ht=function(){var e=Object(I.c)((function(e){return e.forms.dropzone})),n=Object(I.b)();return p.createElement(ft,{style:Vt.container},p.createElement(fn.a,{style:Vt.title},"Branding"),p.createElement(O.a,{style:Vt.content},p.createElement(O.a,{style:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-evenly"}},p.createElement(Lt.a,{primaryColor:e.fields.primaryColor.value,secondaryColor:e.fields.secondaryColor.value}),p.createElement(Lt.b,{primaryColor:e.fields.primaryColor.value,secondaryColor:e.fields.secondaryColor.value})),p.createElement(Wt.a,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:e.fields.primaryColor.error,onChange:function(e){return n(I.a.forms.dropzone.setField(["primaryColor",e]))},value:e.fields.primaryColor.value}),p.createElement(Wt.a,{title:"Accent color",helperText:"Accent color is used for highlights, like buttons and loading bars",error:e.fields.secondaryColor.error,onChange:function(e){return n(I.a.forms.dropzone.setField(["secondaryColor",e]))},value:e.fields.secondaryColor.value})))},qt=t(351),Jt=Object(cn.a)(Mt||(Mt=ie()(["\n  query QueryDropzonePermissions(\n    $dropzoneId: Int!\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n        permissions\n      }\n    }\n  }\n"])));var Yt=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Gt=function(e){var n,t,r,a,o=e.title,i=e.permission,l=Object(I.c)((function(e){return e.forms.dropzone})),s=(Object(I.b)(),Object(D.useLazyQuery)(Jt)),c=L()(s,2),u=c[0],d=c[1],f=d.data,m=d.loading,g=d.called;return p.useEffect((function(){var e;null!=(e=l.original)&&e.id&&u({variables:{dropzoneId:Number(l.original.id)}})}),[l.original]),p.createElement(ft,{style:Yt.container},p.createElement(X.a,{style:Yt.title},o),p.createElement(O.a,{style:Yt.content},g&&!m&&null!=f&&null!=(n=f.dropzone)&&null!=(t=n.roles)&&t.length?p.createElement(mn.a,null,p.createElement(mn.a.Content,{style:{alignItems:"center",justifyContent:"center"}},null==f||null==(r=f.dropzone)||null==(a=r.roles)?void 0:a.map((function(e){return p.createElement(qt.a,{permissionName:i,role:e,title:Object(wt.capitalize)(e.name.replace(/_/," "))})})))):null))};var Qt,_t,Zt,Xt,Kt,er=Z.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:8,fontWeight:"bold",fontSize:25,textAlign:"center"},paragraph:{color:"white",marginBottom:8,fontWeight:"bold",textAlign:"center"},field:{marginBottom:8,marginHorizontal:16},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),nr=function(){var e,n,t,r,a=Object(I.c)((function(e){return e.forms.ticketType})),i=Object(I.b)(),l=p.useState(!1),s=L()(l,2),c=s[0],u=s[1];return p.createElement(ft,{style:er.container},p.createElement(X.a,{style:er.title},"Tickets"),p.createElement(fe.a,{style:er.paragraph},"You can add more tickets later under Settings"),p.createElement(O.a,{style:er.content},p.createElement(mn.a,{style:er.card},p.createElement(_n.b.Subheader,null,"Name"),p.createElement($n.a,{style:er.field,mode:"outlined",error:!!a.fields.name.error,value:a.fields.name.value,onChangeText:function(e){return i(I.a.forms.ticketType.setField(["name",e]))}}),p.createElement(Un.a,{type:a.fields.name.error?"error":"info"},a.fields.name.error||"")),p.createElement(mn.a,{style:er.card,elevation:3},p.createElement(O.a,{style:er.cardTitle},p.createElement(_n.b.Subheader,null,"Price"),p.createElement(X.a,{style:er.cardValue},"$",a.fields.cost.value||0)),p.createElement(O.a,{style:er.slider},p.createElement(St.a,{style:er.sliderControl,minimumValue:0,maximumValue:500,step:1,value:a.fields.cost.value||0,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:Object(wt.debounce)((function(e){return i(I.a.forms.ticketType.setField(["cost",e]))}),20)})),p.createElement(Un.a,{type:null!=(e=a.fields.cost)&&e.error?"error":"info"},(null==(n=a.fields.cost)?void 0:n.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),p.createElement(mn.a,{style:er.card,elevation:3},p.createElement(ce.a,{onDismiss:function(){return u(!1)},visible:c,contentStyle:{width:300},anchor:p.createElement(o.d,{onPress:function(){return u(!0)}},p.createElement(O.a,{style:er.cardTitle},p.createElement(_n.b.Subheader,null,"Altitude"),p.createElement(X.a,{style:er.cardValue},a.fields.altitude.value&&[4e3,14e3].includes(a.fields.altitude.value)?{14e3:"Height",4e3:"Hop n Pop"}[a.fields.altitude.value.toString()]:"Custom")))},p.createElement(_n.b.Item,{onPress:function(){i(I.a.forms.ticketType.setField(["altitude",4e3])),u(!1)},title:"Hop n Pop",right:function(){return p.createElement(_n.b.Icon,{icon:"parachute"})}}),p.createElement(_n.b.Item,{onPress:function(){i(I.a.forms.ticketType.setField(["altitude",14e3])),u(!1)},title:"Height",right:function(){return p.createElement(_n.b.Icon,{icon:"airplane-takeoff"})}}),p.createElement(_n.b.Item,{onPress:function(){i(I.a.forms.ticketType.setField(["altitude",7e3])),u(!1)},title:"Other",right:function(){return p.createElement(_n.b.Icon,{icon:"parachute"})}})),(!a.fields.altitude.value||![4e3,14e3].includes(a.fields.altitude.value))&&p.createElement($n.a,{style:er.field,mode:"outlined",label:"Custom altitude",error:!!a.fields.altitude.error,value:null==(t=a.fields.altitude)||null==(r=t.value)?void 0:r.toString(),onChangeText:function(e){return i(I.a.forms.ticketType.setField(["altitude",Number(e)]))}}))))},tr=Object(cn.a)(Qt||(Qt=ie()(["\n  mutation UpdateDropzone(\n    $id: Int!,\n    $name: String!,\n    $banner: String,\n    $federationId: Int!\n    $primaryColor: String\n    $secondaryColor: String\n    $isCreditSystemEnabled: Boolean,\n    $isPublic: Boolean\n  ){\n    updateDropzone(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        banner: $banner,\n        federationId: $federationId\n        primaryColor: $primaryColor\n        secondaryColor: $secondaryColor\n        isCreditSystemEnabled: $isCreditSystemEnabled\n        isPublic: $isPublic\n      }\n    }) {\n      dropzone {\n        id\n        name\n        banner\n        primaryColor\n        secondaryColor,\n        isCreditSystemEnabled\n\n        planes {\n          id\n          name\n        }\n\n        federation {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),rr=Object(On.a)(tr,{getPayload:function(e){return e.updateDropzone},fieldErrorMap:{}}),ar=Object(cn.a)(_t||(_t=ie()(["\n  mutation CreatePlane(\n    $name: String!,\n    $registration: String!,\n    $dropzoneId: Int!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ){\n    createPlane(input: {\n      attributes: {\n        name: $name,\n        registration: $registration,\n        dropzoneId: $dropzoneId\n        minSlots: $minSlots\n        maxSlots: $maxSlots\n        hours: $hours\n        nextMaintenanceHours: $nextMaintenanceHours\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),or=Object(On.a)(ar,{getPayload:function(e){return e.createPlane},fieldErrorMap:{dropzone:"dropzoneId"},validates:{name:[Object(On.c)("Name is required")],registration:[Object(On.c)("Registration is required")]}}),ir=Object(cn.a)(Zt||(Zt=ie()(["\n  mutation UpdatePlane(\n    $id: Int!,\n    $name: String!,\n    $registration: String!,\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ){\n    updatePlane(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        registration: $registration,\n        minSlots: $minSlots\n        maxSlots: $maxSlots\n        hours: $hours\n        nextMaintenanceHours: $nextMaintenanceHours\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),lr=Object(On.a)(ir,{getPayload:function(e){return e.updatePlane},fieldErrorMap:{}}),sr=Object(cn.a)(Xt||(Xt=ie()(["\n  mutation CreateTicketType(\n    $name: String,\n    $cost: Float,\n    $dropzoneId: Int!\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n  ){\n    createTicketType(input: {\n      attributes: {\n        name: $name,\n        cost: $cost,\n        dropzoneId: $dropzoneId\n        altitude: $altitude\n        allowManifestingSelf: $allowManifestingSelf\n        isTandem: $isTandem\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),cr=Object(On.a)(sr,{getPayload:function(e){return e.createTicketType},fieldErrorMap:{}}),ur=Object(cn.a)(Kt||(Kt=ie()(["\n  mutation UpdateTicketType(\n    $id: Int!,\n    $name: String,\n    $cost: Float,\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n  ){\n    updateTicketType(input: {\n      id: $id\n      attributes: {\n        name: $name,\n        cost: $cost,\n        altitude: $altitude\n        allowManifestingSelf: $allowManifestingSelf\n        isTandem: $isTandem\n      }\n    }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),dr=Object(On.a)(ur,{getPayload:function(e){return e.updateTicketType},fieldErrorMap:{}});function fr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fr(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var pr=Z.a.create({modal:mr(mr({},Z.a.absoluteFillObject),{},{paddingLeft:0,marginLeft:0,marginBottom:0,marginTop:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"red",display:"flex",width:"100%",height:"100%",flex:1,alignItems:"center"})}),gr=function(){var e=Object(I.c)((function(e){return e.forms.dropzoneWizard})),n=Object(I.c)((function(e){return e.forms.plane})),t=Object(I.c)((function(e){return e.forms.ticketType})),r=Object(I.c)((function(e){return e.forms.dropzone})),o=Object(I.b)(),i=xn({onError:function(e){return o(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(I.a.forms.dropzone.setFieldError([e,n]))}}),l=rr({onError:function(e){return o(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(I.a.forms.dropzone.setFieldError([e,n]))}}),s=or({onError:function(e){return o(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(I.a.forms.plane.setFieldError([e,n]))}}),c=lr({onError:function(e){return o(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(I.a.forms.plane.setFieldError([e,n]))}}),u=cr({onError:function(e){return o(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(I.a.forms.ticketType.setFieldError([e,n]))}}),d=dr({onError:function(e){return o(I.a.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return o(I.a.forms.ticketType.setFieldError([e,n]))}}),f=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.fields.name.value){e.next=3;break}return o(I.a.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),e.abrupt("return",!1);case 3:if(r.fields.federation.value){e.next=6;break}return o(I.a.forms.dropzone.setFieldError(["federation","Your dropzone must have an associated organization"])),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),null,null,null,Promise)}),[JSON.stringify(r.fields),r.original]),m=p.useCallback((function(){var e,n,t,s,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r.fields.primaryColor.value){d.next=3;break}return o(I.a.forms.dropzone.setFieldError(["primaryColor","Please pick a primary color"])),d.abrupt("return",!1);case 3:if(r.fields.secondaryColor.value){d.next=6;break}return o(I.a.forms.dropzone.setFieldError(["secondaryColor","Please pick an accent color"])),d.abrupt("return",!1);case 6:if(null!=(e=r.original)&&e.id){d.next=12;break}return d.next=9,a.a.awrap(i.mutate({federationId:Number(null==(n=r.fields.federation.value)?void 0:n.id),name:r.fields.name.value,banner:"",primaryColor:r.fields.primaryColor.value,secondaryColor:r.fields.secondaryColor.value}));case 9:d.t0=d.sent,d.next=15;break;case 12:return d.next=14,a.a.awrap(l.mutate({id:Number(r.original.id),federationId:Number(null==(t=r.fields.federation.value)?void 0:t.id),name:r.fields.name.value,primaryColor:r.fields.primaryColor.value,secondaryColor:r.fields.secondaryColor.value,banner:""}));case 14:d.t0=d.sent;case 15:if(u=d.t0,null!=(s=u.errors)&&s.length||null==(c=u.dropzone)||!c.id){d.next=22;break}return o(I.a.forms.dropzone.setOpen(u.dropzone)),o(I.a.global.setDropzone(u.dropzone)),o(I.a.global.setPrimaryColor(u.dropzone.primaryColor)),o(I.a.global.setAccentColor(u.dropzone.secondaryColor)),d.abrupt("return",!0);case 22:return d.abrupt("return",!1);case 23:case"end":return d.stop()}}),null,null,null,Promise)}),[JSON.stringify(r.fields),r.original]),g=p.useCallback((function(){var e,t,i,l;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.fields.name.value){u.next=3;break}return o(I.a.forms.plane.setFieldError(["name","You must name your aircraft"])),u.abrupt("return",!1);case 3:if(n.fields.registration.value){u.next=6;break}return o(I.a.forms.plane.setFieldError(["registration","Please provide aircraft registration"])),u.abrupt("return",!1);case 6:if(null!=(e=n.original)&&e.id){u.next=12;break}return u.next=9,a.a.awrap(s.mutate({dropzoneId:Number(r.original.id),name:n.fields.name.value,registration:n.fields.registration.value,minSlots:n.fields.minSlots.value,maxSlots:n.fields.maxSlots.value}));case 9:u.t0=u.sent,u.next=15;break;case 12:return u.next=14,a.a.awrap(c.mutate({id:Number(n.original.id),name:n.fields.name.value,registration:n.fields.registration.value,minSlots:n.fields.minSlots.value,maxSlots:n.fields.maxSlots.value}));case 14:u.t0=u.sent;case 15:if(l=u.t0,null!=(t=l.errors)&&t.length||null==(i=l.plane)||!i.id){u.next=19;break}return o(I.a.forms.plane.setOpen(l.plane)),u.abrupt("return",!0);case 19:return u.abrupt("return",!1);case 20:case"end":return u.stop()}}),null,null,null,Promise)}),[JSON.stringify(n.fields),r.original,JSON.stringify(n.original)]),b=p.useCallback((function(){var e,n,i,l;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t.fields.name.value){s.next=3;break}return o(I.a.forms.ticketType.setFieldError(["name","You must name your ticket"])),s.abrupt("return",!1);case 3:if(t.fields.cost.value){s.next=6;break}return o(I.a.forms.ticketType.setFieldError(["cost","Tickets must have a price"])),s.abrupt("return",!1);case 6:if(null!=(e=t.original)&&e.id){s.next=12;break}return s.next=9,a.a.awrap(u.mutate({dropzoneId:Number(r.original.id),name:t.fields.name.value,cost:t.fields.cost.value,altitude:t.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 9:s.t0=s.sent,s.next=15;break;case 12:return s.next=14,a.a.awrap(d.mutate({id:Number(t.original.id),name:t.fields.name.value,cost:t.fields.cost.value,altitude:t.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 14:s.t0=s.sent;case 15:if(l=s.t0,null!=(n=l.errors)&&n.length||null==(i=l.ticketType)||!i.id){s.next=19;break}return o(I.a.forms.ticketType.setOpen(l.ticketType)),s.abrupt("return",!0);case 19:return s.abrupt("return",!1);case 20:case"end":return s.stop()}}),null,null,null,Promise)}),[JSON.stringify(t.fields),r.original,JSON.stringify(t.original)]),y=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=0===n.t0?3:1===n.t0?4:2===n.t0?5:3===n.t0?6:4===n.t0?7:5===n.t0?8:17;break;case 3:return n.abrupt("return",f());case 4:return n.abrupt("return",m());case 5:return n.abrupt("return",g());case 6:return n.abrupt("return",b());case 7:return n.abrupt("return",!0);case 8:o(I.a.global.setDropzone(r.original)),o(I.a.forms.dropzoneWizard.setOpen(!1)),o(I.a.forms.dropzoneWizard.reset()),o(I.a.forms.ticketType.setOpen(!1)),o(I.a.forms.plane.setOpen(!1)),o(I.a.forms.dropzone.setOpen(!1)),o(I.a.forms.ticketType.reset()),o(I.a.forms.plane.reset()),o(I.a.forms.dropzone.reset());case 17:return n.abrupt("return",!1);case 18:case"end":return n.stop()}}),null,null,null,Promise)}),[f,m,g,b]);return p.createElement(nt.a,null,p.createElement(tt.a,{visible:e.open,dismissable:!1,style:pr.modal,contentContainerStyle:{height:"100%"}},p.createElement(st,{onCancel:function(){o(I.a.forms.dropzoneWizard.setOpen(!1)),o(I.a.forms.dropzoneWizard.reset()),o(I.a.forms.ticketType.setOpen(!1)),o(I.a.forms.plane.setOpen(!1)),o(I.a.forms.dropzone.setOpen(!1)),o(I.a.forms.ticketType.reset()),o(I.a.forms.plane.reset()),o(I.a.forms.dropzone.reset())},onNext:y,loading:i.loading||l.loading||s.loading||c.loading||u.loading||d.loading},p.createElement(At,null),p.createElement(Ht,null),p.createElement(Bt,null),p.createElement(nr,null),p.createElement(Gt,{title:"Who can manifest?",permission:an.a.CreateSlot}),p.createElement(Gt,{title:"Manifest other people?",permission:an.a.CreateUserSlot}))))};function br(){var e,n,t=Object(N.e)((function(e){return e.global})),r=Object(N.d)(),o=p.useRef(),s=p.useRef(),b=function(e){console.log(e);var n=k()(e.url).path();console.log(n)};return p.useEffect((function(){return function(){var e,n,t,r,o,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!l.a.isDevice){s.next=21;break}return s.next=3,a.a.awrap(c.a());case 3:if(n=s.sent,t=n.status,r=t,"granted"===t){s.next=12;break}return s.next=9,a.a.awrap(c.b());case 9:o=s.sent,i=o.status,r=i;case 12:if("granted"===r){s.next=15;break}return console.warn("Failed to get push token for push notification!"),s.abrupt("return");case 15:return s.next=17,a.a.awrap(u.a());case 17:e=s.sent.data,console.log(e),s.next=22;break;case 21:console.warn("Must use physical device for Push Notifications");case 22:return"android"===w.a.OS&&d.a("default",{name:"default",importance:f.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),s.abrupt("return",e);case 24:case"end":return s.stop()}}),null,null,null,Promise)}().then((function(e){return r(I.a.global.setExpoPushToken(e))})),o.current=m.a((function(e){r(I.a.notifications.showSnackbar({message:e.request.content.body,variant:"warning"}))})),s.current=m.b((function(e){console.log(e)})),S.a.addEventListener("url",b),function(){m.c(o.current),m.c(s.current),S.a.removeEventListener("url",b)}}),[]),p.createElement(p.Suspense,{fallback:p.createElement(O.a,{style:{flex:1,flexGrow:1}},p.createElement(v.a,{indeterminate:!0,color:null==t||null==(e=t.theme)||null==(n=e.colors)?void 0:n.accent,visible:!0}))},p.createElement(A,null,p.createElement(h.a,{theme:t.theme},p.createElement(g.b,null,p.createElement(C.a,{linking:Q,theme:t.theme},p.createElement(et,null)),p.createElement(i.a,null),p.createElement(Ut,null),p.createElement(gr,null),p.createElement(G.a,null)))))}function yr(){return function(){var e=p.useState(!1),n=L()(e,2),r=n[0],o=n[1],i=M.a({Inter_400Regular:q.a,Inter_500Medium:q.b,Inter_700Bold:q.c}),l=L()(i,1)[0];return p.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.b(),e.next=4,a.a.awrap(V.b(Y(Y({},W.a.font),{},{"space-mono":t(499)})));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.prev=8,o(!0),H.a(),e.finish(8);case 12:case"end":return e.stop()}}),null,null,[[0,6,8,12]],Promise)}),[]),r&&l}()?p.createElement(b.a,{store:N.c},p.createElement(y.a,{persistor:N.b,loading:p.createElement(O.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},p.createElement(E.a,{size:"large"}))},p.createElement(br,null))):null}s.a({handleNotification:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0});case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},42:function(e,n,t){"use strict";t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return u})),t.d(n,"d",(function(){return d})),t.d(n,"a",(function(){return f}));var r=t(9),a=t.n(r),o=t(4),i=t.n(o),l=t(38),s=t(0);function c(e){return{message:e,pattern:/.{1,}/}}function u(e){return{message:e,pattern:new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}function d(e,n){return{message:e,callback:n}}function f(e,n){var t=n.getPayload,r=n.fieldErrorMap,o=n.validates;return function(c){var u=c.onFieldError,d=c.onSuccess,f=c.onError,m=Object(l.useMutation)(e),p=a()(m,2),g=p[0],b=p[1],y=b.data,v=b.loading;b.error;return{loading:v,mutate:s.useCallback((function(e){var a,l,s,m,p,b;return i.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(function(){var t=!1;return o&&Object.keys(e).forEach((function(r){var a,i=r;i in(n.validates||{})&&(null==(a=o[i])||a.forEach((function(n){n.pattern?n.pattern.test(""+e[i])||(t=!0,u&&u(i,n.message)):n.callback&&!n.callback(e)&&(t=!0,u&&u(i,n.message))})))})),!t}()){y.next=3;break}return y.abrupt("return");case 3:return y.prev=3,y.next=6,i.a.awrap(g({variables:e}));case 6:if(m=y.sent,null==(p=t(m.data))||null==(a=p.fieldErrors)||a.map((function(e){var t=e.field,a=e.message,o=t in(r||{})?n.fieldErrorMap[t]:t;c.onFieldError&&c.onFieldError(""+o,a)})),null==p||null==(l=p.errors)||!l.length||!f){y.next=12;break}return null==(b=p.errors)||b.map((function(e){return f(e)})),y.abrupt("return");case 12:return null!=p&&null!=(s=p.fieldErrors)&&s.length||d(p),y.abrupt("return",p);case 16:y.prev=16,y.t0=y.catch(3),f&&f(y.t0.message);case 19:return y.abrupt("return");case 20:case"end":return y.stop()}}),null,null,[[3,16]],Promise)}),[u,f,d,,g,t,JSON.stringify(y)])}}}},446:function(e,n,t){e.exports=t(541)},499:function(e,n,t){e.exports=t.p+"./fonts/SpaceMono-Regular.ttf"},5:function(e,n,t){"use strict";var r=t(111);t.d(n,"a",(function(){return r.a})),t.d(n,"b",(function(){return r.d})),t.d(n,"c",(function(){return r.e}))},512:function(e,n){},81:function(e,n,t){"use strict";var r;t.d(n,"a",(function(){return r})),function(e){e.UpdateDropzone="updateDropzone",e.DeleteDropzone="deleteDropzone",e.CreateLoad="createLoad",e.UpdateLoad="updateLoad",e.DeleteLoad="deleteLoad",e.ReadLoad="readLoad",e.CreateSlot="createSlot",e.UpdateSlot="updateSlot",e.DeleteSlot="deleteSlot",e.CreateUserSlot="createUserSlot",e.CreateUserSlotWithSelf="createUserSlotWithSelf",e.UpdateUserSlot="updateUserSlot",e.DeleteUserSlot="deleteUserSlot",e.CreateStudentSlot="createStudentSlot",e.UpdateStudentSlot="updateStudentSlot",e.DeleteStudentSlot="deleteStudentSlot",e.CreateTicketType="createTicketType",e.UpdateTicketType="updateTicketType",e.DeleteTicketType="deleteTicketType",e.CreateExtra="createExtra",e.UpdateExtra="updateExtra",e.DeleteExtra="deleteExtra",e.ReadExtra="readExtra",e.CreatePlane="createPlane",e.UpdatePlane="updatePlane",e.DeletePlane="deletePlane",e.CreateRig="createRig",e.UpdateRig="updateRig",e.DeleteRig="deleteRig",e.ReadRig="readRig",e.CreateDropzoneRig="createDropzoneRig",e.UpdateDropzoneRig="updateDropzoneRig",e.DeleteDropzoneRig="deleteDropzoneRig",e.ReadDropzoneRig="readDropzoneRig",e.ReadPermissions="readPermissions",e.UpdatePermissions="updatePermissions",e.CreatePackjob="createPackjob",e.UpdatePackjob="updatePackjob",e.DeletePackjob="deletePackjob",e.ReadPackjob="readPackjob",e.CreateFormTemplate="createFormTemplate",e.UpdateFormTemplate="updateFormTemplate",e.DeleteFormTemplate="deleteFormTemplate",e.ReadFormTemplate="readFormTemplate",e.ReadUser="readUser",e.UpdateUser="updateUser",e.DeleteUser="deleteUser",e.CreateUser="createUser",e.ActAsPilot="actAsPilot",e.ActAsLoadMaster="actAsLoadMaster",e.ActAsGca="actAsGCA",e.ActAsDzso="actAsDZSO",e.ActAsRigInspector="actAsRigInspector",e.CreateUserTransaction="createUserTransaction",e.ReadUserTransactions="readUserTransactions",e.GrantPermission="grantPermission",e.RevokePermission="revokePermission"}(r||(r={}))},86:function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return a})),t.d(n,"b",(function(){return o}));var r="#00C851",a="#FF8800",o="#FF1414";n.a={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",success:r,error:"#ff4444",warning:a,info:"#0099CC"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",success:r,error:"#ff4444",warning:a,info:"#0099CC"}}},97:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r,a=t(31),o=t.n(a),i=t(38),l=t(32),s=t(5),c=Object(l.a)(r||(r=o()(["\nquery QueryPermissions($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n      primaryColor\n      secondaryColor\n      \n      currentUser {\n        id\n        role {\n          id\n          name\n        }\n        permissions\n      }\n\n    }\n  }"])));function u(e){var n,t,r=Object(s.c)((function(e){return e.global})).currentDropzoneId,a=Object(i.useQuery)(c,{variables:{dropzoneId:Number(r)}}).data,o=(null==a||null==(n=a.dropzone)||null==(t=n.currentUser)?void 0:t.permissions)||[];return(null==o?void 0:o.includes(e))||!1}}},[[446,3,4]]]);
//# sourceMappingURL=app.455a86e3.chunk.js.map