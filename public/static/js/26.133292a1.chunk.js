(this.webpackJsonp=this.webpackJsonp||[]).push([[26],{534:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(0),l=t(1),i=t(137),s=t(316),a=t(82);function o(e){var n=e.title,t=e.subtitle;return r.createElement(a.b,{style:c.empty},r.createElement(i.a,null,n),r.createElement(s.a,{style:{textAlign:"center"}},t))}var c=l.a.create({container:{flex:1,padding:8,display:"flex"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}})},698:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return S}));var r,l=t(22),i=t.n(l),s=t(57),a=t.n(s),o=t(49),c=t(50),u=t(58),d=t(0),m=t(1),f=t(326),b=t(56),g=t(240),h=t(318),p=t(331),v=t(534),y=t(181),z=t(19),E=Object(u.a)(r||(r=a()(["\n  query QueryDropzoneUsersSearch(\n    $dropzoneId: Int!\n    $search: String\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(search: $search, licensed: true) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              image\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function S(){var e,n,t,r,l,s,a,u=Object(z.c)((function(e){return e.global})),m=Object(z.c)((function(e){return e.screens.manifest})),S=Object(z.b)(),j=Object(o.useQuery)(E,{variables:{dropzoneId:Number(null==(e=u.currentDropzone)?void 0:e.id),search:m.searchText}}),I=j.data,O=j.loading,k=Object(c.useNavigation)(),x=(Object(c.useRoute)(),Object(c.useIsFocused)());return d.useEffect((function(){m.isSearchVisible&&S(z.a.screens.manifest.setSearchVisible(!1))}),[x]),d.createElement(d.Fragment,null,d.createElement(f.a,{indeterminate:!0,color:u.theme.colors.accent,visible:O}),d.createElement(y.a,{contentContainerStyle:{paddingHorizontal:0}},!(null!=I&&null!=(n=I.dropzone)&&null!=(t=n.dropzoneUsers)&&null!=(r=t.edges)&&r.length)&&d.createElement(v.a,{title:"No users",subtitle:""}),null==I||null==(l=I.dropzone)||null==(s=l.dropzoneUsers)||null==(a=s.edges)?void 0:a.map((function(e){var n,t,r,l;return d.createElement(d.Fragment,null,d.createElement(b.b.Item,{style:{width:"100%"},key:"user-"+(null==e||null==(n=e.node)?void 0:n.id),title:null==e||null==(t=e.node)?void 0:t.user.name,description:null==e||null==(r=e.node)||null==(l=r.role)?void 0:l.name,left:function(){var n,t,r;return null!=e&&null!=(n=e.node)&&null!=(t=n.user)&&t.image?d.createElement(b.a.Image,{source:{uri:null==e||null==(r=e.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:12},size:32}):d.createElement(b.b.Icon,{icon:"account"})},right:function(){var n;return d.createElement(g.a.Android,{status:null!=(n=m.selectedUsers)&&n.map((function(e){return e.id})).includes(e.node.id)?"checked":"unchecked"})},onPress:function(){var n,t;return S(z.a.screens.manifest.setSelected(null!=(n=m.selectedUsers)&&n.find((function(n){var t;return n.id===""+(null==e||null==(t=e.node)?void 0:t.id)}))?null==(t=m.selectedUsers)?void 0:t.filter((function(n){var t;return n.id!==""+(null==e||null==(t=e.node)?void 0:t.id)})):[].concat(i()(m.selectedUsers),[e.node])))}}),d.createElement(h.a,{style:{width:"100%"},key:"divider-"+(null==e?void 0:e.node.id)}))}))),d.createElement(p.a,{style:U.fab,small:!0,visible:m.selectedUsers.length>0,icon:"check",onPress:function(){S(z.a.forms.manifestGroup.setDropzoneUsers(m.selectedUsers)),k.setParams({select:!1}),S(z.a.screens.manifest.setSearchVisible(!1)),S(z.a.screens.manifest.setSelected([])),k.navigate("ManifestGroupScreen")},label:"Next"}))}var U=m.a.create({container:{flex:1},fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}})}}]);
//# sourceMappingURL=26.133292a1.chunk.js.map